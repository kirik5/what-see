{"version":3,"sources":["components/full-video-player/video-player/video-player.module.css","components/sing-in/sing-in-form/sing-in-form.jsx","components/common/visually-hidden/visually-hidden.jsx","mocks/films.js","api-mock.js","reducers/films-slice.js","reducers/myfilmlist-slice.js","components/common/logo/logo.jsx","components/common/button-view-my-list/button-view-my-list.jsx","reducers/authorization-slice.js","components/common/avatar/avatar.jsx","images/avatar.jpg","components/common/button-play/button-play.jsx","components/common/button-add-to-my-list/button-add-to-my-list.jsx","components/common/main-movie-card/MainMovieCard.jsx","components/main/films-filter/films-filter.jsx","components/common/page-footer/page-footer.jsx","components/main/ShowMore/show-more.jsx","components/main/movies-list/small-movie-card/video-player/video-player.jsx","components/main/movies-list/small-movie-card/small-movie-card.jsx","components/common/error-loading/error-loading.jsx","components/main/movies-list/movies-list.jsx","components/main/movies-list/genre-movies-list.jsx","components/main/main.jsx","components/film-detail/tabs/tabs.jsx","components/common/catalog-like-this/catalog-like-this.jsx","components/film-detail/film-detail.jsx","components/common/loading/loading.jsx","components/full-video-player/video-player/get-time.js","components/full-video-player/video-player/video-player-obj.js","components/full-video-player/video-player/offset-left-width.js","components/full-video-player/video-player/video-player.jsx","components/full-video-player/exit-button/exit-button.jsx","components/full-video-player/full-video-player.jsx","components/sing-in/sing-in.jsx","components/main/movies-list/my-favorite-movies-list.jsx","components/my-list/my-list.jsx","hoc/redirect-to-login.js","components/common/no-match/no-match.jsx","components/app/app.jsx","reducers/store.js","index.js","components/common/loading/loading.module.css"],"names":["module","exports","min","VisuallyHidden","className","xmlns","xmlnsXlink","id","viewBox","stroke","strokeWidth","fill","fillRule","points","clipRule","d","fillOpacity","films","serverAPI","getFilms","Promise","resolve","reject","setTimeout","authorizing","user","password","filmsAdapter","createEntityAdapter","initialState","getInitialState","status","error","countOfFilmsInPage","countOfFilmsInLikePage","genre","fetchFilms","createAsyncThunk","a","filmsSlice","createSlice","name","reducers","addCountOfFilmsInPage","state","addCountOfFilmsInLikePage","resetCountOfFilmsInPage","resetCountOfFilmsInLikePage","extraReducers","builder","addCase","pending","fulfilled","action","setAll","payload","rejected","message","actions","getSelectors","selectFilms","selectAll","selectFilmById","selectById","getAllFilmsIdsLength","genreType","createSelector","ids","allFilmsIds","allFilms","filter","film","toLowerCase","map","length","getAllGenres","Object","values","entities","filmsArray","allGenres","Set","forEach","add","sort","b","unshift","getFilmsName","getFilmsPreview","preview_image","getFimlsPoster","poster_image","getFimlsBg","background_image","getFimlsGenre","getFimlsReleased","released","isErrorLoadingFilms","getInitializingStatus","favoriteFilms","myFilmListSlice","addFilm","push","Number","removeFilm","elementIndex","indexOf","splice","clearFavoriteFilms","addCountOfFavoriteFilmsInPage","resetCountOfFavoriteFilmsInPage","setOfFavoriteFilms","myFilmList","canShowMoreOfFavorite","favoriteFilmsIdsLength","getFavoriteFilmsIds","favoriteFilmsIds","slice","Logo","classAlign","dispatch","useDispatch","classes","to","join","onClick","ButtonViewMyList","history","useHistory","type","authorizationSlice","loading","failed","logout","isAuthorized","authorization","Avatar","isUserAuthorized","useSelector","style","cursor","src","alt","width","height","color","ButtonPlay","filmId","justifyContent","ButtonAddToMyList","isInFavoriteFilms","set","has","isFilmInFavoriteList","xlink","getState","numberId","addRemoveFilmInList","xlinkHref","MainMovieCard","filmsName","filmsPoster","filmsBg","filmsGenre","filmsReleased","FilmsFilter","clickLinkHandler","index","classNameActive","PageFooter","ShowMore","from","VideoPlayer","previewVideoLink","videoRef","useRef","ref","muted","loop","autoPlay","SmallMovieCard","previewImage","preview_video_link","getFilmsPreviewVideo","useState","activeFilm","setActiveFilm","timerId","setTimerId","useEffect","clearTimeout","onMouseEnter","console","log","onMouseLeave","href","ErrorLoading","styles","loaderBackground","errorMessage","MoviesList","filmsIds","isErrorLoadingFilmsList","GenreMoviesList","selectedFilmsIds","getFilmsIds","Main","canShow","allSelectedFilmsIdsLength","canShowMore","initializationStatus","TabTitle","title","useRouteMatch","path","Overviews","filmsRating","filmsDescription","filmsDirector","filmsStarring","Details","filmsRunTime","el","content","Reviews","dateTime","Actors","Tabs","tabsTitle","description","rating","getFimlsRating","director","getFimlsDirector","starring","getFimlsStarring","run_time","getFimlsRunTime","element","render","match","params","CatalogLikeThis","canShowMoreOfLike","FilmDetail","filmsBgColor","background_color","getFimlsBgColor","window","scrollTo","backgroundColor","Loading","loader","getSeconds","sec","s","Math","floor","String","getMinutes","m","getHours","h","VideoPlayerObj","settings","_showClickToPlayLabelHandler","_video","elem","removeEventListener","_loader","hide","_clickToPlayLabel","show","addEventListener","_clickToPlayLabelHandler","document","_pressSpaceToPlayLabelHandler","canPlay","evt","code","_initialPlayer","_controls","_volume","play","unmute","changeVolume","didPlayed","pause","_planingToHideControlsAndVolumeHandler","_calculateNewPositionPointerProgress","currentTime","duration","_showTimesHandler","time","_aTime","innerHTML","_cTime","_updateVideoTime","_videoPointer","changePosition","_videoProgress","_startDragVideoPointer","moveArrows","moveVideoPointer","newPosition","_calculateNewPositionPointerProgressOnDrag","clientX","persent","changeCurrentVideoTime","mouseUp","isShowing","clickOnVideoPointer","playing","stop","_canplaythrough","clickOnVideoProgress","_canplayHandler","waiting","_mousedownOnProgressBarToRewindVideoHandler","_mouseupOnProgressBarToRewindVideoHandler","x","offsetLeft","containerElement","container","offsetParent","getOffsetLeft","offsetWidth","_showTimeChangeProgressPointerPosition","_pressedArrowsLeftRightKeyDownHandler","_pressedArrowsLeftRightKeyUpHandler","_playPauseVideo","_pause","_pressedSpaceKeyHandler","_changeVolumeScrollHandler","delta","deltaY","detail","wheelDelta","toFixed","volume","progress","_planingToHideVolumeHandler","_changeVolumeArrowsHandler","_changeVolumeClickHandler","y","clientY","offsetTop","getOffsetTop","isVisible","_timerId","_inControls","moving","_timeout","_mouseEnterToControlsHandler","_mouseLeaveToControlsHandler","_fullScreenModeHandler","fullscreenElement","cancelFullScreen","mozCancelFullScreen","webkitCancelFullScreen","_videoBackground","requestFullScreen","mozRequestFullScreen","webkitRequestFullScreen","_videoContainer","removeEventListeners","ondragstart","_changeVideoPlayingStatus","playingHandler","waitingHandler","showMarkers","setInterval","clear","this","Video","video","ClickToPlayLabel","clickToPlayLabel","Volume","volumeContainer","volumeProgress","Controls","controls","VideoPointer","videoPointer","VideoProgress","videoProgress","Pause","CTime","cTime","ATime","aTime","VideoContainer","videoContainer","VideoBackground","videoBackground","Loader","timeout","classList","_styles","remove","paused","level","mute","newTime","left","videoLink","posterLink","filmName","progressContainer","toggler","background","controlsPanel","currTime","allTime","videoPlayer","current","playerBackground","player_container","player","poster","player_controls","progress_bar","current_time","all_time","film_name","volume_container","volume_progress","horizontal_line","clickToPlay","ExitButton","goBack","FullVideoPlayer","location","useLocation","URLSearchParams","search","get","filmFullLink","video_link","filmPoster","renderField","props","input","placeholder","meta","touched","warning","htmlFor","required","value","undefined","email","test","minLength8","reduxForm","form","handleSubmit","pristine","submitting","onSubmit","Field","component","validate","disabled","SingIn","mailPass","response","back","stopSubmit","_error","MyFavoriteMoviesList","withRedirectToLogin","Component","pathname","referrer","NoMatch","App","isInitialization","exact","store","configureStore","reducer","filmsReducer","authorizationReducer","myFilmListSliceReducer","formReducer","ReactDOM","getElementById"],"mappings":"8FACAA,EAAOC,QAAU,CAAC,iBAAmB,uCAAuC,iBAAmB,uCAAuC,OAAS,6BAA6B,gBAAkB,sCAAsC,wBAAwB,4CAA4C,aAAe,mCAAmC,qBAAqB,yCAAyC,QAAU,8BAA8B,MAAQ,4BAA4B,cAAc,kCAAkC,gBAAkB,sCAAsC,iBAAmB,uCAAuC,yBAAyB,6CAA6C,gBAAkB,sCAAsC,YAAc,kCAAkC,oBAAoB,wCAAwC,KAAO,2BAA2B,aAAe,mCAAmC,UAAY,gCAAgC,OAAS,6BAA6B,eAAe,qC,kEC4BnhCC,E,+BCsBHC,EAhDQ,WACnB,OACI,qBAAKC,UAAU,kBAAf,SACI,sBAAKC,MAAM,6BAA6BC,WAAW,+BAAnD,UACI,yBAAQC,GAAG,MAAMC,QAAQ,YAAzB,UACI,sCACA,wDACA,mBAAGD,GAAG,SAASE,OAAO,OAAOC,YAAY,IAAIC,KAAK,OAAOC,SAAS,UAAlE,SACI,yBACIL,GAAG,IACHI,KAAK,UACLE,OAAO,iRAGnB,yBAAQN,GAAG,cAAcC,QAAQ,YAAjC,UACI,sBAAMI,SAAS,UAAUE,SAAS,UAC5BC,EAAE,yDACFJ,KAAK,UAAUK,YAAY,QACjC,sBAAMJ,SAAS,UAAUE,SAAS,UAC5BC,EAAE,8DAA8DJ,KAAK,UACrEK,YAAY,QAClB,sBAAMJ,SAAS,UAAUE,SAAS,UAC5BC,EAAE,4EAA4EJ,KAAK,UACnFK,YAAY,QAClB,sBAAMJ,SAAS,UAAUE,SAAS,UAC5BC,EAAE,oEAAoEJ,KAAK,UAC3EK,YAAY,WAEtB,wBAAQT,GAAG,UAAUC,QAAQ,YAA7B,SACI,sBAAMI,SAAS,UAAUE,SAAS,UAC5BC,EAAE,6FACFJ,KAAK,cAEf,yBAAQJ,GAAG,QAAQC,QAAQ,YAA3B,UACI,6CACA,wDACA,oBAAGD,GAAG,WAAWE,OAAO,OAAOC,YAAY,IAAIC,KAAK,OAAOC,SAAS,UAApE,UACI,yBAASL,GAAG,OAAOI,KAAK,UAAUC,SAAS,UAClCC,OAAO,kDAChB,yBAASN,GAAG,OAAOI,KAAK,UAAUC,SAAS,UAClCC,OAAO,kE,0DCwrBzBI,EAnuBD,CACZ,CACE,KAAQ,iBACR,aAAgB,iCAChB,cAAiB,0BACjB,iBAAoB,0BACpB,iBAAoB,UACpB,YAAe,+HACf,OAAU,IACV,aAAgB,QAChB,SAAY,kBACZ,SAAY,CACV,oBACA,iBACA,gBAEF,SAAY,IACZ,MAAS,WACT,SAAY,KACZ,GAAM,EACN,aAAe,EACf,WAAc,qEACd,mBAAsB,4IAExB,CACE,KAAQ,UACR,aAAgB,0BAChB,cAAiB,mBACjB,iBAAoB,mBACpB,iBAAoB,UACpB,YAAe,kOACf,OAAU,IACV,aAAgB,OAChB,SAAY,uBACZ,SAAY,CACV,YACA,cACA,iBAEF,SAAY,GACZ,MAAS,SACT,SAAY,KACZ,GAAM,EACN,aAAe,EACf,WAAc,qEACd,mBAAsB,4IAExB,CACE,KAAQ,8CACR,aAAgB,mCAChB,cAAiB,4BACjB,iBAAoB,4BACpB,iBAAoB,UACpB,YAAe,yXACf,OAAU,IACV,aAAgB,OAChB,SAAY,cACZ,SAAY,CACV,iBACA,sBACA,cAEF,SAAY,IACZ,MAAS,UACT,SAAY,KACZ,GAAM,EACN,aAAe,EACf,WAAc,wDACd,mBAAsB,uEAExB,CACE,KAAQ,4BACR,aAAgB,4CAChB,cAAiB,qCACjB,iBAAoB,qCACpB,iBAAoB,UACpB,YAAe,iIACf,OAAU,IACV,aAAgB,KAChB,SAAY,kBACZ,SAAY,CACV,eACA,aACA,qBAEF,SAAY,GACZ,MAAS,SACT,SAAY,KACZ,GAAM,EACN,aAAe,EACf,WAAc,wDACd,mBAAsB,uEAExB,CACE,KAAQ,SACR,aAAgB,yBAChB,cAAiB,kBACjB,iBAAoB,kBACpB,iBAAoB,UACpB,YAAe,wIACf,OAAU,IACV,aAAgB,QAChB,SAAY,qBACZ,SAAY,CACV,eACA,qBACA,oBAEF,SAAY,IACZ,MAAS,SACT,SAAY,KACZ,GAAM,EACN,aAAe,EACf,WAAc,wDACd,mBAAsB,uEAExB,CACE,KAAQ,oBACR,aAAgB,wCAChB,cAAiB,iCACjB,iBAAoB,iCACpB,iBAAoB,UACpB,YAAe,4IACf,OAAU,IACV,aAAgB,OAChB,SAAY,kBACZ,SAAY,CACV,oBACA,eACA,oBAEF,SAAY,IACZ,MAAS,QACT,SAAY,KACZ,GAAM,EACN,aAAe,EACf,WAAc,wDACd,mBAAsB,uEAExB,CACE,KAAQ,oBACR,aAAgB,mCAChB,cAAiB,4BACjB,iBAAoB,4BACpB,iBAAoB,UACpB,YAAe,i1BACf,OAAU,IACV,aAAgB,OAChB,SAAY,eACZ,SAAY,CACV,aACA,eACA,cAEF,SAAY,IACZ,MAAS,QACT,SAAY,KACZ,GAAM,GACN,aAAe,EACf,WAAc,wDACd,mBAAsB,4IAExB,CACE,KAAQ,oBACR,aAAgB,mCAChB,cAAiB,4BACjB,iBAAoB,4BACpB,iBAAoB,UACpB,YAAe,i1BACf,OAAU,IACV,aAAgB,OAChB,SAAY,eACZ,SAAY,CACV,aACA,eACA,cAEF,SAAY,IACZ,MAAS,QACT,SAAY,KACZ,GAAM,GACN,aAAe,EACf,WAAc,wDACd,mBAAsB,4IAExB,CACE,KAAQ,oBACR,aAAgB,mCAChB,cAAiB,4BACjB,iBAAoB,4BACpB,iBAAoB,UACpB,YAAe,i1BACf,OAAU,IACV,aAAgB,OAChB,SAAY,eACZ,SAAY,CACV,aACA,eACA,cAEF,SAAY,IACZ,MAAS,QACT,SAAY,KACZ,GAAM,GACN,aAAe,EACf,WAAc,wDACd,mBAAsB,4IAExB,CACE,KAAQ,oBACR,aAAgB,mCAChB,cAAiB,4BACjB,iBAAoB,4BACpB,iBAAoB,UACpB,YAAe,i1BACf,OAAU,IACV,aAAgB,OAChB,SAAY,eACZ,SAAY,CACV,aACA,eACA,cAEF,SAAY,IACZ,MAAS,QACT,SAAY,KACZ,GAAM,GACN,aAAe,EACf,WAAc,wDACd,mBAAsB,4IAExB,CACE,KAAQ,oBACR,aAAgB,mCAChB,cAAiB,4BACjB,iBAAoB,4BACpB,iBAAoB,UACpB,YAAe,i1BACf,OAAU,IACV,aAAgB,OAChB,SAAY,eACZ,SAAY,CACV,aACA,eACA,cAEF,SAAY,IACZ,MAAS,QACT,SAAY,KACZ,GAAM,GACN,aAAe,EACf,WAAc,wDACd,mBAAsB,4IAExB,CACE,KAAQ,oBACR,aAAgB,mCAChB,cAAiB,4BACjB,iBAAoB,4BACpB,iBAAoB,UACpB,YAAe,i1BACf,OAAU,IACV,aAAgB,OAChB,SAAY,eACZ,SAAY,CACV,aACA,eACA,cAEF,SAAY,IACZ,MAAS,QACT,SAAY,KACZ,GAAM,GACN,aAAe,EACf,WAAc,wDACd,mBAAsB,4IAExB,CACE,KAAQ,oBACR,aAAgB,mCAChB,cAAiB,4BACjB,iBAAoB,4BACpB,iBAAoB,UACpB,YAAe,i1BACf,OAAU,IACV,aAAgB,OAChB,SAAY,eACZ,SAAY,CACV,aACA,eACA,cAEF,SAAY,IACZ,MAAS,QACT,SAAY,KACZ,GAAM,GACN,aAAe,EACf,WAAc,wDACd,mBAAsB,4IAExB,CACE,KAAQ,oBACR,aAAgB,mCAChB,cAAiB,4BACjB,iBAAoB,4BACpB,iBAAoB,UACpB,YAAe,i1BACf,OAAU,IACV,aAAgB,OAChB,SAAY,eACZ,SAAY,CACV,aACA,eACA,cAEF,SAAY,IACZ,MAAS,QACT,SAAY,KACZ,GAAM,EACN,aAAe,EACf,WAAc,wDACd,mBAAsB,4IAExB,CACE,KAAQ,UACR,aAAgB,0BAChB,cAAiB,mBACjB,iBAAoB,mBACpB,iBAAoB,UACpB,YAAe,mIACf,OAAU,IACV,aAAgB,OAChB,SAAY,kBACZ,SAAY,CACV,oBACA,iBACA,mBAEF,SAAY,IACZ,MAAS,QACT,SAAY,KACZ,GAAM,EACN,aAAe,EACf,WAAc,wDACd,mBAAsB,uEAExB,CACE,KAAQ,SACR,aAAgB,yBAChB,cAAiB,kBACjB,iBAAoB,kBACpB,iBAAoB,UACpB,YAAe,uFACf,OAAU,IACV,aAAgB,OAChB,SAAY,kBACZ,SAAY,CACV,YACA,iBACA,iBAEF,SAAY,IACZ,MAAS,QACT,SAAY,KACZ,GAAM,EACN,aAAe,EACf,WAAc,qEACd,mBAAsB,4IAExB,CACE,KAAQ,QACR,aAAgB,wBAChB,cAAiB,iBACjB,iBAAoB,iBACpB,iBAAoB,UACpB,YAAe,sNACf,OAAU,IACV,aAAgB,OAChB,SAAY,cACZ,SAAY,CACV,oBACA,cACA,8BAEF,SAAY,IACZ,MAAS,YACT,SAAY,IACZ,GAAM,GACN,aAAe,EACf,WAAc,wDACd,mBAAsB,uEAExB,CACE,KAAQ,iBACR,aAAgB,iCAChB,cAAiB,0BACjB,iBAAoB,0BACpB,iBAAoB,UACpB,YAAe,gIACf,OAAU,GACV,aAAgB,OAChB,SAAY,eACZ,SAAY,CACV,iBACA,iBACA,qBAEF,SAAY,GACZ,MAAS,SACT,SAAY,KACZ,GAAM,GACN,aAAe,EACf,WAAc,qEACd,mBAAsB,4IAExB,CACE,KAAQ,eACR,aAAgB,2BAChB,cAAiB,oBACjB,iBAAoB,oBACpB,iBAAoB,UACpB,YAAe,iKACf,OAAU,EACV,aAAgB,OAChB,SAAY,8BACZ,SAAY,CACV,oBACA,YACA,gBAEF,SAAY,IACZ,MAAS,SACT,SAAY,KACZ,GAAM,GACN,aAAe,EACf,WAAc,wDACd,mBAAsB,4IAExB,CACE,KAAQ,oBACR,aAAgB,oCAChB,cAAiB,6BACjB,iBAAoB,6BACpB,iBAAoB,UACpB,YAAe,yFACf,OAAU,IACV,aAAgB,OAChB,SAAY,mBACZ,SAAY,CACV,aACA,iBACA,eAEF,SAAY,IACZ,MAAS,YACT,SAAY,KACZ,GAAM,GACN,aAAe,EACf,WAAc,wDACd,mBAAsB,uEAExB,CACE,KAAQ,UACR,aAAgB,0BAChB,cAAiB,mBACjB,iBAAoB,mBACpB,iBAAoB,UACpB,YAAe,4OACf,OAAU,IACV,aAAgB,MAChB,SAAY,gBACZ,SAAY,CACV,qBACA,mBACA,gBAEF,SAAY,IACZ,MAAS,QACT,SAAY,KACZ,GAAM,GACN,aAAe,EACf,WAAc,wDACd,mBAAsB,uEAExB,CACE,KAAQ,iBACR,aAAgB,iCAChB,cAAiB,0BACjB,iBAAoB,0BACpB,iBAAoB,UACpB,YAAe,8GACf,OAAU,IACV,aAAgB,OAChB,SAAY,iBACZ,SAAY,CACV,YACA,iBACA,eAEF,SAAY,IACZ,MAAS,QACT,SAAY,KACZ,GAAM,GACN,aAAe,EACf,WAAc,wDACd,mBAAsB,uEAExB,CACE,KAAQ,UACR,aAAgB,0BAChB,cAAiB,mBACjB,iBAAoB,mBACpB,iBAAoB,UACpB,YAAe,0RACf,OAAU,IACV,aAAgB,MAChB,SAAY,eACZ,SAAY,CACV,gBACA,aACA,iBAEF,SAAY,GACZ,MAAS,QACT,SAAY,KACZ,GAAM,GACN,aAAe,EACf,WAAc,wDACd,mBAAsB,4IAExB,CACE,KAAQ,mBACR,aAAgB,oEAChB,cAAiB,6DACjB,iBAAoB,6DACpB,iBAAoB,UACpB,YAAe,4GACf,OAAU,IACV,aAAgB,MAChB,SAAY,eACZ,SAAY,CACV,kBACA,gBACA,kBAEF,SAAY,IACZ,MAAS,SACT,SAAY,KACZ,GAAM,GACN,aAAe,EACf,WAAc,wDACd,mBAAsB,4IAExB,CACE,KAAQ,uBACR,aAAgB,wEAChB,cAAiB,iEACjB,iBAAoB,iEACpB,iBAAoB,UACpB,YAAe,+IACf,OAAU,IACV,aAAgB,OAChB,SAAY,sBACZ,SAAY,CACV,YACA,gBACA,WAEF,SAAY,IACZ,MAAS,YACT,SAAY,KACZ,GAAM,GACN,aAAe,EACf,WAAc,qEACd,mBAAsB,4IAExB,CACE,KAAQ,yBACR,aAAgB,0EAChB,cAAiB,mEACjB,iBAAoB,mEACpB,iBAAoB,UACpB,YAAe,+IACf,OAAU,IACV,aAAgB,OAChB,SAAY,aACZ,SAAY,CACV,kBACA,gBACA,eAEF,SAAY,IACZ,MAAS,QACT,SAAY,KACZ,GAAM,GACN,aAAe,EACf,WAAc,wDACd,mBAAsB,uEAExB,CACE,KAAQ,sBACR,aAAgB,sEAChB,cAAiB,+DACjB,iBAAoB,+DACpB,iBAAoB,UACpB,YAAe,0HACf,OAAU,IACV,aAAgB,OAChB,SAAY,eACZ,SAAY,CACV,cACA,eACA,qBAEF,SAAY,GACZ,MAAS,YACT,SAAY,KACZ,GAAM,GACN,aAAe,EACf,WAAc,wDACd,mBAAsB,4IAExB,CACE,KAAQ,SACR,aAAgB,0DAChB,cAAiB,mDACjB,iBAAoB,mDACpB,iBAAoB,UACpB,YAAe,oLACf,OAAU,GACV,aAAgB,OAChB,SAAY,cACZ,SAAY,CACV,gBACA,YACA,oBAEF,SAAY,IACZ,MAAS,SACT,SAAY,IACZ,GAAM,GACN,aAAe,EACf,WAAc,qEACd,mBAAsB,4IAExB,CACE,KAAQ,eACR,aAAgB,gEAChB,cAAiB,yDACjB,iBAAoB,yDACpB,iBAAoB,UACpB,YAAe,gJACf,OAAU,IACV,aAAgB,QAChB,SAAY,oBACZ,SAAY,CACV,gBACA,cACA,qBAEF,SAAY,IACZ,MAAS,QACT,SAAY,KACZ,GAAM,GACN,aAAe,EACf,WAAc,wDACd,mBAAsB,uEAExB,CACE,KAAQ,8BACR,aAAgB,+EAChB,cAAiB,wEACjB,iBAAoB,wEACpB,iBAAoB,UACpB,YAAe,0LACf,OAAU,IACV,aAAgB,OAChB,SAAY,eACZ,SAAY,CACV,iBACA,cACA,sBAEF,SAAY,IACZ,MAAS,QACT,SAAY,KACZ,GAAM,GACN,aAAe,EACf,WAAc,wDACd,mBAAsB,uEAExB,CACE,KAAQ,mBACR,aAAgB,oEAChB,cAAiB,6DACjB,iBAAoB,6DACpB,iBAAoB,UACpB,YAAe,iHACf,OAAU,IACV,aAAgB,OAChB,SAAY,eACZ,SAAY,CACV,eACA,eACA,gBAEF,SAAY,GACZ,MAAS,YACT,SAAY,KACZ,GAAM,GACN,aAAe,EACf,WAAc,qEACd,mBAAsB,uEAExB,CACE,KAAQ,8BACR,aAAgB,+EAChB,cAAiB,wEACjB,iBAAoB,+EACpB,iBAAoB,UACpB,YAAe,+NACf,OAAU,IACV,aAAgB,OAChB,SAAY,eACZ,SAAY,CACV,gBACA,iBACA,eAEF,SAAY,IACZ,MAAS,QACT,SAAY,KACZ,GAAM,GACN,aAAe,EACf,WAAc,qEACd,mBAAsB,6ICxsBXC,EANG,CACdC,SAfa,kBAAM,IAAIC,SAAQ,SAACC,EAASC,GACzCC,YAAW,WACPF,EAAQJ,KAET,SAYHO,YATgB,SAAC,GAAD,EAAEC,KAAF,EAAQC,SAAR,OAAsB,IAAIN,SAAQ,SAACC,EAASC,GAC5DC,YAAW,WACPF,EAAQ,CAACI,KAAM,YAEhB,UCVDE,EAAeC,cAEfC,EAAeF,EAAaG,gBAAgB,CAC9CC,OAAQ,OACRC,MAAO,KACPC,mBAAoB,EACpBC,uBAAwB,EACxBC,MAAO,eAGEC,EAAaC,YAAiB,mBAAD,sBAAqB,sBAAAC,EAAA,sEAC9CpB,EAAUC,WADoC,oFAIzDoB,EAAaC,YAAY,CAC3BC,KAAM,QACNZ,eACAa,SAAU,CACNC,sBADM,SACgBC,GAClBA,EAAMX,oBAAsB,GAEhCY,0BAJM,SAIoBD,GACtBA,EAAMV,wBAA0B,GAEpCY,wBAPM,SAOkBF,GACpBA,EAAMX,mBAAqB,GAE/Bc,4BAVM,SAUsBH,GACxBA,EAAMV,uBAAyB,IAGvCc,cAAe,SAAAC,GACXA,EACKC,QAAQd,EAAWe,SAAS,SAACP,GAC1BA,EAAMb,OAAS,aAElBmB,QAAQd,EAAWgB,WAAW,SAACR,EAAOS,GACnC1B,EAAa2B,OAAOV,EAAOS,EAAOE,SAClCX,EAAMb,OAAS,eAElBmB,QAAQd,EAAWoB,UAAU,SAACZ,EAAOS,GAClCT,EAAMb,OAAS,SACfa,EAAMZ,MAAQqB,EAAOrB,MAAMyB,cAKpC,EAAiHlB,EAAWmB,QAArHf,EAAP,EAAOA,sBAAuBG,EAA9B,EAA8BA,wBAAyBD,EAAvD,EAAuDA,0BAA2BE,EAAlF,EAAkFA,4BAE1ER,IAAf,QAGA,EAGIZ,EAAagC,cAAa,SAAAf,GAAK,OAAIA,EAAM3B,SAF9B2C,EADf,EACIC,UACYC,EAFhB,EAEIC,WA6CSC,EAAuB,SAACC,GAAD,OAAeC,aAC/C,SAAAtB,GAAK,OAAIA,EAAM3B,MAAMkD,MACrBP,GACA,SAACQ,EAAaC,GAQV,OANKJ,EAGkBI,EAASC,QAAO,SAAAC,GAAI,OAAIA,EAAKpC,MAAMqC,gBAAkBP,EAAUO,iBAAeC,KAAI,SAAAF,GAAI,OAAIA,EAAKhE,MAF/F6D,GAKCM,WAqBnBC,EAAeT,aACxB,SAAAtB,GAAK,OAAIgC,OAAOC,OAAOjC,EAAM3B,MAAM6D,aACnC,SAAAC,GACI,IAAIC,EAAY,IAAIC,IAMpB,OALAF,EAAWG,SAAQ,SAAAX,GACfS,EAAUG,IAAIZ,EAAKpC,WAEvB6C,EAAY,YAAIA,GAAWI,MAAK,SAAC9C,EAAG+C,GAAJ,OAAU/C,EAAI+C,EAAI,GAAK,MAC7CC,QAAQ,cACXN,KAIFO,EAAe,SAAAhF,GAAE,OAAI,SAAAqC,GAAK,OAAIA,EAAM3B,MAAM6D,SAASvE,GAAIkC,OACvD+C,EAAkB,SAAAjF,GAAE,OAAI,SAAAqC,GAAK,OAAIA,EAAM3B,MAAM6D,SAASvE,GAAIkF,gBAE1DC,EAAiB,SAAAnF,GAAE,OAAI,SAAAqC,GAAK,OAAIA,EAAM3B,MAAM6D,SAASvE,GAAIoF,eACzDC,EAAa,SAAArF,GAAE,OAAI,SAAAqC,GAAK,OAAIA,EAAM3B,MAAM6D,SAASvE,GAAIsF,mBAIrDC,EAAgB,SAAAvF,GAAE,OAAI,SAAAqC,GAAK,OAAIkB,EAAelB,EAAOrC,GAAI4B,QACzD4D,EAAmB,SAAAxF,GAAE,OAAI,SAAAqC,GAAK,OAAIkB,EAAelB,EAAOrC,GAAIyF,WAK5DC,EAAsB,SAAArD,GAAK,OAAIA,EAAM3B,MAAMe,OAC3CkE,EAAwB,SAAAtD,GAAK,OAAIA,EAAM3B,MAAMc,Q,OCjKpDF,EAAe,CACjBsE,cAAe,GACflE,mBAAoB,GAIlBmE,EAAkB5D,YAAY,CAChCC,KAAM,aACNZ,eACAa,SAAU,CACN2D,QADM,SACEzD,EAAOS,GACXT,EAAMuD,cAAcG,KAAKC,OAAOlD,EAAOE,WAE3CiD,WAJM,SAIK5D,EAAOS,GACd,IAAMoD,EAAe7D,EAAMuD,cAAcO,QAAQrD,EAAOE,SACxDX,EAAMuD,cAAcQ,OAAOF,EAAc,IAE7CG,mBARM,SAQahE,GACPf,GAEZgF,8BAXM,SAWwBjE,GAC1BA,EAAMX,oBAAsB,GAEhC6E,gCAdM,SAc0BlE,GAC5BA,EAAMX,mBAAqB,MAKhC,EAAkHmE,EAAgB1C,QAA3H2C,EAAP,EAAOA,QAASG,EAAhB,EAAgBA,WAAgCK,GAAhD,EAA4BD,mBAA5B,EAAgDC,+BAA+BC,EAA/E,EAA+EA,gCAEvEV,IAAf,QAcMW,EAAqB,SAAAnE,GAAK,OAAI,IAAIqC,IAAIrC,EAAMoE,WAAWb,gBAMhDc,EAAwB/C,aACjC,SAAAtB,GAAK,OAAIA,EAAMoE,WAAWb,cAAczB,UACxC,SAAA9B,GAAK,OAAIA,EAAMoE,WAAW/E,sBAC1B,SAACiF,EAAwBjF,GACrB,OAAQA,EAAqBiF,KAIxBC,EAAsBjD,aAfA,SAAAtB,GAAK,OAAIA,EAAMoE,WAAWb,iBAiBzD,SAAAvD,GAAK,OAAIA,EAAMoE,WAAW/E,sBAC1B,SAACmF,EAAkBnF,GAEf,OAAIA,EADgBmF,EAAiB1C,OAE1B0C,EAAiBC,MAAM,EAAGpF,GAE1BmF,KCzCJE,EAtBF,SAAC,GAAyB,IAAD,IAAvBC,kBAAuB,MAAV,KAAU,EAC5BC,EAAWC,cAOXC,EAAU,CAAC,cAGjB,OAFAH,GAAcG,EAAQpB,KAAKiB,GAGvB,qBAAKnH,UAAU,OAAf,SACI,eAAC,IAAD,CAAMuH,GAAG,IAAIvH,UAAWsH,EAAQE,KAAK,KAAMC,QAXZ,WACnCL,EAAS1E,KACT0E,EAASzE,KACTyE,EAASV,MAQL,UACI,sBAAM1G,UAAU,+BAAhB,eACA,sBAAMA,UAAU,+BAAhB,eACA,sBAAMA,UAAU,+BAAhB,qB,QCHD0H,GAfU,WACrB,IAAMC,EAAUC,eAMhB,OACI,wBAAQ5H,UAAU,yBAAyB6H,KAAK,SAASJ,QALnC,WACtBE,EAAQzB,KAAK,YAIb,SACI,mD,SCYN4B,GAAqB1F,YAAY,CACnCC,KAAM,gBACNZ,aAvBiB,CACjBE,OAAQ,OACRC,MAAO,KACPP,KAAM,MAqBNiB,SAAU,CACNyF,QADM,SACEvF,GACJA,EAAMb,OAAS,WAEnBqB,UAJM,SAIIR,EAAOS,GACbT,EAAMnB,KAAO4B,EAAOE,QAAQ9B,KAC5BmB,EAAMb,OAAS,aAEnBqG,OARM,SAQCxF,EAAOS,GACVT,EAAMb,OAAS,SACfa,EAAMZ,MAAQqB,EAAOE,SAEzB8E,OAZM,SAYCzF,GACHA,EAAMb,OAAS,OACfa,EAAMZ,MAAQ,KACdY,EAAMnB,KAAO,SAKlB,GAA6CyG,GAAmBxE,QAAzDyE,GAAP,GAAOA,QAAS/E,GAAhB,GAAgBA,UAAWgF,GAA3B,GAA2BA,OAAQC,GAAnC,GAAmCA,OAE3BH,MAAf,QAGaI,GAAe,SAAA1F,GAAK,QAAMA,EAAM2F,cAAc9G,MCzB5C+G,GAtBA,WACX,IAAMC,EAAmBC,YAAYJ,IAC/Bd,EAAWC,cAKjB,OACI,qBAAKrH,UAAU,aAAf,SACKqI,EACG,qBAAKrI,UAAU,qBAAqBuI,MAAO,CAACC,OAAQ,WAApD,SACI,qBAAKC,ICjBV,s9QDiBuBC,IAAI,cAAcC,MAAM,KAAKC,OAAO,KAAKnB,QARrD,WAClBL,EAASa,WAUD,cAAC,IAAD,CAASV,GAAI,SAAUgB,MAAO,CAACM,MAAO,WAAtC,sBEHDC,GAdI,SAAC,GAAc,IAAbC,EAAY,EAAZA,OACbpB,EAAUC,eAMd,OACI,wBAAQ5H,UAAU,mCAAmC6H,KAAK,SAASJ,QAL9C,WACrBE,EAAQzB,KAAR,uBAA6B6C,KAIiER,MAAO,CAACS,eAAgB,UAAtH,SACI,2CCmBGC,GAzBW,SAAC,GAAU,IAAT9I,EAAQ,EAARA,GAClBiH,EAAWC,cACX6B,EAAoBZ,YPwCM,SAACnI,GAAD,OAAQ2D,YACxC6C,GACA,SAAAwC,GAAG,OAAIA,EAAIC,IAAIjD,OAAOhG,OO1CgBkJ,CAAqBlJ,IACrDkI,EAAmBC,YAAYJ,IAC/BP,EAAUC,eACV0B,EAAQJ,EAAoB,UAAY,MAU9C,OACI,yBAAQlJ,UAAU,mCAAmC6H,KAAK,SAASJ,QAT9B,WAChCY,EAGDjB,EPmBuB,SAACjH,GAAD,OAAQ,SAACiH,EAAUmC,GAClD,IAAM5C,EAAqB,IAAI9B,IAAI0E,IAAW3C,WAAWb,eACnDyD,EAAWrD,OAAOhG,GACpBwG,EAAmByC,IAAII,GACvBpC,EAAShB,EAAWoD,IAEpBpC,EAASnB,EAAQuD,KOzBJC,CAAoBtJ,IAF7BwH,EAAQzB,KAAK,WAOjB,UACI,qBAAK9F,QAAQ,YAAYuI,MAAM,KAAKC,OAAO,KAA3C,SACI,qBAAKc,UAAS,WAAMJ,OAExB,+CC6CGK,GAvDO,SAAC,GAAU,IAATxJ,EAAQ,EAARA,GACdyJ,EAAYtB,YAAYnD,EAAahF,IACrC0J,EAAcvB,YAAYhD,EAAenF,IACzC2J,EAAUxB,YAAY9C,EAAWrF,IACjC4J,EAAazB,YAAY5C,EAAcvF,IACvC6J,EAAgB1B,YAAY3C,EAAiBxF,IAEnD,OACI,0BAASH,UAAU,aAAnB,UACI,qBAAKA,UAAU,iBAAf,SACI,qBAAKyI,IAAKqB,EAASpB,IAAKkB,MAG5B,oBAAI5J,UAAU,kBAAd,iBAEA,yBAAQA,UAAU,+BAAlB,UAEI,cAAC,EAAD,IAEA,cAAC,GAAD,OAGJ,qBAAKA,UAAU,mBAAf,SACI,sBAAKA,UAAU,mBAAf,UACI,qBAAKA,UAAU,qBAAf,SACI,qBAAKyI,IAAKoB,EAAanB,IAAKkB,EAAWjB,MAAM,MACxCC,OAAO,UAGhB,sBAAK5I,UAAU,mBAAf,UACI,oBAAIA,UAAU,oBAAd,SAAmC4J,IACnC,oBAAG5J,UAAU,mBAAb,UACI,sBAAMA,UAAU,oBAAhB,SAAqC+J,IACrC,sBAAM/J,UAAU,mBAAhB,SAAoCgK,OAGxC,sBAAKhK,UAAU,sBAAf,UACI,cAAC,GAAD,CACI+I,OAAQ5I,IAGZ,cAAC,GAAD,CACIA,GAAIA,IAGR,cAAC,GAAD,mBClBb8J,GArCK,SAAC,GAAiB,IAAhBpG,EAAe,EAAfA,UACZe,EAAY0D,YAAY/D,GACxB6C,EAAWC,cACX6C,EAAmB,WACrB9C,EAAS1E,MAGb,OACI,oBAAI1C,UAAU,uBAAd,SACK4E,EAAUP,KAAI,SAACtC,EAAOoI,GAEnB,IAAIC,EAIAA,EAHCvG,GAAuB,eAAV9B,GAGc,OAAT8B,QAAS,IAATA,OAAA,EAAAA,EAAWO,iBAAkBrC,EAAMqC,eAAiB,+BAFrD,+BAKtB,IAAImD,EAAK,eAAAxF,EAAMqC,cAAN,qBAAuDrC,EAAMqC,eAEtE,OACI,oBACIpE,UAAS,+BAA0BoK,GADvC,SAEI,cAAC,IAAD,CACI7C,GAAIA,EACJvH,UAAU,uBACVyH,QAASyC,EAHb,SAKKnI,KAPAoI,SCTdE,GAfI,WACf,OACI,yBAAQrK,UAAU,cAAlB,UAEI,cAAC,EAAD,CACImH,WAAW,sBAGf,qBAAKnH,UAAU,YAAf,SACI,mECaDsK,GApBE,SAAC,GAAY,IAAXC,EAAU,EAAVA,KACTnD,EAAWC,cAYjB,OACI,qBAAKrH,UAAU,gBAAf,SACI,wBAAQA,UAAU,kBAAkB6H,KAAK,SAASJ,QAZjC,WACR,SAAT8C,EACAnD,EAAS7E,KACO,YAATgI,EACPnD,EAASX,KACO,SAAT8D,GACPnD,EAAS3E,MAMT,0B,SCAG+H,GAhBK,SAAC,GAAwB,IAAvBC,EAAsB,EAAtBA,iBACZC,EAAWC,iBAAO,MAExB,OACI,uBACIhC,MAAM,MACNC,OAAO,MACPH,IAAKgC,EACLG,IAAKF,EACLG,OAAO,EACPC,MAAM,EACNC,UAAU,KC4DPC,GArEQ,SAAC,GAAU,IAAT7K,EAAQ,EAARA,GACfyJ,EAAYtB,YAAYnD,EAAahF,IACrC8K,EAAe3C,YAAYlD,EAAgBjF,IAC3CsK,EAAmBnC,Yd6IO,SAAAnI,GAAE,OAAI,SAAAqC,GAAK,OAAIA,EAAM3B,MAAM6D,SAASvE,GAAI+K,oBc7InCC,CAAqBhL,IAEtDwH,EAAUC,eAEd,EAAoCwD,oBAAS,GAA7C,oBAAOC,EAAP,KAAmBC,EAAnB,KACA,EAA8BF,mBAAS,MAAvC,oBAAOG,EAAP,KAAgBC,EAAhB,KAUAC,qBAAU,WACN,OAAO,WACCF,GAASG,aAAaH,MAE/B,CAACA,IAwBJ,OACI,0BAASvL,UAAU,wCACV2L,aAxBgB,WACzBC,QAAQC,IAAI,MACZL,EAAWrK,YAAW,WAClBmK,GAAc,GACdE,EAAW,QACZ,OAoBMM,aAjBmB,WAC5BF,QAAQC,IAAI,OACPN,GAGDG,aAAaH,GACbC,EAAW,OAHXF,GAAc,IAeT7D,QARkB,WAC3BE,EAAQzB,KAAK,UAAY/F,IAIzB,UAMKkL,EACG,cAAC,GAAD,CACIZ,iBAAkBA,IAErB,qBAAKzK,UAAU,0BAAf,SACG,qBAAKyI,IAAKwC,EAAcvC,IAAKkB,EAAWjB,MAAM,MAAMC,OAAO,UAInE,oBAAI5I,UAAU,0BAAd,SACI,mBAAGA,UAAU,yBAAyB+L,KAAK,kBAA3C,SAA8DnC,U,oBC1D/DoC,GARM,WACjB,OACI,qBAAKhM,UAAWiM,KAAOC,iBAAvB,SACI,qBAAKlM,UAAWiM,KAAOE,aAAvB,iCCsBGC,GAxBI,SAAC,GAAyC,IAAxCC,EAAuC,EAAvCA,SAAUC,EAA6B,EAA7BA,wBAE3B,OACI,mCACKA,EACG,cAAC,GAAD,IACA,qBAAKtM,UAAU,uBAAf,SAEKqM,EAAShI,KAAI,SAAClE,GACX,OACI,cAAC,GAAD,CAEIA,GAAIA,GADCA,WCCtBoM,GAXS,SAAC,GAAiB,IAAhB1I,EAAe,EAAfA,UAChBwI,EAAW/D,YjBuDM,SAACzE,GAAD,OAAeC,aACtC,SAAAtB,GAAK,OAAIA,EAAM3B,MAAMkD,MACrBP,GACA,SAAAhB,GAAK,OAAIA,EAAM3B,MAAMgB,sBACrB,SAACmC,EAAaC,EAAUpC,GACpB,IAAI2K,EAQJ,OAAI3K,GAJA2K,EAHC3I,EAGkBI,EAASC,QAAO,SAAAC,GAAI,OAAIA,EAAKpC,MAAMqC,gBAAkBP,EAAUO,iBAAeC,KAAI,SAAAF,GAAI,OAAIA,EAAKhE,MAF/F6D,GAKcM,OAE1BkI,EAAiBvF,MAAM,EAAGpF,GAE1B2K,KiBvEcC,CAAY5I,IACnCyI,EAA0BhE,YAAYzC,GAG5C,OAAO,cAAC,GAAD,CACCwG,SAAUA,EACVC,wBAAyBA,KCoCtBI,GArCF,SAAC,GAAiB,IAAhB7I,EAAe,EAAfA,UACL8I,EAAUrE,YlB0GO,SAACzE,GAAD,OAAeC,YACtCF,EAAqBC,IACrB,SAAArB,GAAK,OAAIA,EAAM3B,MAAMgB,sBACrB,SAAC+K,EAA2B/K,GACxB,OAAQA,EAAqB+K,KkB9GLC,CAAYhJ,IAClCiJ,EAAuBxE,YAAYxC,GAEzC,OAAO,qCACH,cAAC,EAAD,IAE0B,cAAzBgH,GACG,cAAC,GAAD,CACI3M,GAAI,KAKZ,sBAAKH,UAAU,eAAf,UACI,0BAASA,UAAU,UAAnB,UACI,oBAAIA,UAAU,iCAAd,qBAEA,cAAC,GAAD,CACI6D,UAAWA,IAGf,cAAC,GAAD,CACIA,UAAWA,IAGd8I,GAAW,cAAC,GAAD,CACRpC,KAAM,YAKd,cAAC,GAAD,WChCNwC,GAAW,SAAC,GAAqB,IAApBhE,EAAmB,EAAnBA,OAAQiE,EAAW,EAAXA,MAKjB1F,EAAU,CAAC,mBAEjB,OANc2F,aAAc,CACxBC,KAAK,UAAD,OAAYnE,EAAZ,YAAsBiE,EAAM5I,kBAI3BkD,EAAQpB,KAAR,2BAEL,oBAAIlG,UAAWsH,EAAQE,KAAR,KAAf,SACI,cAAC,IAAD,CAAMD,GAAE,iBAAYwB,EAAZ,YAAsBiE,EAAM5I,eAAiBpE,UAAU,kBAA/D,SAAkFgN,OAKxFG,GAAY,SAAC,GAAmE,IAAlEC,EAAiE,EAAjEA,YAAaC,EAAoD,EAApDA,iBAAkBC,EAAkC,EAAlCA,cAAeC,EAAmB,EAAnBA,cAC9D,OACI,qCACI,sBAAKvN,UAAU,eAAf,UACI,qBAAKA,UAAU,sBAAf,SAAsCoN,IACtC,oBAAGpN,UAAU,qBAAb,UACI,sBAAMA,UAAU,sBAAhB,uBACA,sBAAMA,UAAU,sBAAhB,+BAGR,sBAAKA,UAAU,mBAAf,UACI,4BAAIqN,IAEJ,mBAAGrN,UAAU,uBAAb,SAAoC,gDAAmBsN,OAEvD,mBAAGtN,UAAU,uBAAb,SACI,gDAAmBuN,EAAc/F,KAAK,kBAMpDgG,GAAU,SAAC,GAA6E,IAA5EF,EAA2E,EAA3EA,cAAeC,EAA4D,EAA5DA,cAAeE,EAA6C,EAA7CA,aAAc1D,EAA+B,EAA/BA,WAAYC,EAAmB,EAAnBA,cACtE,OACI,sBAAKhK,UAAU,mCAAf,UACI,sBAAKA,UAAU,uBAAf,UACI,oBAAGA,UAAU,2BAAb,UACI,wBAAQA,UAAU,2BAAlB,sBACA,sBAAMA,UAAU,4BAAhB,SAA6CsN,OAEjD,oBAAGtN,UAAU,2BAAb,UACI,wBAAQA,UAAU,2BAAlB,sBACA,sBACIA,UAAU,4BADd,SAC2CuN,EAAclJ,KAAI,SAACqJ,EAAIvN,GAAL,OAAY,cAAC,GAAD,CAC5DwN,QAASD,GAAbvN,cAIjB,sBAAKH,UAAU,uBAAf,UACI,oBAAGA,UAAU,2BAAb,UACI,wBAAQA,UAAU,2BAAlB,sBACA,sBAAMA,UAAU,4BAAhB,SAA6CyN,OAEjD,oBAAGzN,UAAU,2BAAb,UACI,wBAAQA,UAAU,2BAAlB,mBACA,sBAAMA,UAAU,4BAAhB,SAA6C+J,OAEjD,oBAAG/J,UAAU,2BAAb,UACI,wBAAQA,UAAU,2BAAlB,sBACA,sBAAMA,UAAU,4BAAhB,SAA6CgK,cAO3D4D,GAAU,WACZ,OACI,sBAAK5N,UAAU,sCAAf,UACI,sBAAKA,UAAU,0BAAf,UACI,sBAAKA,UAAU,SAAf,UACI,6BAAYA,UAAU,gBAAtB,UACI,mBAAGA,UAAU,eAAb,gMAMA,yBAAQA,UAAU,kBAAlB,UACI,sBAAMA,UAAU,iBAAhB,uBACA,sBAAMA,UAAU,eAAe6N,SAAS,aAAxC,qCAKR,qBAAK7N,UAAU,iBAAf,oBAGJ,sBAAKA,UAAU,SAAf,UACI,6BAAYA,UAAU,gBAAtB,UACI,mBAAGA,UAAU,eAAb,+PAOA,yBAAQA,UAAU,kBAAlB,UACI,sBAAMA,UAAU,iBAAhB,8BACA,sBAAMA,UAAU,eAAe6N,SAAS,aAAxC,qCAKR,qBAAK7N,UAAU,iBAAf,oBAGJ,sBAAKA,UAAU,SAAf,UACI,6BAAYA,UAAU,gBAAtB,UACI,mBAAGA,UAAU,eAAb,wIAIA,yBAAQA,UAAU,kBAAlB,UACI,sBAAMA,UAAU,iBAAhB,4BACA,sBAAMA,UAAU,eAAe6N,SAAS,aAAxC,qCAKR,qBAAK7N,UAAU,iBAAf,uBAGR,sBAAKA,UAAU,0BAAf,UACI,sBAAKA,UAAU,SAAf,UACI,6BAAYA,UAAU,gBAAtB,UACI,mBAAGA,UAAU,eAAb,2IAIA,yBAAQA,UAAU,kBAAlB,UACI,sBAAMA,UAAU,iBAAhB,6BACA,sBAAMA,UAAU,eAAe6N,SAAS,aAAxC,qCAKR,qBAAK7N,UAAU,iBAAf,oBAGJ,sBAAKA,UAAU,SAAf,UACI,6BAAYA,UAAU,gBAAtB,UACI,mBAAGA,UAAU,eAAb,sHAIA,yBAAQA,UAAU,kBAAlB,UACI,sBAAMA,UAAU,iBAAhB,+BACA,sBAAMA,UAAU,eAAe6N,SAAS,aAAxC,qCAKR,qBAAK7N,UAAU,iBAAf,oBAGJ,sBAAKA,UAAU,SAAf,UACI,6BAAYA,UAAU,gBAAtB,UACI,mBAAGA,UAAU,eAAb,sHAIA,yBAAQA,UAAU,kBAAlB,UACI,sBAAMA,UAAU,iBAAhB,+BACA,sBAAMA,UAAU,eAAe6N,SAAS,aAAxC,qCAKR,qBAAK7N,UAAU,iBAAf,2BAOd8N,GAAS,SAAC,GAAe,IAAdH,EAAa,EAAbA,QACb,OACI,qCAAGA,EAAQ,2BAqEJI,GAhEF,SAAC,GAAc,InB5CO5N,EmB4CpB4I,EAAY,EAAZA,OACLiF,EAAY,CAAC,YAAa,UAAW,WAErCX,EAAmB/E,anB/CMnI,EmB+C0B4I,EnB/CpB,SAAAvG,GAAK,OAAIA,EAAM3B,MAAM6D,SAASvE,GAAI8N,emBgDjEb,EAAc9E,YnB/CM,SAAAnI,GAAE,OAAI,SAAAqC,GAAK,OAAIkB,EAAelB,EAAOrC,GAAI+N,QmB+CnCC,CAAepF,IACzCuE,EAAgBhF,YnB7CM,SAAAnI,GAAE,OAAI,SAAAqC,GAAK,OAAIkB,EAAelB,EAAOrC,GAAIiO,UmB6CnCC,CAAiBtF,IAC7CwE,EAAgBjF,YnB7CM,SAAAnI,GAAE,OAAI,SAAAqC,GAAK,OAAIkB,EAAelB,EAAOrC,GAAImO,UmB6CnCC,CAAiBxF,IAC7C0E,EAAenF,YnB7CM,SAAAnI,GAAE,OAAI,SAAAqC,GAAK,OAAIkB,EAAelB,EAAOrC,GAAIqO,UmB6CnCC,CAAgB1F,IAC3CgB,EAAazB,YAAY5C,EAAcqD,IACvCiB,EAAgB1B,YAAY3C,EAAiBoD,IAGnD,OACI,qCACI,qBAAK/I,UAAU,4BAAf,SACI,oBAAIA,UAAU,kBAAd,SAEKgO,EAAU3J,KAAI,SAACqK,EAASvE,GAAV,OACX,cAAC,GAAD,CAEI6C,MAAO0B,EACP3F,OAAQA,GAFHoB,UASrB,eAAC,KAAD,WACI,cAAC,KAAD,CAAO+C,KAAK,oBACRyB,OAAQ,gBAAEC,EAAF,EAAEA,MAAF,OACJ,qCACIA,EAAMC,OAAO7B,QAAUgB,EAAU,GAAG5J,eACrC,cAAC,GAAD,CACIgJ,YAAaA,EACbC,iBAAkBA,EAClBC,cAAeA,EACfC,cAAeA,IAElBqB,EAAMC,OAAO7B,QAAUgB,EAAU,GAAG5J,eACrC,cAAC,GAAD,CACIkJ,cAAeA,EACfvD,WAAYA,EACZwD,cAAeA,EACfE,aAAcA,EACdzD,cAAeA,IAElB4E,EAAMC,OAAO7B,QAAUgB,EAAU,GAAG5J,eACrC,cAAC,GAAD,UAMX,cAAC,KAAD,CAAO8I,KAAK,aAAZ,SACI,cAAC,KAAD,CAAU3F,GAAE,iBAAYwB,EAAZ,yBCjOjB+F,GAtBS,SAAC,GAAkB,IpB4EXjL,EoB5ENkG,EAAgB,EAAhBA,WAChBsC,EAAW/D,apB2EWzE,EoB3EiBkG,EpB2EHjG,aAC1C,SAAAtB,GAAK,OAAIA,EAAM3B,MAAMkD,MACrBP,GACA,SAAAhB,GAAK,OAAIA,EAAM3B,MAAMiB,0BACrB,SAACkC,EAAaC,EAAUnC,GACpB,IAAI0K,EAQJ,OAAI1K,GAJA0K,EAHC3I,EAGkBI,EAASC,QAAO,SAAAC,GAAI,OAAIA,EAAKpC,MAAMqC,gBAAkBP,EAAUO,iBAAeC,KAAI,SAAAF,GAAI,OAAIA,EAAKhE,MAF/F6D,GAKcM,OAE1BkI,EAAiBvF,MAAM,EAAGnF,GAE1B0K,OoB1FTF,EAA0BhE,YAAYzC,GACtC8G,EAAUrE,YpBqHa,SAACzE,GAAD,OAAeC,YAC5CF,EAAqBC,IACrB,SAAArB,GAAK,OAAIA,EAAM3B,MAAMiB,0BACrB,SAAC8K,EAA2B9K,GACxB,OAAQA,EAAyB8K,KoBzHTmC,CAAkBhF,IAE9C,OACI,0BAAS/J,UAAU,6BAAnB,UACI,oBAAIA,UAAU,iBAAd,4BAEA,cAAC,GAAD,CACIqM,SAAUA,EACVC,wBAAyBA,IAG5BK,GAAW,cAAC,GAAD,CACRpC,KAAM,aCmFPyE,GApFI,SAAC,GAAU,IAAT7O,EAAQ,EAARA,GACXyJ,EAAYtB,YAAYnD,EAAahF,IACrC0J,EAAcvB,YAAYhD,EAAenF,IACzC2J,EAAUxB,YAAY9C,EAAWrF,IACjC8O,EAAe3G,YrBiIM,SAAAnI,GAAE,OAAI,SAAAqC,GAAK,OAAIA,EAAM3B,MAAM6D,SAASvE,GAAI+O,kBqBjIlCC,CAAgBhP,IAC3C4J,EAAazB,YAAY5C,EAAcvF,IACvC6J,EAAgB1B,YAAY3C,EAAiBxF,IAOnD,OALAsL,qBAAU,WACN2D,OAAOC,SAAS,EAAE,KACnB,IAGI,qCACH,cAAC,EAAD,IAEA,0BAASrP,UAAU,8BAA8BuI,MAAO,CAAC+G,gBAAiBL,GAA1E,UACI,sBAAKjP,UAAU,mBAAf,UACI,qBAAKA,UAAU,iBAAf,SACI,qBAAKyI,IAAKqB,EAASpB,IAAKkB,MAG5B,oBAAI5J,UAAU,kBAAd,iBAEA,yBAAQA,UAAU,+BAAlB,UAEI,cAAC,EAAD,IAEA,cAAC,GAAD,OAGJ,qBAAKA,UAAU,mBAAf,SACI,sBAAKA,UAAU,mBAAf,UACI,oBAAIA,UAAU,oBAAd,SAAmC4J,IACnC,oBAAG5J,UAAU,mBAAb,UACI,sBAAMA,UAAU,oBAAhB,SAAqC+J,IACrC,sBAAM/J,UAAU,mBAAhB,SAAoCgK,OAGxC,sBAAKhK,UAAU,sBAAf,UAEI,cAAC,GAAD,CACI+I,OAAQ5I,IAGZ,cAAC,GAAD,CACIA,GAAIA,IAGR,cAAC,GAAD,eAOhB,qBAAKH,UAAU,6CAAf,SACI,sBAAKA,UAAU,mBAAf,UACI,qBAAKA,UAAU,6CAAf,SACI,qBAAKyI,IAAKoB,EAAanB,IAAI,kCACtBC,MAAM,MACNC,OAAO,UAGhB,qBAAK5I,UAAU,mBAAf,SAEI,cAAC,GAAD,CAAM+I,OAAQ5I,cAO9B,sBAAKH,UAAU,eAAf,UAEI,cAAC,GAAD,CACI+J,WAAYA,IAGhB,cAAC,GAAD,WC5EGwF,GApBC,WACZ,OACI,qBAAKvP,UAAWiM,KAAOC,iBAAvB,SACI,qBAAKlM,UAAWiM,KAAOuD,OAAvB,SACI,sBAAKxP,UAAU,aAAf,UACI,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,gC,6BCfPyP,GAAa,SAACC,GACvB,IAAIC,EAAIC,KAAKC,MAAMH,GAAO,GAC1B,OAAOC,EAAI,GAAK,IAAMA,EAAIG,OAAOH,IAGxBI,GAAa,SAACL,GACvB,IAAIM,EAOJ,OALIA,EADAN,GAAO,KACHE,KAAKC,MAAMH,GAAO,KAElBE,KAAKC,MAAMH,IAEnBM,EAAIJ,KAAKC,MAAMG,EAAIA,EAAI,IAAM,IAClB,GAAK,IAAMA,EAAIF,OAAOE,IAGxBC,GAAW,SAACP,GACrB,IAAIQ,EAAIN,KAAKC,OAAOD,KAAKC,MAAMH,GAAOE,KAAKC,MAAMH,GAAO,MAAQ,MAChE,OAAOQ,EAAI,GAAK,IAAMA,EAAIJ,OAAOI,ICghBtBC,GA9hBX,WAAYC,GAAW,IAAD,iCAqDtBC,6BAA+B,WAC3B,EAAKC,OAAOC,KAAKC,oBAAoB,iBAAkB,EAAKH,8BAC5D,EAAKI,QAAQC,OACb,EAAKC,kBAAkBC,OACvB,EAAKN,OAAOC,KAAKM,iBAAiB,QAAS,EAAKC,0BAChD,EAAKH,kBAAkBJ,KAAKM,iBAAiB,QAAS,EAAKC,0BAC3DC,SAASF,iBAAiB,UAAW,EAAKG,+BAC1C,EAAKV,OAAOW,SAAU,GA5DJ,KAgEtBD,8BAAgC,SAACE,GACZ,UAAbA,EAAIC,MACR,EAAKL,4BAlEa,KAsEtBA,yBAA2B,WACvB,EAAKR,OAAOC,KAAKC,oBAAoB,QAAS,EAAKM,0BACnD,EAAKH,kBAAkBJ,KAAKC,oBAAoB,QAAS,EAAKM,0BAC9DC,SAASP,oBAAoB,UAAW,EAAKQ,+BAC7C,EAAKI,iBACL,EAAKT,kBAAkBD,OACvB,EAAKW,UAAUT,OACf,EAAKU,QAAQV,OACb,EAAKN,OAAOiB,OACZ,EAAKjB,OAAOkB,SACZ,EAAKlB,OAAOmB,aAAa,IACzB,EAAKH,QAAQG,aAAa,IAC1B,EAAKnB,OAAOoB,WAAY,EACxB,EAAKpB,OAAOqB,OAAQ,EACpB,EAAKC,0CApFa,KA4FtBC,qCAAuC,WAGnC,OAFoB,EAAKvB,OAAOC,KAAKuB,YACrB,EAAKxB,OAAOC,KAAKwB,SACF,KA/Fb,KAmGtBC,kBAAoB,WAChB,IAAIC,EACJA,EAAO,EAAK3B,OAAOC,KAAKwB,SACxB,EAAKG,OAAO3B,KAAK4B,UAAjB,UAAgClC,GAASgC,GAAzC,YAAkDlC,GAAWkC,GAA7D,YAAsExC,GAAWwC,IACjFA,EAAO,EAAK3B,OAAOC,KAAKuB,YACxB,EAAKM,OAAO7B,KAAK4B,UAAjB,UAAgClC,GAASgC,GAAzC,YAAkDlC,GAAWkC,GAA7D,YAAsExC,GAAWwC,KAxG/D,KA4GtBI,iBAAmB,WACf,EAAKC,cAAcC,eAAe,EAAKV,wCACvC,EAAKW,eAAeD,eAAe,EAAKV,wCACxC,EAAKG,qBA/Ga,KAyItBS,uBAAyB,WACrB,IAAI,EAAKH,cAAcI,WAAvB,CAEA,IAAMC,EAAmB,SAACzB,GACtB,EAAKZ,OAAOW,SAAU,EACtB,IAAM2B,EAAc,EAAKC,2CAA2C3B,EAAI4B,SACxE,EAAKR,cAAcC,eAAeK,EAAYG,SAC9C,EAAKP,eAAeD,eAAeK,EAAYG,SAC/C,EAAKzC,OAAO0C,uBAAuBJ,EAAYd,aAC/C,EAAKE,qBAaTjB,SAASF,iBAAiB,YAAa8B,GACvC5B,SAASF,iBAAiB,WAVV,SAAVoC,IACFlC,SAASP,oBAAoB,YAAamC,GAC1C5B,SAASP,oBAAoB,UAAWyC,GACnC,EAAKxC,QAAQyC,WAAW,EAAKzC,QAAQG,OAC1C,EAAK0B,cAAca,qBAAsB,EACrC,EAAK7C,OAAOqB,OACX,EAAKrB,OAAOW,SACjB,EAAKX,OAAOiB,UAIhB,EAAKe,cAAca,qBAAsB,EACrC,EAAK7C,OAAO8C,SACZ,EAAK9C,OAAO+C,SAnKE,KAwKtBC,gBAAkB,WACd1H,QAAQC,IAAI,kBACR,EAAK4E,QAAQyC,WAAW,EAAKzC,QAAQC,OACpC,EAAKJ,OAAOW,UAAS,EAAKX,OAAOW,SAAU,GAC5C,EAAKX,OAAOqB,OACZ,EAAKW,cAAca,qBACnB,EAAKX,eAAee,sBACpB,EAAKjB,cAAcI,YACvB,EAAKpC,OAAOiB,QAhLM,KAqLtBiC,gBAAkB,WACd5H,QAAQC,IAAI,YACL,EAAKyG,cAAca,qBAAyB,EAAKX,eAAee,uBAClE,EAAKjD,OAAOmD,SACjB,EAAKnD,OAAO+C,QAzLM,KA6LtBK,4CAA8C,SAACxC,GAC3C,IAAI,EAAKoB,cAAca,sBACnB,EAAKb,cAAcI,WAAvB,CACA3B,SAASF,iBAAiB,UAAW,EAAK8C,2CAC1C,EAAKnB,eAAee,sBAAuB,EAC3C,IAAMX,EAAc,EAAKC,2CAA2C3B,EAAI4B,SACxE,EAAKR,cAAcC,eAAeK,EAAYG,SAC9C,EAAKP,eAAeD,eAAeK,EAAYG,SAC/C,EAAKzC,OAAOW,SAAU,EAClB,EAAKX,OAAO8C,SACZ,EAAK9C,OAAO+C,OAEhB,EAAK/C,OAAOC,KAAKuB,YAAcc,EAAYd,cAzMzB,KA6MtB6B,0CAA4C,WACnC,EAAKnB,eAAee,uBACrB,EAAKjB,cAAca,qBACnB,EAAKb,cAAcI,aACvB3B,SAASP,oBAAoB,UAAW,EAAKmD,2CAC7C,EAAKnB,eAAee,sBAAuB,EACtC,EAAK9C,QAAQyC,WAAW,EAAKzC,QAAQG,OACtC,EAAKN,OAAOqB,OACX,EAAKrB,OAAOW,UACZ,EAAKX,OAAOqB,QACb,EAAKrB,OAAOiB,OACZ,EAAKjB,OAAOW,SAAU,OAxNR,KA6NtB4B,2CAA6C,SAACC,GAC1C,IAEIc,EAFEC,ECjOe,SAACC,GAG1B,IAFA,IAAID,EAAa,EACbE,EAAYD,EACTC,GACHF,GAAcE,EAAUF,WACxBE,EAAYA,EAAUC,aAE1B,OAAOH,ED0NgBI,CAAc,EAAKzB,eAAejC,KAAKwD,WACpDG,EAA6B,EAAK1B,eAAejC,KAAKwD,UC1M1CG,YDqNlB,MAAO,CACHnB,SATAa,EADAd,EAAUe,EACN,EACGf,EAAUe,EAAaK,EAC1BA,EAEApB,EAAUe,GAEEK,EAAc,IAI9BpC,YAHgB8B,EAAI,EAAKtD,OAAOC,KAAKwB,SAAWmC,IAzOlC,KAiPtBC,uCAAyC,WACrC,EAAKnC,oBACL,EAAKM,cAAcC,eAAe,EAAKV,wCACvC,EAAKW,eAAeD,eAAe,EAAKV,yCApPtB,KAwPtBuC,sCAAwC,SAAClD,GACjC,EAAKoB,cAAca,qBACnB,EAAKX,eAAee,sBACL,eAAbrC,EAAIC,MAAsC,cAAbD,EAAIC,OACvC,EAAKmB,cAAcI,YAAa,EAChC,EAAKpC,OAAOW,SAAU,EACtB,EAAKW,yCACD,EAAKtB,OAAO8C,UACZ,EAAK9C,OAAO+C,OACZzH,QAAQC,IAAI,SAEC,eAAbqF,EAAIC,MACJ,EAAKb,OAAOC,KAAKuB,aAAe,EAChC,EAAKqC,2CAEL,EAAK7D,OAAOC,KAAKuB,aAAe,EAChC,EAAKqC,4CAxQS,KA6QtBE,oCAAsC,WAC7B,EAAK/B,cAAcI,aACpB,EAAKJ,cAAca,qBACnB,EAAKX,eAAee,uBACxB,EAAKjB,cAAcI,YAAa,EAC3B,EAAKjC,QAAQyC,WAAW,EAAKzC,QAAQG,OACtC,EAAKN,OAAOqB,OACX,EAAKrB,OAAOW,UACjB,EAAKX,OAAOiB,OACZ,EAAKjB,OAAOW,SAAU,MAtRJ,KA8RtBqD,gBAAkB,WACV,EAAKhE,OAAOmD,SACX,EAAKnD,OAAOW,UACb,EAAKqB,cAAca,qBACnB,EAAKX,eAAee,sBACpB,EAAKjB,cAAcI,aACnB,EAAKpC,OAAOqB,OACZ,EAAKrB,OAAOiB,OACZ,EAAKjB,OAAOqB,OAAQ,EACpB,EAAK4C,OAAO7D,SAEZ,EAAKJ,OAAO+C,OACZ,EAAK/C,OAAOqB,OAAQ,EACpB,EAAK4C,OAAO3D,QAEhB,EAAKgB,4CA7Sa,KAiTtB4C,wBAA0B,SAACtD,GACN,UAAbA,EAAIC,MACR,EAAKmD,mBAnTa,KA2TtBG,2BAA6B,SAACvD,GAC1B,IAAIwD,EAAQxD,EAAIyD,QAAUzD,EAAI0D,QAAU1D,EAAI2D,WAC5CH,GAASvO,QAAQuO,EAAQ,KAAMI,QAAQ,IAClC,EAAKxE,OAAOC,KAAKwE,OAASL,GAAS,GAAO,EAAKpE,OAAOC,KAAKwE,OAASL,GAAS,IAC9E,EAAKpE,OAAOC,KAAKwE,OAAS5O,QAAQ,EAAKmK,OAAOC,KAAKwE,OAASL,GAAOI,QAAQ,KAE/E,EAAKxD,QAAQf,KAAKyE,SAASzM,MAAMK,OAAjC,UAAuE,IAA1B,EAAK0H,OAAOC,KAAKwE,OAA9D,KACA,EAAKE,+BAlUa,KAsUtBC,2BAA6B,SAAChE,GACP,YAAbA,EAAIC,MAAmC,cAAbD,EAAIC,OACpC,EAAK8D,8BACY,YAAb/D,EAAIC,KACAhL,QAAQ,EAAKmK,OAAOC,KAAKwE,OAAS,IAAKD,QAAQ,KAAO,IACtD,EAAKxE,OAAOC,KAAKwE,OAAS5O,QAAQ,EAAKmK,OAAOC,KAAKwE,OAAS,IAAKD,QAAQ,IACzE,EAAKxD,QAAQf,KAAKyE,SAASzM,MAAMK,OAAjC,UAAuE,IAA1B,EAAK0H,OAAOC,KAAKwE,OAA9D,MAGA5O,QAAQ,EAAKmK,OAAOC,KAAKwE,OAAS,IAAKD,QAAQ,KAAO,IACtD,EAAKxE,OAAOC,KAAKwE,OAAS5O,QAAQ,EAAKmK,OAAOC,KAAKwE,OAAS,IAAKD,QAAQ,IACzE,EAAKxD,QAAQf,KAAKyE,SAASzM,MAAMK,OAAjC,UAAuE,IAA1B,EAAK0H,OAAOC,KAAKwE,OAA9D,QAjVU,KAuVtBI,0BAA4B,SAACjE,GACzB,IAAIkE,EAAIlE,EAAImE,QChVQ,SAACvB,GAIzB,IAFA,IAAIwB,EAAY,EACZvB,EAAYD,EACTC,GACHuB,GAAavB,EAAUuB,UACvBvB,EAAYA,EAAUC,aAE1B,OAAOsB,EDwUmBC,CAAa,EAAKjE,QAAQf,KAAKwD,WACjDqB,GAAK,IACL,EAAK9E,OAAOC,KAAKwE,OAAS,EAC1B,EAAKzD,QAAQf,KAAKyE,SAASzM,MAAMK,OAAjC,UAAuE,IAA1B,EAAK0H,OAAOC,KAAKwE,OAA9D,MACOK,GAAK,IACZ,EAAK9E,OAAOC,KAAKwE,OAAS,GAC1B,EAAKzD,QAAQf,KAAKyE,SAASzM,MAAMK,OAAjC,UAAuE,IAA1B,EAAK0H,OAAOC,KAAKwE,OAA9D,MACOK,GAAK,IACZ,EAAK9E,OAAOC,KAAKwE,OAAS,GAC1B,EAAKzD,QAAQf,KAAKyE,SAASzM,MAAMK,OAAjC,UAAuE,IAA1B,EAAK0H,OAAOC,KAAKwE,OAA9D,MACOK,GAAK,IACZ,EAAK9E,OAAOC,KAAKwE,OAAS,GAC1B,EAAKzD,QAAQf,KAAKyE,SAASzM,MAAMK,OAAjC,UAAuE,IAA1B,EAAK0H,OAAOC,KAAKwE,OAA9D,MACOK,GAAK,IACZ,EAAK9E,OAAOC,KAAKwE,OAAS,GAC1B,EAAKzD,QAAQf,KAAKyE,SAASzM,MAAMK,OAAjC,UAAuE,IAA1B,EAAK0H,OAAOC,KAAKwE,OAA9D,MACOK,GAAK,IACZ,EAAK9E,OAAOC,KAAKwE,OAAS,GAC1B,EAAKzD,QAAQf,KAAKyE,SAASzM,MAAMK,OAAjC,UAAuE,IAA1B,EAAK0H,OAAOC,KAAKwE,OAA9D,MACOK,GAAK,IACZ,EAAK9E,OAAOC,KAAKwE,OAAS,GAC1B,EAAKzD,QAAQf,KAAKyE,SAASzM,MAAMK,OAAjC,UAAuE,IAA1B,EAAK0H,OAAOC,KAAKwE,OAA9D,MACOK,GAAK,IACZ,EAAK9E,OAAOC,KAAKwE,OAAS,GAC1B,EAAKzD,QAAQf,KAAKyE,SAASzM,MAAMK,OAAjC,UAAuE,IAA1B,EAAK0H,OAAOC,KAAKwE,OAA9D,MACOK,GAAK,IACZ,EAAK9E,OAAOC,KAAKwE,OAAS,GAC1B,EAAKzD,QAAQf,KAAKyE,SAASzM,MAAMK,OAAjC,UAAuE,IAA1B,EAAK0H,OAAOC,KAAKwE,OAA9D,MACOK,GAAK,GACZ,EAAK9E,OAAOC,KAAKwE,OAAS,GAC1B,EAAKzD,QAAQf,KAAKyE,SAASzM,MAAMK,OAAjC,UAAuE,IAA1B,EAAK0H,OAAOC,KAAKwE,OAA9D,MACOK,EAAI,IACX,EAAK9E,OAAOC,KAAKwE,OAAS,EAC1B,EAAKzD,QAAQf,KAAKyE,SAASzM,MAAMK,OAAjC,UAAuE,IAA1B,EAAK0H,OAAOC,KAAKwE,OAA9D,OAzXc,KAkYtBnD,uCAAyC,WAChC,EAAKP,UAAUmE,WAAW,EAAKnE,UAAUT,OACzC,EAAKU,QAAQkE,WAAW,EAAKlE,QAAQV,OACtC,EAAK6E,WACL/J,aAAa,EAAK+J,UAClB,EAAKA,SAAW,MAEhB,EAAKC,aACL,EAAKpF,OAAOqB,OACZ,EAAKW,cAAcqD,SACvB,EAAKF,SAAWtU,YAAW,WACvB,EAAKmQ,QAAQZ,OACb,EAAKW,UAAUX,SAChB,EAAKkF,YA/YU,KAmZtBX,4BAA8B,WACrB,EAAK3D,QAAQkE,WAAW,EAAKlE,QAAQV,OACtC,EAAK6E,WACL/J,aAAa,EAAK+J,UAClB,EAAKA,SAAW,MAEhB,EAAKC,aACL,EAAKpF,OAAOqB,OACZ,EAAKW,cAAcqD,SACvB,EAAKF,SAAWtU,YAAW,WACvB,EAAKmQ,QAAQZ,OACT,EAAKW,UAAUmE,WAAW,EAAKnE,UAAUX,SAC9C,EAAKkF,YA/ZU,KAmatBC,6BAA+B,WAC3B,EAAKH,aAAc,GApaD,KAwatBI,6BAA+B,WAC3B,EAAKJ,aAAc,GAzaD,KAgbtBK,uBAAyB,WAChBhF,SAASiF,kBASNjF,SAASkF,iBACTlF,SAASkF,mBACHlF,SAASmF,oBACfnF,SAASmF,sBACHnF,SAASoF,wBACfpF,SAASoF,yBAbT,EAAKC,iBAAiB7F,KAAK8F,kBAC3B,EAAKD,iBAAiB7F,KAAK8F,oBACrB,EAAKD,iBAAiB7F,KAAK+F,qBACjC,EAAKF,iBAAiB7F,KAAK+F,uBACrB,EAAKF,iBAAiB7F,KAAKgG,yBACjC,EAAKH,iBAAiB7F,KAAKgG,2BAvbjB,KAuctBnF,eAAiB,WAEb,EAAKd,OAAOC,KAAKM,iBAAiB,aAAc,EAAKwB,kBACrD,EAAKC,cAAc/B,KAAKM,iBAAiB,YAAa,EAAK4B,wBAC3D,EAAKnC,OAAOC,KAAKM,iBAAiB,iBAAkB,EAAKyC,iBACzDvC,SAASF,iBAAiB,UAAW,EAAK2D,yBAC1C,EAAKlE,OAAOC,KAAKM,iBAAiB,QAAS,EAAKyD,iBAChD,EAAKC,OAAOhE,KAAKM,iBAAiB,QAAS,EAAKyD,iBAChDvD,SAASF,iBAAiB,UAAW,EAAKuD,uCAC1CrD,SAASF,iBAAiB,QAAS,EAAKwD,qCACxC,EAAK7B,eAAejC,KAAKwD,UAAUlD,iBAAiB,YAAa,EAAK6C,6CACtE,EAAK8C,gBAAgBjG,KAAKM,iBAAiB,aAAc,EAAK4D,4BAC9D1D,SAASF,iBAAiB,UAAW,EAAKqE,4BAC1C,EAAK5D,QAAQf,KAAKwD,UAAUlD,iBAAiB,QAAS,EAAKsE,2BAC3D,EAAK7E,OAAOC,KAAKM,iBAAiB,UAAW,EAAK2C,iBAElD,EAAKnC,UAAUd,KAAKM,iBAAiB,aAAc,EAAKgF,8BACxD,EAAKvE,QAAQf,KAAKwD,UAAUlD,iBAAiB,aAAc,EAAKgF,8BAChE,EAAKxE,UAAUd,KAAKM,iBAAiB,aAAc,EAAKiF,8BACxD,EAAKxE,QAAQf,KAAKwD,UAAUlD,iBAAiB,aAAc,EAAKiF,8BAChE,EAAKU,gBAAgBjG,KAAKM,iBAAiB,YAAa,EAAKe,wCAE7D,EAAKtB,OAAOC,KAAKM,iBAAiB,UAAW,EAAKJ,QAAQG,MAC1D,EAAKN,OAAOC,KAAKM,iBAAiB,UAAW,EAAKJ,QAAQC,MAE1D,EAAK0F,iBAAiB7F,KAAKM,iBAAiB,WAAY,EAAKkF,yBAhe3C,KAsetBU,qBAAuB,WAEnB,EAAKnG,OAAOC,KAAKC,oBAAoB,iBAAkB,EAAKH,8BAC5D,EAAKC,OAAOC,KAAKC,oBAAoB,QAAS,EAAKM,0BACnD,EAAKH,kBAAkBJ,KAAKC,oBAAoB,QAAS,EAAKM,0BAC9DC,SAASP,oBAAoB,UAAW,EAAKQ,+BAE7C,EAAKV,OAAOC,KAAKC,oBAAoB,aAAc,EAAK6B,kBACxD,EAAKC,cAAc/B,KAAKC,oBAAoB,YAAa,EAAKiC,wBAC9D,EAAKH,cAAc/B,KAAKmG,YAAc,KACtC,EAAKpG,OAAOC,KAAKC,oBAAoB,iBAAkB,EAAK8C,iBAC5D,EAAKhD,OAAOC,KAAKC,oBAAoB,QAAS,EAAKF,OAAOqG,2BAC1D5F,SAASP,oBAAoB,UAAW,EAAKgE,yBAC7C,EAAKlE,OAAOC,KAAKC,oBAAoB,QAAS,EAAK8D,iBACnD,EAAKC,OAAOhE,KAAKC,oBAAoB,QAAS,EAAK8D,iBACnDvD,SAASP,oBAAoB,UAAW,EAAK4D,uCAC7CrD,SAASP,oBAAoB,QAAS,EAAK6D,qCAC3C,EAAK7B,eAAejC,KAAKwD,UAAUvD,oBAAoB,YAAa,EAAKkD,6CACzE3C,SAASP,oBAAoB,UAAW,EAAKmD,2CAC7C,EAAK6C,gBAAgBjG,KAAKC,oBAAoB,aAAc,EAAKiE,4BACjE1D,SAASP,oBAAoB,UAAW,EAAK0E,4BAC7C,EAAK5D,QAAQf,KAAKwD,UAAUvD,oBAAoB,QAAS,EAAK2E,2BAC9D,EAAK7E,OAAOC,KAAKC,oBAAoB,UAAW,EAAKgD,iBAErD,EAAKnC,UAAUd,KAAKC,oBAAoB,aAAc,EAAKqF,8BAC3D,EAAKvE,QAAQf,KAAKwD,UAAUvD,oBAAoB,aAAc,EAAKqF,8BACnE,EAAKxE,UAAUd,KAAKC,oBAAoB,aAAc,EAAKsF,8BAC3D,EAAKxE,QAAQf,KAAKwD,UAAUvD,oBAAoB,aAAc,EAAKsF,8BACnE,EAAKU,gBAAgBjG,KAAKC,oBAAoB,YAAa,EAAKoB,wCAEhE,EAAKtB,OAAOC,KAAKC,oBAAoB,UAAW,EAAKF,OAAOsG,gBAC5D,EAAKtG,OAAOC,KAAKC,oBAAoB,UAAW,EAAKF,OAAOuG,gBAC5D,EAAKvG,OAAOC,KAAKC,oBAAoB,UAAW,EAAKC,QAAQG,MAC7D,EAAKN,OAAOC,KAAKC,oBAAoB,UAAW,EAAKC,QAAQC,MAE7D,EAAK0F,iBAAiB7F,KAAKC,oBAAoB,WAAY,EAAKuF,yBAzgB9C,KA6gBtBe,YAAc,WACVC,aAAY,WACRnL,QAAQoL,QACRpL,QAAQC,IAAI,aAAc,EAAKyE,OAAOW,SACtCrF,QAAQC,IAAI,aAAc,EAAKyE,OAAOmD,SACtC7H,QAAQC,IAAI,aAAc,EAAKyE,OAAO8C,SACtCxH,QAAQC,IAAI,WAAY,EAAKyE,OAAOqB,OACpC/F,QAAQC,IAAI,gBAAiB,EAAK6J,aAClC9J,QAAQC,IAAI,sBAAuB,EAAKyF,QAAQkE,WAChD5J,QAAQC,IAAI,wBAAyB,EAAKwF,UAAUmE,WACpD5J,QAAQC,IAAI,gBAAiB,EAAKyG,cAAcI,YAChD9G,QAAQC,IAAI,yBAA0B,EAAKyG,cAAca,qBACzDvH,QAAQC,IAAI,0BAA2B,EAAK2G,eAAee,wBAC5D,MAzhBH0D,KAAK3G,OAAS,IAAI4G,GAAM9G,EAAS+G,OACjCF,KAAKtG,kBAAoB,IAAIyG,GAAiB,CAC1C7G,KAAMH,EAASiH,iBACfpL,OAAQmE,EAASnE,SAErBgL,KAAK3F,QAAU,IAAIgG,GAAO,CACtBvD,UAAW3D,EAASmH,gBACpBvC,SAAU5E,EAASoH,eACnBvL,OAAQmE,EAASnE,SAErBgL,KAAK5F,UAAY,IAAIoG,GAAS,CAC1BlH,KAAMH,EAASsH,SACfzL,OAAQmE,EAASnE,SAErBgL,KAAK3E,cAAgB,IAAIqF,GAAa,CAClCpH,KAAMH,EAASwH,eAEnBX,KAAKzE,eAAiB,IAAIqF,GAAc,CACpCtH,KAAM,CACFwD,UAAW3D,EAAS0H,cAAc/D,UAClCiB,SAAU5E,EAAS0H,cAAc9C,YAGzCiC,KAAK1C,OAAS,IAAIwD,GAAM,CACpBxH,KAAMH,EAASuB,MACf1F,OAAQmE,EAASnE,SAErBgL,KAAK7E,OAAS,IAAI4F,GAAM,CACpBzH,KAAMH,EAAS6H,QAEnBhB,KAAK/E,OAAS,IAAIgG,GAAM,CACpB3H,KAAMH,EAAS+H,QAEnBlB,KAAKT,gBAAkB,IAAI4B,GAAe,CACtC7H,KAAMH,EAASiI,iBAEnBpB,KAAKb,iBAAmB,IAAIkC,GAAgB,CACxC/H,KAAMH,EAASmI,kBAEnBtB,KAAKxG,QAAU,IAAI+H,GAAO,CACtBjI,KAAMH,EAASZ,OACfvD,OAAQmE,EAASnE,SAErBgL,KAAKrB,SAAWxF,EAASqI,QACzBxB,KAAKvB,aAAc,EACnBuB,KAAKxB,SAAW,KAChBwB,KAAK3G,OAAOC,KAAKM,iBAAiB,iBAAkBoG,KAAK5G,8BACzD4G,KAAKxG,QAAQG,QAkffwG,GACF,cAA6B,IAAD,OAAf7G,EAAe,EAAfA,KAAMtE,EAAS,EAATA,OAAS,0BAI5B2E,KAAO,WACH,EAAKL,KAAKmI,UAAU3T,IAApB,UAA2B,EAAK4T,QAAQ,wBALhB,KAO5BjI,KAAO,WACH,EAAKH,KAAKmI,UAAUE,OAApB,UAA8B,EAAKD,QAAQ,wBAP3C1B,KAAK1G,KAAOA,EACZ0G,KAAK0B,QAAU1M,GAUjBiL,GACF,WAAYC,GAAQ,IAAD,iCAUnBP,eAAiB,WACbhL,QAAQC,IAAI,WACZ,EAAKoF,SAAU,EACf,EAAKwC,SAAU,EACX,EAAKlD,KAAKsI,SACd,EAAKzF,SAAU,IAfA,KAiBnByD,eAAiB,WACb,EAAKzD,SAAU,EACf,EAAKK,SAAU,EACf7H,QAAQC,IAAI,YApBG,KAsBnB0F,KAAO,WACH,EAAKhB,KAAKgB,OACV,EAAK6B,SAAU,GAxBA,KA0BnBC,KAAO,WACH,EAAK9C,KAAKoB,QACV,EAAKyB,SAAU,GA5BA,KA8BnB3B,aAAe,SAACqH,GACZ,EAAKvI,KAAKwE,OAAS+D,GA/BJ,KAiCnBC,KAAO,WACH,EAAKxI,KAAK1F,OAAQ,GAlCH,KAoCnB2G,OAAS,WACL,EAAKjB,KAAK1F,OAAQ,GArCH,KAuCnBmI,uBAAyB,SAACgG,GACtB,EAAKzI,KAAKuB,YAAckH,GAxCT,KA2CnBrC,0BAA4B,WACxB,EAAKpG,KAAK6C,SAAU,GA3CpB6D,KAAKhG,SAAU,EACfgG,KAAKxD,SAAU,EACfwD,KAAK7D,SAAU,EACf6D,KAAKtF,OAAQ,EACbsF,KAAK1G,KAAO4G,EACZF,KAAK1G,KAAKM,iBAAiB,UAAWoG,KAAKL,gBAC3CK,KAAK1G,KAAKM,iBAAiB,UAAWoG,KAAKJ,gBAC3CI,KAAK1G,KAAKM,iBAAiB,QAASoG,KAAKN,4BAwC3CW,GACF,cAA4C,IAAD,OAA9BvD,EAA8B,EAA9BA,UAAWiB,EAAmB,EAAnBA,SAAU/I,EAAS,EAATA,OAAS,0BAK3C2E,KAAO,WACH,EAAKL,KAAKwD,UAAU2E,UAAU3T,IAA9B,UAAqC,EAAK4T,QAAQ,4BAClD,EAAKnD,WAAY,GAPsB,KAS3C9E,KAAO,WACH,EAAKH,KAAKwD,UAAU2E,UAAUE,OAA9B,UAAwC,EAAKD,QAAQ,4BACrD,EAAKnD,WAAY,GAXsB,KAa3C/D,aAAe,SAACqH,GACZ,EAAKvI,KAAKyE,SAASzM,MAAMK,OAAzB,UAA6C,IAARkQ,EAArC,MAbA7B,KAAK1G,KAAO,CAACwD,YAAWiB,YACxBiC,KAAK0B,QAAU1M,EACfgL,KAAKzB,WAAY,GAenBiC,GACF,cAA6B,IAAD,OAAflH,EAAe,EAAfA,KAAMtE,EAAS,EAATA,OAAS,0BAK5B2E,KAAO,WACH,EAAKL,KAAKmI,UAAU3T,IAApB,UAA2B,EAAK4T,QAAQ,2BACxC,EAAKnD,WAAY,GAPO,KAS5B9E,KAAO,WACH,EAAKH,KAAKmI,UAAUE,OAApB,UAA8B,EAAKD,QAAQ,2BAC3C,EAAKnD,WAAY,GAVjByB,KAAK1G,KAAOA,EACZ0G,KAAK0B,QAAU1M,EACfgL,KAAKzB,WAAY,GAYnBmC,GACF,cAAqB,IAAD,OAAPpH,EAAO,EAAPA,KAAO,0BAQpBgC,eAAiB,SAACqB,GACd,EAAKrD,KAAKhI,MAAM0Q,KAAhB,UAA0BrF,EAA1B,MARAqD,KAAK1G,KAAOA,EACZ0G,KAAKvE,YAAa,EAClBuE,KAAK9D,qBAAsB,EAC3B8D,KAAK1G,KAAKmG,YAAc,WACpB,OAAO,IAQbmB,GACF,cAAqB,IAAD,OAAPtH,EAAO,EAAPA,KAAO,0BAMpBgC,eAAiB,SAACqB,GACd,EAAKrD,KAAKyE,SAASzM,MAAMI,MAAzB,UAAoCiL,EAApC,MANAqD,KAAK1G,KAAO,GACZ0G,KAAK1G,KAAKwD,UAAYxD,EAAKwD,UAC3BkD,KAAK1G,KAAKyE,SAAWzE,EAAKyE,SAC1BiC,KAAK1D,sBAAuB,GAO9BwE,GACF,cAA6B,IAAD,OAAfxH,EAAe,EAAfA,KAAMtE,EAAS,EAATA,OAAS,0BAI5B2E,KAAO,WACH,EAAKL,KAAKmI,UAAU3T,IAApB,UAA2B,EAAK4T,QAAQ,kBALhB,KAO5BjI,KAAO,WACH,EAAKH,KAAKmI,UAAUE,OAApB,UAA8B,EAAKD,QAAQ,kBAP3C1B,KAAK1G,KAAOA,EACZ0G,KAAK0B,QAAU1M,GAUjB+L,GACF,cAAqB,IAARzH,EAAO,EAAPA,KAAO,qBAChB0G,KAAK1G,KAAOA,GAId2H,GACF,cAAqB,IAAR3H,EAAO,EAAPA,KAAO,qBAChB0G,KAAK1G,KAAOA,GAId6H,GACF,cAAqB,IAAR7H,EAAO,EAAPA,KAAO,qBAChB0G,KAAK1G,KAAOA,GAId+H,GACF,cAAqB,IAAR/H,EAAO,EAAPA,KAAO,qBAChB0G,KAAK1G,KAAOA,GAKdiI,GACF,cAA6B,IAAD,OAAfjI,EAAe,EAAfA,KAAMtE,EAAS,EAATA,OAAS,0BAK5B2E,KAAO,WACH,EAAKL,KAAKmI,UAAU3T,IAApB,UAA2B,EAAK4T,QAAQ,kBACxC,EAAKzF,WAAY,GAPO,KAS5BxC,KAAO,WACH,EAAKH,KAAKmI,UAAUE,OAApB,UAA8B,EAAKD,QAAQ,kBAC3C,EAAKzF,WAAY,GAVjB+D,KAAK1G,KAAOA,EACZ0G,KAAK0B,QAAU1M,EACfgL,KAAK/D,WAAY,GEvjBV1I,I,OA7IK,SAAC,GAAuC,IAAtC0O,EAAqC,EAArCA,UAAWC,EAA0B,EAA1BA,WAAYC,EAAc,EAAdA,SACnCjC,EAAQxM,mBACRqK,EAAWrK,mBACX0O,EAAoB1O,mBACpB2O,EAAU3O,mBACVoJ,EAAYpJ,mBACZ4O,EAAa5O,mBACb6O,EAAgB7O,mBAChBgH,EAAQhH,mBACRoK,EAASpK,mBACT4M,EAAkB5M,mBAClB0M,EAAmB1M,mBACnB8O,EAAW9O,mBACX+O,EAAU/O,mBACV6E,EAAS7E,mBAiCf,OA9BAc,qBAAU,WACN,IAAMkO,EAAc,IAAIxJ,GAAe,CACnCgH,MAAOA,EAAMyC,QACbvC,iBAAkBA,EAAiBuC,QACnClC,SAAU8B,EAAcI,QACxBrC,gBAAiBA,EAAgBqC,QACjCpC,eAAgBzC,EAAO6E,QACvBhC,aAAc0B,EAAQM,QACtB9B,cAAe,CACX/D,UAAWsF,EAAkBO,QAC7B5E,SAAUA,EAAS4E,SAEvBjI,MAAOA,EAAMiI,QACb3B,MAAOwB,EAASG,QAChBzB,MAAOuB,EAAQE,QACfvB,eAAgBtE,EAAU6F,QAC1BrB,gBAAiBgB,EAAWK,QAC5BpK,OAAQA,EAAOoK,QACfnB,QAAS,IACTxM,OAAQA,OAKZ,OAAO,WACH0N,EAAYlD,0BAEjB,IAIC,qBACIzW,UAAWiM,KAAO4N,iBAClBjP,IAAK2O,EAFT,SAII,sBACIvZ,UAAWiM,KAAO6N,iBAClBlP,IAAKmJ,EAFT,UAII,uBACInJ,IAAKuM,EACLnX,UAAWiM,KAAO8N,OAClBtR,IAAKyQ,EACLc,OAAQb,EACRpO,UAAU,EACVF,OAAO,EACP6M,UAAU,IAEd,sBACI1X,UAAWiM,KAAOgO,gBAClBrP,IAAK4O,EAFT,UAII,sBACIxZ,UAAWiM,KAAO,sBAClBrB,IAAKyO,EAFT,UAII,qBACIrZ,UAAWiM,KAAOiO,aAClBtP,IAAKoK,IAET,qBACIhV,UAAWiM,KAAOqN,QAClB1O,IAAK0O,OAGb,sBAAKtZ,UAAWiM,KAAOgG,KAAvB,UACI,sBACIjS,UAAWiM,KAAOkO,aAClBvP,IAAK6O,EAFT,sBADJ,IAOI,sBACIzZ,UAAWiM,KAAOmO,SAClBxP,IAAK8O,EAFT,sBAMA,sBACI1Z,UAAWiM,KAAOoO,UADtB,SAEEjB,UAGV,qBACIpZ,UAAWiM,KAAOqO,iBAClB1P,IAAK2M,EAFT,SAII,qBACIvX,UAAWiM,KAAOsO,gBAClB3P,IAAKmK,MAGb,sBACI/U,UAAWiM,KAAO0F,MAClB/G,IAAK+G,EAFT,UAII,qBAAK3R,UAAWiM,KAAOuO,kBACvB,qBAAKxa,UAAWiM,KAAOuO,qBAE3B,qBACIxa,UAAWiM,KAAOwO,YAClB7P,IAAKyM,EAFT,2BAIA,qBACIrX,UAAWiM,KAAOuD,OAClB5E,IAAK4E,EAFT,SAII,sBAAKxP,UAAU,aAAf,UACI,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,oCCrHT0a,GAlBI,WACf,IAAM/S,EAAUC,eAMhB,OACI,wBACIC,KAAK,SACL7H,UAAU,eACVyH,QARc,WAClBE,EAAQgT,UAIR,mBCyBOC,GA5BS,WACpB,I5BuJ4Bza,E4BvJtB0a,EAAWC,eACX/R,EAAS,IAAIgS,gBAAgBF,EAASG,QAAQC,IAAI,UAElDC,EAAe5S,a5BoJOnI,E4BpJsB4I,E5BoJhB,SAAAvG,GAAK,OAAIkB,EAAelB,EAAOrC,GAAIgb,c4BnJ/DC,EAAa9S,YAAYlD,EAAgB2D,IACzCqQ,EAAW9Q,YAAYnD,EAAa4D,IAG1C,OACI,qCACI,cAAC,EAAD,IAEA,sBAAK/I,UAAU,SAAf,UAEI,cAAC,GAAD,CACIkZ,UAAWgC,EACX/B,WAAYiC,EACZhC,SAAUA,IAGd,cAAC,GAAD,W,6BhC1BViC,GAAc,SAACC,GACjB,IAAOC,EAAgFD,EAAhFC,MAAO1T,EAAyEyT,EAAzEzT,KAAM2T,EAAmEF,EAAnEE,YAAarb,EAAsDmb,EAAtDnb,GAAI8N,EAAkDqN,EAAlDrN,YAArC,EAAuFqN,EAArCG,KAAQC,EAA1D,EAA0DA,QAAS9Z,EAAnE,EAAmEA,MAAO+Z,EAA1E,EAA0EA,QAEpErU,EAAU,CAAC,kBAKjB,OAJIoU,GAAW9Z,GACX0F,EAAQpB,KAAK,yBAIb,sBAAKlG,UAAWsH,EAAQE,KAAK,KAA7B,UACI,mDAAW+T,GAAX,IAAkBvb,UAAU,iBAAiB6H,KAAMA,EAAM2T,YAAaA,KACtE,uBAAOxb,UAAU,iCAAiC4b,QAASzb,EAA3D,SAAgE8N,IAC/DyN,IACC9Z,GAAS,+BAAOA,KACb+Z,GAAW,+BAAOA,SAM7BE,GAAW,SAAAC,GAAK,OAAKA,GAA0B,kBAAVA,OAAqBC,EAAY,YACtEC,GAAQ,SAAAF,GAAK,OACfA,IAAU,4CAA4CG,KAAKH,GACrD,6BACAC,GAGJG,IAFYpc,EAEW,EAFJ,SAAAgc,GAAK,OAC1BA,GAASA,EAAMxX,OAASxE,EAAxB,kBAAyCA,EAAzC,4BAAoEic,IA4CzDI,gBAAU,CACrBC,KAAM,mBADKD,EAxCI,SAACb,GAChB,IAAOe,EAA6Cf,EAA7Ce,aAAcC,EAA+BhB,EAA/BgB,SAAUC,EAAqBjB,EAArBiB,WAAY3a,EAAS0Z,EAAT1Z,MAE3C,OACI,uBAAM4a,SAAUH,EAAcrc,UAAU,gBAAxC,UACK4B,GAAS,qBAAK5B,UAAU,mBAAf,SACN,4BAAI4B,MAGR,sBAAK5B,UAAU,kBAAf,UAEI,cAACyc,GAAA,EAAD,CACI5U,KAAK,OACL2T,YAAY,gBACZnZ,KAAK,aACLlC,GAAG,aACHuc,UAAWrB,GACXpN,YAAa,gBACb0O,SAAU,CAACd,GAAUG,MAIzB,cAACS,GAAA,EAAD,CACI5U,KAAK,WACL2T,YAAY,WACZnZ,KAAK,gBACLlC,GAAG,gBACHuc,UAAWrB,GACXpN,YAAa,WACb0O,SAAU,CAACd,GAAUK,SAG7B,qBAAKlc,UAAU,kBAAf,SACI,wBAAQA,UAAU,eAAe6H,KAAK,SAAS+U,SAAUN,GAAYC,EAArE,6BiCnBDM,GAvCA,WACX,IAAMzV,EAAWC,cAUjB,OACI,qCACI,cAAC,EAAD,IAEA,sBAAKrH,UAAU,YAAf,UACI,yBAAQA,UAAU,8BAAlB,UAEI,cAAC,EAAD,IAEA,oBAAIA,UAAU,8BAAd,wBAGJ,qBAAKA,UAAU,6BAAf,SAEI,cAAC,GAAD,CACIwc,SAvBE,SAACV,GzBDN,IAACgB,EyBEd1V,GzBFc0V,EyBEC,CACXzb,KAAMya,EAAM,cACZxa,SAAUwa,EAAM,kBzBJP,uCAAc,WAAO1U,GAAP,eAAAlF,EAAA,6DAC/BkF,EAASW,MADsB,kBAGJjH,EAAUM,YAAY0b,GAHlB,OAGrBC,EAHqB,OAI3B3V,EAASpE,GAAU+Z,IACnB3N,OAAOzH,QAAQqV,OALY,gDAO3B5V,EAAS6V,aAAW,kBAAmB,CACnCC,OAAO,EAAD,MAEV9V,EAASY,GAAO,EAAD,KAVY,yDAAd,6DyB6BL,cAAC,GAAD,WCnBDmV,GAfc,WACzB,IAAM9Q,EAAW/D,YAAYvB,GACvBuF,EAA0BhE,YAAYzC,GAE5C,OAAwB,IAApBwG,EAAS/H,OAEL,qEAGD,cAAC,GAAD,CACH+H,SAAUA,EACVC,wBAAyBA,KC+BlB8Q,GC5Ca,SAACC,GAmBzB,OAlBoC,SAAC/B,GACjC,IAAMjT,EAAmBC,YAAYJ,IAC/BP,EAAUC,eAEhB,OAAKS,EAUD,cAACgV,EAAD,gBAAe/B,IARX,cAAC,KAAD,CAAUpV,MAAI,EAACqB,GAAI,CACf+V,SAAU,SACV9a,MAAO,CAAE+a,SAAU5V,EAAQkT,SAASyC,cDmCzCF,EApCI,SAAC9B,GAChB,IAAMzO,EAAcvE,YAAYzB,GAEhC,OACI,qCACI,cAAC,EAAD,IAEA,sBAAK7G,UAAU,YAAf,UACI,yBAAQA,UAAU,8BAAlB,UAEI,cAAC,EAAD,IAEA,oBAAIA,UAAU,8BAAd,qBAEA,cAAC,GAAD,OAGJ,0BAASA,UAAU,UAAnB,UACI,oBAAIA,UAAU,iCAAd,qBAEA,cAAC,GAAD,IAEC6M,GAAe,cAAC,GAAD,CACZtC,KAAM,eAKd,cAAC,GAAD,aE9BDiT,GAPC,WACZ,OACI,uDCoDOC,GA3CH,WACR,IAAMC,EAAmBpV,YAAYxC,GAC/BsB,EAAWC,cAOjB,OALAoE,qBAAU,WACNrE,EAASpF,OACV,CAACoF,IAIA,eAAC,KAAD,WACI,eAAC,KAAD,CAAOuW,OAAK,EAACzQ,KAAK,IAAlB,UAC0B,YAArBwQ,GAAkC,cAAC,GAAD,IACb,WAArBA,GAAiC,cAAC,GAAD,IACZ,cAArBA,GAAoC,cAAC,GAAD,OAEzC,cAAC,KAAD,CAAOxQ,KAAK,SAAZ,SACI,cAAC,GAAD,MAEJ,cAAC,KAAD,CACIA,KAAK,aACLyB,OAAQ,gBAAEC,EAAF,EAAEA,MAAF,OACJ,cAAC,GAAD,CAAYzO,GAAIyO,EAAMC,OAAO1O,QAGrC,cAAC,KAAD,CAAO+M,KAAK,eACRyB,OAAQ,gBAAEC,EAAF,EAAEA,MAAF,OACL,cAAC,GAAD,CAAM/K,UAAW+K,EAAMC,OAAOhH,UAGrC,cAAC,KAAD,CAAOqF,KAAK,QAAZ,SACI,cAAC,GAAD,MAEJ,cAAC,KAAD,CAAOA,KAAM,UAAb,SACI,cAAC,GAAD,MAEJ,cAAC,KAAD,CAAOA,KAAK,IAAZ,SACI,cAAC,GAAD,U,UCnCD0Q,GATDC,YAAe,CACzBC,QAAS,CACLjd,MAAOkd,EACP5V,cAAe6V,GACfpX,WAAYqX,EACZ7B,KAAM8B,QCJdC,IAASxP,OACL,cAAC,IAAD,CAAUiP,MAAOA,GAAjB,SACI,cAAC,IAAD,UACI,cAAC,GAAD,QAEK7M,SAASqN,eAAT,U,mBCZjBxe,EAAOC,QAAU,CAAC,OAAS,wBAAwB,iBAAmB,kCAAkC,aAAe,iC","file":"static/js/main.a8c7042e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"playerBackground\":\"video-player_playerBackground__1ENuG\",\"player_container\":\"video-player_player_container__2cIrh\",\"player\":\"video-player_player__2G6id\",\"player_controls\":\"video-player_player_controls__1hrPD\",\"player_controls--show\":\"video-player_player_controls--show__e9c-i\",\"progress_bar\":\"video-player_progress_bar__3VhxT\",\"progress_bar--grey\":\"video-player_progress_bar--grey__2VsJi\",\"toggler\":\"video-player_toggler__1U5R2\",\"pause\":\"video-player_pause__3LajL\",\"pause--show\":\"video-player_pause--show__2JJJV\",\"horizontal_line\":\"video-player_horizontal_line__10XKf\",\"volume_container\":\"video-player_volume_container__2g74N\",\"volume_container--show\":\"video-player_volume_container--show__2ArIv\",\"volume_progress\":\"video-player_volume_progress__3KGPJ\",\"clickToPlay\":\"video-player_clickToPlay__3bqUo\",\"clickToPlay--show\":\"video-player_clickToPlay--show__16N4s\",\"time\":\"video-player_time__1BkK8\",\"current_time\":\"video-player_current_time__qmv1h\",\"film_name\":\"video-player_film_name__wgWpR\",\"loader\":\"video-player_loader__1C6b7\",\"loader--show\":\"video-player_loader--show__sfAcZ\"};","import React from \"react\"\r\nimport {Field, reduxForm} from \"redux-form\"\r\n\r\n\r\nconst renderField = (props) => {\r\n    const {input, type, placeholder, id, description, meta: { touched, error, warning }} = props\r\n\r\n    const classes = ['sign-in__field']\r\n    if (touched && error) {\r\n        classes.push('sign-in__field--error')\r\n    }\r\n\r\n    return (\r\n        <div className={classes.join(' ')}>\r\n            <input {...input} className=\"sign-in__input\" type={type} placeholder={placeholder}/>\r\n            <label className=\"sign-in__label visually-hidden\" htmlFor={id}>{description}</label>\r\n            {touched &&\r\n            ((error && <span>{error}</span>) ||\r\n                (warning && <span>{warning}</span>))}\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nconst required = value => (value || typeof value === 'number' ? undefined : 'Required')\r\nconst email = value =>\r\n    value && !/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(value)\r\n        ? 'Invalid email address'\r\n        : undefined\r\nconst minLength = min => value =>\r\n    value && value.length < min ? `Must be ${min} characters or more` : undefined\r\nconst minLength8 = minLength(8)\r\n\r\n\r\nconst SingInForm = (props) => {\r\n    const {handleSubmit, pristine, submitting, error} = props\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit} className=\"sign-in__form\">\r\n            {error && <div className=\"sign-in__message\">\r\n                <p>{error}</p>\r\n            </div>}\r\n\r\n            <div className=\"sign-in__fields\">\r\n\r\n                <Field\r\n                    type=\"text\"\r\n                    placeholder=\"Email address\"\r\n                    name=\"user-email\"\r\n                    id=\"user-email\"\r\n                    component={renderField}\r\n                    description={\"Email address\"}\r\n                    validate={[required, email]}\r\n                />\r\n\r\n\r\n                <Field\r\n                    type=\"password\"\r\n                    placeholder=\"Password\"\r\n                    name=\"user-password\"\r\n                    id=\"user-password\"\r\n                    component={renderField}\r\n                    description={\"Password\"}\r\n                    validate={[required, minLength8]}\r\n                />\r\n            </div>\r\n            <div className=\"sign-in__submit\">\r\n                <button className=\"sign-in__btn\" type=\"submit\" disabled={pristine || submitting}>Sign in</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\n\r\nexport default reduxForm({\r\n    form: 'authorisingUser',\r\n})(SingInForm)","import React from \"react\"\r\n\r\n\r\nconst VisuallyHidden = () => {\r\n    return (\r\n        <div className=\"visually-hidden\">\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" xmlnsXlink=\"http://www.w3.org/1999/xlink\">\r\n                <symbol id=\"add\" viewBox=\"0 0 19 20\">\r\n                    <title>+</title>\r\n                    <desc>Created with Sketch.</desc>\r\n                    <g id=\"Page-1\" stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\r\n                        <polygon\r\n                            id=\"+\"\r\n                            fill=\"#EEE5B5\"\r\n                            points=\"10.777832 11.2880859 10.777832 19.5527344 8.41650391 19.5527344 8.41650391 11.2880859 0.627929688 11.2880859 0.627929688 8.92675781 8.41650391 8.92675781 8.41650391 0.662109375 10.777832 0.662109375 10.777832 8.92675781 18.5664062 8.92675781 18.5664062 11.2880859\"/>\r\n                    </g>\r\n                </symbol>\r\n                <symbol id=\"full-screen\" viewBox=\"0 0 27 27\">\r\n                    <path fillRule=\"evenodd\" clipRule=\"evenodd\"\r\n                          d=\"M23.8571 0H16V3.14286H23.8571V11H27V3.14286V0H23.8571Z\"\r\n                          fill=\"#FFF9D9\" fillOpacity=\"0.7\"/>\r\n                    <path fillRule=\"evenodd\" clipRule=\"evenodd\"\r\n                          d=\"M27 23.8571V16H23.8571V23.8571H16V27H23.8571H27L27 23.8571Z\" fill=\"#FFF9D9\"\r\n                          fillOpacity=\"0.7\"/>\r\n                    <path fillRule=\"evenodd\" clipRule=\"evenodd\"\r\n                          d=\"M0 3.14286L0 11H3.14286L3.14286 3.14286L11 3.14286V0H3.14286H0L0 3.14286Z\" fill=\"#FFF9D9\"\r\n                          fillOpacity=\"0.7\"/>\r\n                    <path fillRule=\"evenodd\" clipRule=\"evenodd\"\r\n                          d=\"M3.14286 27H11V23.8571H3.14286L3.14286 16H0L0 23.8571V27H3.14286Z\" fill=\"#FFF9D9\"\r\n                          fillOpacity=\"0.7\"/>\r\n                </symbol>\r\n                <symbol id=\"in-list\" viewBox=\"0 0 18 14\">\r\n                    <path fillRule=\"evenodd\" clipRule=\"evenodd\"\r\n                          d=\"M2.40513 5.35353L6.1818 8.90902L15.5807 0L18 2.80485L6.18935 14L0 8.17346L2.40513 5.35353Z\"\r\n                          fill=\"#EEE5B5\"/>\r\n                </symbol>\r\n                <symbol id=\"pause\" viewBox=\"0 0 14 21\">\r\n                    <title>Artboard</title>\r\n                    <desc>Created with Sketch.</desc>\r\n                    <g id=\"Artboard\" stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\r\n                        <polygon id=\"Line\" fill=\"#EEE5B5\" fillRule=\"nonzero\"\r\n                                 points=\"0 -1.11910481e-13 4 -1.11910481e-13 4 21 0 21\"/>\r\n                        <polygon id=\"Line\" fill=\"#EEE5B5\" fillRule=\"nonzero\"\r\n                                 points=\"10 -1.11910481e-13 14 -1.11910481e-13 14 21 10 21\"/>\r\n                    </g>\r\n                </symbol>\r\n            </svg>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default VisuallyHidden","const films = [\r\n  {\r\n    \"name\": \"Shutter Island\",\r\n    \"poster_image\": \"/img/shutter_island_poster.jpg\",\r\n    \"preview_image\": \"/img/shutter_island.jpg\",\r\n    \"background_image\": \"/img/shutter_island.jpg\",\r\n    \"background_color\": \"#977461\",\r\n    \"description\": \"In 1954, a U.S. Marshal investigates the disappearance of a murderer, who escaped from a hospital for the criminally insane.\",\r\n    \"rating\": 4.1,\r\n    \"scores_count\": 1002557,\r\n    \"director\": \"Martin Scorsese\",\r\n    \"starring\": [\r\n      \"Leonardo DiCaprio\",\r\n      \"Emily Mortimer\",\r\n      \"Mark Ruffalo\"\r\n    ],\r\n    \"run_time\": 138,\r\n    \"genre\": \"Thriller\",\r\n    \"released\": 2010,\r\n    \"id\": 1,\r\n    \"is_favorite\": false,\r\n    \"video_link\": \"http://peach.themazzone.com/durian/movies/sintel-1024-surround.mp4\",\r\n    \"preview_video_link\": \"https://upload.wikimedia.org/wikipedia/commons/transcoded/b/b3/Big_Buck_Bunny_Trailer_400p.ogv/Big_Buck_Bunny_Trailer_400p.ogv.360p.webm\"\r\n  },\r\n  {\r\n    \"name\": \"Bronson\",\r\n    \"poster_image\": \"/img/bronson_poster.jpg\",\r\n    \"preview_image\": \"/img/bronson.jpg\",\r\n    \"background_image\": \"/img/bronson.jpg\",\r\n    \"background_color\": \"#73B39A\",\r\n    \"description\": \"A young man who was sentenced to seven years in prison for robbing a post office ends up spending three decades in solitary confinement. During this time, his own personality is supplanted by his alter-ego, Charles Bronson.\",\r\n    \"rating\": 3.6,\r\n    \"scores_count\": 109661,\r\n    \"director\": \"Nicolas Winding Refn\",\r\n    \"starring\": [\r\n      \"Tom Hardy\",\r\n      \"Kelly Adams\",\r\n      \"Luing Andrews\"\r\n    ],\r\n    \"run_time\": 92,\r\n    \"genre\": \"Action\",\r\n    \"released\": 2008,\r\n    \"id\": 2,\r\n    \"is_favorite\": false,\r\n    \"video_link\": \"http://peach.themazzone.com/durian/movies/sintel-1024-surround.mp4\",\r\n    \"preview_video_link\": \"https://upload.wikimedia.org/wikipedia/commons/transcoded/b/b3/Big_Buck_Bunny_Trailer_400p.ogv/Big_Buck_Bunny_Trailer_400p.ogv.360p.webm\"\r\n  },\r\n  {\r\n    \"name\": \"Fantastic Beasts: The Crimes of Grindelwald\",\r\n    \"poster_image\": \"/img/fantastic_beasts_poster.jpg\",\r\n    \"preview_image\": \"/img/fantastic_beasts.jpg\",\r\n    \"background_image\": \"/img/fantastic_beasts.jpg\",\r\n    \"background_color\": \"#B6A99F\",\r\n    \"description\": \"In an effort to thwart Grindelwald's plans of raising pure-blood wizards to rule over all non-magical beings, Albus Dumbledore enlists his former student Newt Scamander, who agrees to help, though he's unaware of the dangers that lie ahead. Lines are drawn as love and loyalty are tested, even among the truest friends and family, in an increasingly divided wizarding world.\",\r\n    \"rating\": 3.4,\r\n    \"scores_count\": 160757,\r\n    \"director\": \"David Yates\",\r\n    \"starring\": [\r\n      \"Eddie Redmayne\",\r\n      \"Katherine Waterston\",\r\n      \"Dan Fogler\"\r\n    ],\r\n    \"run_time\": 134,\r\n    \"genre\": \"Fantasy\",\r\n    \"released\": 2018,\r\n    \"id\": 3,\r\n    \"is_favorite\": false,\r\n    \"video_link\": \"http://media.xiph.org/mango/tears_of_steel_1080p.webm\",\r\n    \"preview_video_link\": \"https://download.blender.org/durian/trailer/sintel_trailer-480p.mp4\"\r\n  },\r\n  {\r\n    \"name\": \"What We Do in the Shadows\",\r\n    \"poster_image\": \"/img/what_we_do_in_the_shadows_poster.jpg\",\r\n    \"preview_image\": \"/img/what_we_do_in_the_shadows.jpg\",\r\n    \"background_image\": \"/img/what_we_do_in_the_shadows.jpg\",\r\n    \"background_color\": \"#A39E81\",\r\n    \"description\": \"A look into the daily (or rather, nightly) lives of three vampires who've lived together for over 100 years, in Staten Island.\",\r\n    \"rating\": 7.2,\r\n    \"scores_count\": 6173,\r\n    \"director\": \"Jemaine Clement\",\r\n    \"starring\": [\r\n      \"Kayvan Novak\",\r\n      \"Matt Berry\",\r\n      \"Natasia Demetriou\"\r\n    ],\r\n    \"run_time\": 30,\r\n    \"genre\": \"Comedy\",\r\n    \"released\": 2019,\r\n    \"id\": 4,\r\n    \"is_favorite\": false,\r\n    \"video_link\": \"http://media.xiph.org/mango/tears_of_steel_1080p.webm\",\r\n    \"preview_video_link\": \"https://download.blender.org/durian/trailer/sintel_trailer-480p.mp4\"\r\n  },\r\n  {\r\n    \"name\": \"Matrix\",\r\n    \"poster_image\": \"/img/matrix_poster.jpg\",\r\n    \"preview_image\": \"/img/matrix.jpg\",\r\n    \"background_image\": \"/img/matrix.jpg\",\r\n    \"background_color\": \"#B9B27E\",\r\n    \"description\": \"A computer hacker learns from mysterious rebels about the true nature of his reality and his role in the war against its controllers.\",\r\n    \"rating\": 4.4,\r\n    \"scores_count\": 1503092,\r\n    \"director\": \"Wachowski Brothers\",\r\n    \"starring\": [\r\n      \"Keanu Reeves\",\r\n      \"Laurence Fishburne\",\r\n      \"Carrie-Anne Moss\"\r\n    ],\r\n    \"run_time\": 136,\r\n    \"genre\": \"Action\",\r\n    \"released\": 1999,\r\n    \"id\": 5,\r\n    \"is_favorite\": false,\r\n    \"video_link\": \"http://media.xiph.org/mango/tears_of_steel_1080p.webm\",\r\n    \"preview_video_link\": \"https://download.blender.org/durian/trailer/sintel_trailer-480p.mp4\"\r\n  },\r\n  {\r\n    \"name\": \"Gangs of new york\",\r\n    \"poster_image\": \"/img/gangs_of_the_new_york_poster.jpg\",\r\n    \"preview_image\": \"/img/gangs_of_the_new_york.jpg\",\r\n    \"background_image\": \"/img/gangs_of_the_new_york.jpg\",\r\n    \"background_color\": \"#A6B7AC\",\r\n    \"description\": \"In 1862, Amsterdam Vallon returns to the Five Points area of New York City seeking revenge against Bill the Butcher, his father's killer.\",\r\n    \"rating\": 8.8,\r\n    \"scores_count\": 370881,\r\n    \"director\": \"Martin Scorsese\",\r\n    \"starring\": [\r\n      \"Leonardo DiCaprio\",\r\n      \"Cameron Diaz\",\r\n      \"Daniel Day-Lewis\"\r\n    ],\r\n    \"run_time\": 167,\r\n    \"genre\": \"Crime\",\r\n    \"released\": 2002,\r\n    \"id\": 6,\r\n    \"is_favorite\": false,\r\n    \"video_link\": \"http://media.xiph.org/mango/tears_of_steel_1080p.webm\",\r\n    \"preview_video_link\": \"https://download.blender.org/durian/trailer/sintel_trailer-480p.mp4\"\r\n  },\r\n  {\r\n    \"name\": \"Bohemian Rhapsody\",\r\n    \"poster_image\": \"/img/bohamian_rapsody_poster.jpg\",\r\n    \"preview_image\": \"/img/bohamian_rapsody.jpg\",\r\n    \"background_image\": \"/img/bohamian_rapsody.jpg\",\r\n    \"background_color\": \"#929FA5\",\r\n    \"description\": \"Bohemian Rhapsody is a foot-stomping celebration of Queen, their music and their extraordinary lead singer Freddie Mercury. Freddie defied stereotypes and shattered convention to become one of the most beloved entertainers on the planet. The film traces the meteoric rise of the band through their iconic songs and revolutionary sound. They reach unparalleled success, but in an unexpected turn Freddie, surrounded by darker influences, shuns Queen in pursuit of his solo career. Having suffered greatly without the collaboration of Queen, Freddie manages to reunite with his bandmates just in time for Live Aid. While bravely facing a recent AIDS diagnosis, Freddie leads the band in one of the greatest performances in the history of rock music. Queen cements a legacy that continues to inspire outsiders, dreamers and music lovers to this day.\",\r\n    \"rating\": 6.1,\r\n    \"scores_count\": 338903,\r\n    \"director\": \"Bryan Singer\",\r\n    \"starring\": [\r\n      \"Rami Malek\",\r\n      \"Lucy Boynton\",\r\n      \"Gwilym Lee\"\r\n    ],\r\n    \"run_time\": 134,\r\n    \"genre\": \"Drama\",\r\n    \"released\": 2018,\r\n    \"id\": 32,\r\n    \"is_favorite\": false,\r\n    \"video_link\": \"http://media.xiph.org/mango/tears_of_steel_1080p.webm\",\r\n    \"preview_video_link\": \"https://upload.wikimedia.org/wikipedia/commons/transcoded/b/b3/Big_Buck_Bunny_Trailer_400p.ogv/Big_Buck_Bunny_Trailer_400p.ogv.360p.webm\"\r\n  },\r\n  {\r\n    \"name\": \"Bohemian Rhapsody\",\r\n    \"poster_image\": \"/img/bohamian_rapsody_poster.jpg\",\r\n    \"preview_image\": \"/img/bohamian_rapsody.jpg\",\r\n    \"background_image\": \"/img/bohamian_rapsody.jpg\",\r\n    \"background_color\": \"#929FA5\",\r\n    \"description\": \"Bohemian Rhapsody is a foot-stomping celebration of Queen, their music and their extraordinary lead singer Freddie Mercury. Freddie defied stereotypes and shattered convention to become one of the most beloved entertainers on the planet. The film traces the meteoric rise of the band through their iconic songs and revolutionary sound. They reach unparalleled success, but in an unexpected turn Freddie, surrounded by darker influences, shuns Queen in pursuit of his solo career. Having suffered greatly without the collaboration of Queen, Freddie manages to reunite with his bandmates just in time for Live Aid. While bravely facing a recent AIDS diagnosis, Freddie leads the band in one of the greatest performances in the history of rock music. Queen cements a legacy that continues to inspire outsiders, dreamers and music lovers to this day.\",\r\n    \"rating\": 6.1,\r\n    \"scores_count\": 338903,\r\n    \"director\": \"Bryan Singer\",\r\n    \"starring\": [\r\n      \"Rami Malek\",\r\n      \"Lucy Boynton\",\r\n      \"Gwilym Lee\"\r\n    ],\r\n    \"run_time\": 134,\r\n    \"genre\": \"Drama\",\r\n    \"released\": 2018,\r\n    \"id\": 31,\r\n    \"is_favorite\": false,\r\n    \"video_link\": \"http://media.xiph.org/mango/tears_of_steel_1080p.webm\",\r\n    \"preview_video_link\": \"https://upload.wikimedia.org/wikipedia/commons/transcoded/b/b3/Big_Buck_Bunny_Trailer_400p.ogv/Big_Buck_Bunny_Trailer_400p.ogv.360p.webm\"\r\n  },\r\n  {\r\n    \"name\": \"Bohemian Rhapsody\",\r\n    \"poster_image\": \"/img/bohamian_rapsody_poster.jpg\",\r\n    \"preview_image\": \"/img/bohamian_rapsody.jpg\",\r\n    \"background_image\": \"/img/bohamian_rapsody.jpg\",\r\n    \"background_color\": \"#929FA5\",\r\n    \"description\": \"Bohemian Rhapsody is a foot-stomping celebration of Queen, their music and their extraordinary lead singer Freddie Mercury. Freddie defied stereotypes and shattered convention to become one of the most beloved entertainers on the planet. The film traces the meteoric rise of the band through their iconic songs and revolutionary sound. They reach unparalleled success, but in an unexpected turn Freddie, surrounded by darker influences, shuns Queen in pursuit of his solo career. Having suffered greatly without the collaboration of Queen, Freddie manages to reunite with his bandmates just in time for Live Aid. While bravely facing a recent AIDS diagnosis, Freddie leads the band in one of the greatest performances in the history of rock music. Queen cements a legacy that continues to inspire outsiders, dreamers and music lovers to this day.\",\r\n    \"rating\": 6.1,\r\n    \"scores_count\": 338903,\r\n    \"director\": \"Bryan Singer\",\r\n    \"starring\": [\r\n      \"Rami Malek\",\r\n      \"Lucy Boynton\",\r\n      \"Gwilym Lee\"\r\n    ],\r\n    \"run_time\": 134,\r\n    \"genre\": \"Drama\",\r\n    \"released\": 2018,\r\n    \"id\": 30,\r\n    \"is_favorite\": false,\r\n    \"video_link\": \"http://media.xiph.org/mango/tears_of_steel_1080p.webm\",\r\n    \"preview_video_link\": \"https://upload.wikimedia.org/wikipedia/commons/transcoded/b/b3/Big_Buck_Bunny_Trailer_400p.ogv/Big_Buck_Bunny_Trailer_400p.ogv.360p.webm\"\r\n  },\r\n  {\r\n    \"name\": \"Bohemian Rhapsody\",\r\n    \"poster_image\": \"/img/bohamian_rapsody_poster.jpg\",\r\n    \"preview_image\": \"/img/bohamian_rapsody.jpg\",\r\n    \"background_image\": \"/img/bohamian_rapsody.jpg\",\r\n    \"background_color\": \"#929FA5\",\r\n    \"description\": \"Bohemian Rhapsody is a foot-stomping celebration of Queen, their music and their extraordinary lead singer Freddie Mercury. Freddie defied stereotypes and shattered convention to become one of the most beloved entertainers on the planet. The film traces the meteoric rise of the band through their iconic songs and revolutionary sound. They reach unparalleled success, but in an unexpected turn Freddie, surrounded by darker influences, shuns Queen in pursuit of his solo career. Having suffered greatly without the collaboration of Queen, Freddie manages to reunite with his bandmates just in time for Live Aid. While bravely facing a recent AIDS diagnosis, Freddie leads the band in one of the greatest performances in the history of rock music. Queen cements a legacy that continues to inspire outsiders, dreamers and music lovers to this day.\",\r\n    \"rating\": 6.1,\r\n    \"scores_count\": 338903,\r\n    \"director\": \"Bryan Singer\",\r\n    \"starring\": [\r\n      \"Rami Malek\",\r\n      \"Lucy Boynton\",\r\n      \"Gwilym Lee\"\r\n    ],\r\n    \"run_time\": 134,\r\n    \"genre\": \"Drama\",\r\n    \"released\": 2018,\r\n    \"id\": 29,\r\n    \"is_favorite\": false,\r\n    \"video_link\": \"http://media.xiph.org/mango/tears_of_steel_1080p.webm\",\r\n    \"preview_video_link\": \"https://upload.wikimedia.org/wikipedia/commons/transcoded/b/b3/Big_Buck_Bunny_Trailer_400p.ogv/Big_Buck_Bunny_Trailer_400p.ogv.360p.webm\"\r\n  },\r\n  {\r\n    \"name\": \"Bohemian Rhapsody\",\r\n    \"poster_image\": \"/img/bohamian_rapsody_poster.jpg\",\r\n    \"preview_image\": \"/img/bohamian_rapsody.jpg\",\r\n    \"background_image\": \"/img/bohamian_rapsody.jpg\",\r\n    \"background_color\": \"#929FA5\",\r\n    \"description\": \"Bohemian Rhapsody is a foot-stomping celebration of Queen, their music and their extraordinary lead singer Freddie Mercury. Freddie defied stereotypes and shattered convention to become one of the most beloved entertainers on the planet. The film traces the meteoric rise of the band through their iconic songs and revolutionary sound. They reach unparalleled success, but in an unexpected turn Freddie, surrounded by darker influences, shuns Queen in pursuit of his solo career. Having suffered greatly without the collaboration of Queen, Freddie manages to reunite with his bandmates just in time for Live Aid. While bravely facing a recent AIDS diagnosis, Freddie leads the band in one of the greatest performances in the history of rock music. Queen cements a legacy that continues to inspire outsiders, dreamers and music lovers to this day.\",\r\n    \"rating\": 6.1,\r\n    \"scores_count\": 338903,\r\n    \"director\": \"Bryan Singer\",\r\n    \"starring\": [\r\n      \"Rami Malek\",\r\n      \"Lucy Boynton\",\r\n      \"Gwilym Lee\"\r\n    ],\r\n    \"run_time\": 134,\r\n    \"genre\": \"Drama\",\r\n    \"released\": 2018,\r\n    \"id\": 28,\r\n    \"is_favorite\": false,\r\n    \"video_link\": \"http://media.xiph.org/mango/tears_of_steel_1080p.webm\",\r\n    \"preview_video_link\": \"https://upload.wikimedia.org/wikipedia/commons/transcoded/b/b3/Big_Buck_Bunny_Trailer_400p.ogv/Big_Buck_Bunny_Trailer_400p.ogv.360p.webm\"\r\n  },\r\n  {\r\n    \"name\": \"Bohemian Rhapsody\",\r\n    \"poster_image\": \"/img/bohamian_rapsody_poster.jpg\",\r\n    \"preview_image\": \"/img/bohamian_rapsody.jpg\",\r\n    \"background_image\": \"/img/bohamian_rapsody.jpg\",\r\n    \"background_color\": \"#929FA5\",\r\n    \"description\": \"Bohemian Rhapsody is a foot-stomping celebration of Queen, their music and their extraordinary lead singer Freddie Mercury. Freddie defied stereotypes and shattered convention to become one of the most beloved entertainers on the planet. The film traces the meteoric rise of the band through their iconic songs and revolutionary sound. They reach unparalleled success, but in an unexpected turn Freddie, surrounded by darker influences, shuns Queen in pursuit of his solo career. Having suffered greatly without the collaboration of Queen, Freddie manages to reunite with his bandmates just in time for Live Aid. While bravely facing a recent AIDS diagnosis, Freddie leads the band in one of the greatest performances in the history of rock music. Queen cements a legacy that continues to inspire outsiders, dreamers and music lovers to this day.\",\r\n    \"rating\": 6.1,\r\n    \"scores_count\": 338903,\r\n    \"director\": \"Bryan Singer\",\r\n    \"starring\": [\r\n      \"Rami Malek\",\r\n      \"Lucy Boynton\",\r\n      \"Gwilym Lee\"\r\n    ],\r\n    \"run_time\": 134,\r\n    \"genre\": \"Drama\",\r\n    \"released\": 2018,\r\n    \"id\": 27,\r\n    \"is_favorite\": false,\r\n    \"video_link\": \"http://media.xiph.org/mango/tears_of_steel_1080p.webm\",\r\n    \"preview_video_link\": \"https://upload.wikimedia.org/wikipedia/commons/transcoded/b/b3/Big_Buck_Bunny_Trailer_400p.ogv/Big_Buck_Bunny_Trailer_400p.ogv.360p.webm\"\r\n  },\r\n  {\r\n    \"name\": \"Bohemian Rhapsody\",\r\n    \"poster_image\": \"/img/bohamian_rapsody_poster.jpg\",\r\n    \"preview_image\": \"/img/bohamian_rapsody.jpg\",\r\n    \"background_image\": \"/img/bohamian_rapsody.jpg\",\r\n    \"background_color\": \"#929FA5\",\r\n    \"description\": \"Bohemian Rhapsody is a foot-stomping celebration of Queen, their music and their extraordinary lead singer Freddie Mercury. Freddie defied stereotypes and shattered convention to become one of the most beloved entertainers on the planet. The film traces the meteoric rise of the band through their iconic songs and revolutionary sound. They reach unparalleled success, but in an unexpected turn Freddie, surrounded by darker influences, shuns Queen in pursuit of his solo career. Having suffered greatly without the collaboration of Queen, Freddie manages to reunite with his bandmates just in time for Live Aid. While bravely facing a recent AIDS diagnosis, Freddie leads the band in one of the greatest performances in the history of rock music. Queen cements a legacy that continues to inspire outsiders, dreamers and music lovers to this day.\",\r\n    \"rating\": 6.1,\r\n    \"scores_count\": 338903,\r\n    \"director\": \"Bryan Singer\",\r\n    \"starring\": [\r\n      \"Rami Malek\",\r\n      \"Lucy Boynton\",\r\n      \"Gwilym Lee\"\r\n    ],\r\n    \"run_time\": 134,\r\n    \"genre\": \"Drama\",\r\n    \"released\": 2018,\r\n    \"id\": 26,\r\n    \"is_favorite\": false,\r\n    \"video_link\": \"http://media.xiph.org/mango/tears_of_steel_1080p.webm\",\r\n    \"preview_video_link\": \"https://upload.wikimedia.org/wikipedia/commons/transcoded/b/b3/Big_Buck_Bunny_Trailer_400p.ogv/Big_Buck_Bunny_Trailer_400p.ogv.360p.webm\"\r\n  },\r\n  {\r\n    \"name\": \"Bohemian Rhapsody\",\r\n    \"poster_image\": \"/img/bohamian_rapsody_poster.jpg\",\r\n    \"preview_image\": \"/img/bohamian_rapsody.jpg\",\r\n    \"background_image\": \"/img/bohamian_rapsody.jpg\",\r\n    \"background_color\": \"#929FA5\",\r\n    \"description\": \"Bohemian Rhapsody is a foot-stomping celebration of Queen, their music and their extraordinary lead singer Freddie Mercury. Freddie defied stereotypes and shattered convention to become one of the most beloved entertainers on the planet. The film traces the meteoric rise of the band through their iconic songs and revolutionary sound. They reach unparalleled success, but in an unexpected turn Freddie, surrounded by darker influences, shuns Queen in pursuit of his solo career. Having suffered greatly without the collaboration of Queen, Freddie manages to reunite with his bandmates just in time for Live Aid. While bravely facing a recent AIDS diagnosis, Freddie leads the band in one of the greatest performances in the history of rock music. Queen cements a legacy that continues to inspire outsiders, dreamers and music lovers to this day.\",\r\n    \"rating\": 6.1,\r\n    \"scores_count\": 338903,\r\n    \"director\": \"Bryan Singer\",\r\n    \"starring\": [\r\n      \"Rami Malek\",\r\n      \"Lucy Boynton\",\r\n      \"Gwilym Lee\"\r\n    ],\r\n    \"run_time\": 134,\r\n    \"genre\": \"Drama\",\r\n    \"released\": 2018,\r\n    \"id\": 7,\r\n    \"is_favorite\": false,\r\n    \"video_link\": \"http://media.xiph.org/mango/tears_of_steel_1080p.webm\",\r\n    \"preview_video_link\": \"https://upload.wikimedia.org/wikipedia/commons/transcoded/b/b3/Big_Buck_Bunny_Trailer_400p.ogv/Big_Buck_Bunny_Trailer_400p.ogv.360p.webm\"\r\n  },\r\n  {\r\n    \"name\": \"Aviator\",\r\n    \"poster_image\": \"/img/aviator_poster.jpg\",\r\n    \"preview_image\": \"/img/aviator.jpg\",\r\n    \"background_image\": \"/img/aviator.jpg\",\r\n    \"background_color\": \"#D6CDAF\",\r\n    \"description\": \"A biopic depicting the early years of legendary Director and aviator Howard Hughes' career from the late 1920s to the mid 1940s.\",\r\n    \"rating\": 9.8,\r\n    \"scores_count\": 307174,\r\n    \"director\": \"Martin Scorsese\",\r\n    \"starring\": [\r\n      \"Leonardo DiCaprio\",\r\n      \"Cate Blanchett\",\r\n      \"Kate Beckinsale\"\r\n    ],\r\n    \"run_time\": 170,\r\n    \"genre\": \"Drama\",\r\n    \"released\": 2014,\r\n    \"id\": 8,\r\n    \"is_favorite\": false,\r\n    \"video_link\": \"http://media.xiph.org/mango/tears_of_steel_1080p.webm\",\r\n    \"preview_video_link\": \"https://download.blender.org/durian/trailer/sintel_trailer-480p.mp4\"\r\n  },\r\n  {\r\n    \"name\": \"Legend\",\r\n    \"poster_image\": \"/img/legend_poster.jpg\",\r\n    \"preview_image\": \"/img/legend.jpg\",\r\n    \"background_image\": \"/img/legend.jpg\",\r\n    \"background_color\": \"#E1DAD7\",\r\n    \"description\": \"Identical twin gangsters Ronald and Reginald Kray terrorize London during the 1960s.\",\r\n    \"rating\": 3.5,\r\n    \"scores_count\": 138487,\r\n    \"director\": \"Brian Helgeland\",\r\n    \"starring\": [\r\n      \"Tom Hardy\",\r\n      \"Emily Browning\",\r\n      \"Taron Egerton\"\r\n    ],\r\n    \"run_time\": 132,\r\n    \"genre\": \"Crime\",\r\n    \"released\": 2015,\r\n    \"id\": 9,\r\n    \"is_favorite\": false,\r\n    \"video_link\": \"http://peach.themazzone.com/durian/movies/sintel-1024-surround.mp4\",\r\n    \"preview_video_link\": \"https://upload.wikimedia.org/wikipedia/commons/transcoded/b/b3/Big_Buck_Bunny_Trailer_400p.ogv/Big_Buck_Bunny_Trailer_400p.ogv.360p.webm\"\r\n  },\r\n  {\r\n    \"name\": \"Beach\",\r\n    \"poster_image\": \"/img/beach_poster.jpg\",\r\n    \"preview_image\": \"/img/beach.jpg\",\r\n    \"background_image\": \"/img/beach.jpg\",\r\n    \"background_color\": \"#EBC996\",\r\n    \"description\": \"Vicenarian Richard travels to Thailand and finds himself in possession of a strange map. Rumours state that it leads to a solitary beach paradise, a tropical bliss. Excited and intrigued, he sets out to find it.\",\r\n    \"rating\": 3.3,\r\n    \"scores_count\": 207824,\r\n    \"director\": \"Danny Boyle\",\r\n    \"starring\": [\r\n      \"Leonardo DiCaprio\",\r\n      \"Daniel York\",\r\n      \"Patcharawan Patarakijjanon\"\r\n    ],\r\n    \"run_time\": 119,\r\n    \"genre\": \"Adventure\",\r\n    \"released\": 2000,\r\n    \"id\": 10,\r\n    \"is_favorite\": false,\r\n    \"video_link\": \"http://media.xiph.org/mango/tears_of_steel_1080p.webm\",\r\n    \"preview_video_link\": \"https://download.blender.org/durian/trailer/sintel_trailer-480p.mp4\"\r\n  },\r\n  {\r\n    \"name\": \"Johnny English\",\r\n    \"poster_image\": \"/img/johnny_english_poster.jpg\",\r\n    \"preview_image\": \"/img/johnny_english.jpg\",\r\n    \"background_image\": \"/img/johnny_english.jpg\",\r\n    \"background_color\": \"#F0DBA2\",\r\n    \"description\": \"After a sudden attack on the MI5, Johnny English, Britain's most confident yet unintelligent spy, becomes Britain's only spy.\",\r\n    \"rating\": 10,\r\n    \"scores_count\": 136843,\r\n    \"director\": \"Peter Howitt\",\r\n    \"starring\": [\r\n      \"Rowan Atkinson\",\r\n      \"John Malkovich\",\r\n      \"Natalie Imbruglia\"\r\n    ],\r\n    \"run_time\": 88,\r\n    \"genre\": \"Comedy\",\r\n    \"released\": 2003,\r\n    \"id\": 11,\r\n    \"is_favorite\": false,\r\n    \"video_link\": \"http://peach.themazzone.com/durian/movies/sintel-1024-surround.mp4\",\r\n    \"preview_video_link\": \"https://upload.wikimedia.org/wikipedia/commons/transcoded/b/b3/Big_Buck_Bunny_Trailer_400p.ogv/Big_Buck_Bunny_Trailer_400p.ogv.360p.webm\"\r\n  },\r\n  {\r\n    \"name\": \"The Revenant\",\r\n    \"poster_image\": \"/img/revenant_poster.jpg\",\r\n    \"preview_image\": \"/img/revenant.jpg\",\r\n    \"background_image\": \"/img/revenant.jpg\",\r\n    \"background_color\": \"#92918B\",\r\n    \"description\": \"A frontiersman on a fur trading expedition in the 1820s fights for survival after being mauled by a bear and left for dead by members of his own hunting team.\",\r\n    \"rating\": 4,\r\n    \"scores_count\": 618498,\r\n    \"director\": \"Alejandro G. Iñárritu\",\r\n    \"starring\": [\r\n      \"Leonardo DiCaprio\",\r\n      \"Tom Hardy\",\r\n      \"Will Poulter\"\r\n    ],\r\n    \"run_time\": 156,\r\n    \"genre\": \"Action\",\r\n    \"released\": 2015,\r\n    \"id\": 12,\r\n    \"is_favorite\": false,\r\n    \"video_link\": \"http://media.xiph.org/mango/tears_of_steel_1080p.webm\",\r\n    \"preview_video_link\": \"https://upload.wikimedia.org/wikipedia/commons/transcoded/b/b3/Big_Buck_Bunny_Trailer_400p.ogv/Big_Buck_Bunny_Trailer_400p.ogv.360p.webm\"\r\n  },\r\n  {\r\n    \"name\": \"War of the Worlds\",\r\n    \"poster_image\": \"/img/war_of_the_worlds_poster.jpg\",\r\n    \"preview_image\": \"/img/war_of_the_worlds.jpg\",\r\n    \"background_image\": \"/img/war_of_the_worlds.jpg\",\r\n    \"background_color\": \"#9B7E61\",\r\n    \"description\": \"As Earth is invaded by alien tripod fighting machines, one family fights for survival.\",\r\n    \"rating\": 9.3,\r\n    \"scores_count\": 386834,\r\n    \"director\": \"Steven Spielberg\",\r\n    \"starring\": [\r\n      \"Tom Cruise\",\r\n      \"Dakota Fanning\",\r\n      \"Tim Robbins\"\r\n    ],\r\n    \"run_time\": 116,\r\n    \"genre\": \"Adventure\",\r\n    \"released\": 2005,\r\n    \"id\": 13,\r\n    \"is_favorite\": false,\r\n    \"video_link\": \"http://media.xiph.org/mango/tears_of_steel_1080p.webm\",\r\n    \"preview_video_link\": \"https://download.blender.org/durian/trailer/sintel_trailer-480p.mp4\"\r\n  },\r\n  {\r\n    \"name\": \"Macbeth\",\r\n    \"poster_image\": \"/img/macbeth_poster.jpg\",\r\n    \"preview_image\": \"/img/macbeth.jpg\",\r\n    \"background_image\": \"/img/macbeth.jpg\",\r\n    \"background_color\": \"#F1E9CE\",\r\n    \"description\": \"Macbeth, the Thane of Glamis, receives a prophecy from a trio of witches that one day he will become King of Scotland. Consumed by ambition and spurred to action by his wife, Macbeth murders his king and takes the throne for himself.\",\r\n    \"rating\": 3.3,\r\n    \"scores_count\": 48798,\r\n    \"director\": \"Justin Kurzel\",\r\n    \"starring\": [\r\n      \"Michael Fassbender\",\r\n      \"Marion Cotillard\",\r\n      \"Jack Madigan\"\r\n    ],\r\n    \"run_time\": 113,\r\n    \"genre\": \"Drama\",\r\n    \"released\": 2015,\r\n    \"id\": 14,\r\n    \"is_favorite\": false,\r\n    \"video_link\": \"http://media.xiph.org/mango/tears_of_steel_1080p.webm\",\r\n    \"preview_video_link\": \"https://download.blender.org/durian/trailer/sintel_trailer-480p.mp4\"\r\n  },\r\n  {\r\n    \"name\": \"A Star Is Born\",\r\n    \"poster_image\": \"/img/a_star_is_born_poster.jpg\",\r\n    \"preview_image\": \"/img/a_star_is_born.jpg\",\r\n    \"background_image\": \"/img/a_star_is_born.jpg\",\r\n    \"background_color\": \"#C4C0C0\",\r\n    \"description\": \"A musician helps a young singer find fame as age and alcoholism send his own career into a downward spiral.\",\r\n    \"rating\": 3.9,\r\n    \"scores_count\": 244484,\r\n    \"director\": \"Bradley Cooper\",\r\n    \"starring\": [\r\n      \"Lady Gaga\",\r\n      \"Bradley Cooper\",\r\n      \"Sam Elliott\"\r\n    ],\r\n    \"run_time\": 136,\r\n    \"genre\": \"Drama\",\r\n    \"released\": 2018,\r\n    \"id\": 15,\r\n    \"is_favorite\": false,\r\n    \"video_link\": \"http://media.xiph.org/mango/tears_of_steel_1080p.webm\",\r\n    \"preview_video_link\": \"https://download.blender.org/durian/trailer/sintel_trailer-480p.mp4\"\r\n  },\r\n  {\r\n    \"name\": \"Orlando\",\r\n    \"poster_image\": \"/img/orlando_poster.jpg\",\r\n    \"preview_image\": \"/img/orlando.jpg\",\r\n    \"background_image\": \"/img/orlando.jpg\",\r\n    \"background_color\": \"#D8D3BD\",\r\n    \"description\": \"Young nobleman Orlando is commanded by Queen Elizabeth I to stay forever young. Miraculously, he does just that. The film follows him as he moves through several centuries of British history, experiencing a variety of lives and relationships along the way, and even changing sex.\",\r\n    \"rating\": 2.6,\r\n    \"scores_count\": 12292,\r\n    \"director\": \"Sally Potter\",\r\n    \"starring\": [\r\n      \"Tilda Swinton\",\r\n      \"Billy Zane\",\r\n      \"Quentin Crisp\"\r\n    ],\r\n    \"run_time\": 94,\r\n    \"genre\": \"Drama\",\r\n    \"released\": 1992,\r\n    \"id\": 16,\r\n    \"is_favorite\": false,\r\n    \"video_link\": \"http://media.xiph.org/mango/tears_of_steel_1080p.webm\",\r\n    \"preview_video_link\": \"https://upload.wikimedia.org/wikipedia/commons/transcoded/b/b3/Big_Buck_Bunny_Trailer_400p.ogv/Big_Buck_Bunny_Trailer_400p.ogv.360p.webm\"\r\n  },\r\n  {\r\n    \"name\": \"Midnight Special\",\r\n    \"poster_image\": \"https://kirik5.github.io/what-see/img/midnight_special_poster.jpg\",\r\n    \"preview_image\": \"https://kirik5.github.io/what-see/img/midnight_special.jpg\",\r\n    \"background_image\": \"https://kirik5.github.io/what-see/img/midnight_special.jpg\",\r\n    \"background_color\": \"#828585\",\r\n    \"description\": \"A father and son go on the run, pursued by the government and a cult drawn to the child's special powers.\",\r\n    \"rating\": 3.3,\r\n    \"scores_count\": 67815,\r\n    \"director\": \"Jeff Nichols\",\r\n    \"starring\": [\r\n      \"Michael Shannon\",\r\n      \"Joel Edgerton\",\r\n      \"Kirsten Dunst \"\r\n    ],\r\n    \"run_time\": 112,\r\n    \"genre\": \"Action\",\r\n    \"released\": 2016,\r\n    \"id\": 17,\r\n    \"is_favorite\": false,\r\n    \"video_link\": \"http://media.xiph.org/mango/tears_of_steel_1080p.webm\",\r\n    \"preview_video_link\": \"https://upload.wikimedia.org/wikipedia/commons/transcoded/b/b3/Big_Buck_Bunny_Trailer_400p.ogv/Big_Buck_Bunny_Trailer_400p.ogv.360p.webm\"\r\n  },\r\n  {\r\n    \"name\": \"Seven Years in Tibet\",\r\n    \"poster_image\": \"https://kirik5.github.io/what-see/img/seven_years_in_tibet_poster.jpg\",\r\n    \"preview_image\": \"https://kirik5.github.io/what-see/img/seven_years_in_tibet.jpg\",\r\n    \"background_image\": \"https://kirik5.github.io/what-see/img/seven_years_in_tibet.jpg\",\r\n    \"background_color\": \"#C6CADF\",\r\n    \"description\": \"True story of Heinrich Harrer, an Austrian mountain climber who became friends with the Dalai Lama at the time of China's takeover of Tibet.\",\r\n    \"rating\": 3.6,\r\n    \"scores_count\": 112612,\r\n    \"director\": \"Jean-Jacques Annaud\",\r\n    \"starring\": [\r\n      \"Brad Pitt\",\r\n      \"David Thewlis\",\r\n      \"BD Wong\"\r\n    ],\r\n    \"run_time\": 136,\r\n    \"genre\": \"Adventure\",\r\n    \"released\": 1997,\r\n    \"id\": 18,\r\n    \"is_favorite\": false,\r\n    \"video_link\": \"http://peach.themazzone.com/durian/movies/sintel-1024-surround.mp4\",\r\n    \"preview_video_link\": \"https://upload.wikimedia.org/wikipedia/commons/transcoded/b/b3/Big_Buck_Bunny_Trailer_400p.ogv/Big_Buck_Bunny_Trailer_400p.ogv.360p.webm\"\r\n  },\r\n  {\r\n    \"name\": \"No Country for Old Men\",\r\n    \"poster_image\": \"https://kirik5.github.io/what-see/img/no_country_for_old_man_poster.jpg\",\r\n    \"preview_image\": \"https://kirik5.github.io/what-see/img/no_country_for_old_man.jpg\",\r\n    \"background_image\": \"https://kirik5.github.io/what-see/img/no_country_for_old_man.jpg\",\r\n    \"background_color\": \"#BDAD8F\",\r\n    \"description\": \"Violence and mayhem ensue after a hunter stumbles upon a drug deal gone wrong and more than two million dollars in cash near the Rio Grande.\",\r\n    \"rating\": 4.1,\r\n    \"scores_count\": 764976,\r\n    \"director\": \"Ethan Coen\",\r\n    \"starring\": [\r\n      \"Tommy Lee Jones\",\r\n      \"Javier Bardem\",\r\n      \"Josh Brolin\"\r\n    ],\r\n    \"run_time\": 122,\r\n    \"genre\": \"Crime\",\r\n    \"released\": 2007,\r\n    \"id\": 19,\r\n    \"is_favorite\": false,\r\n    \"video_link\": \"http://media.xiph.org/mango/tears_of_steel_1080p.webm\",\r\n    \"preview_video_link\": \"https://download.blender.org/durian/trailer/sintel_trailer-480p.mp4\"\r\n  },\r\n  {\r\n    \"name\": \"Dardjeeling Limited\",\r\n    \"poster_image\": \"https://kirik5.github.io/what-see/img/darjeeling_limited_poster.jpg\",\r\n    \"preview_image\": \"https://kirik5.github.io/what-see/img/darjeeling_limited.jpg\",\r\n    \"background_image\": \"https://kirik5.github.io/what-see/img/darjeeling_limited.jpg\",\r\n    \"background_color\": \"#AD9F8B\",\r\n    \"description\": \"A year after their father's funeral, three brothers travel across India by train in an attempt to bond with each other.\",\r\n    \"rating\": 3.6,\r\n    \"scores_count\": 165106,\r\n    \"director\": \"Wes Anderson\",\r\n    \"starring\": [\r\n      \"Owen Wilson\",\r\n      \"Adrien Brody\",\r\n      \"Jason Schwartzman\"\r\n    ],\r\n    \"run_time\": 91,\r\n    \"genre\": \"Adventure\",\r\n    \"released\": 2007,\r\n    \"id\": 20,\r\n    \"is_favorite\": false,\r\n    \"video_link\": \"http://media.xiph.org/mango/tears_of_steel_1080p.webm\",\r\n    \"preview_video_link\": \"https://upload.wikimedia.org/wikipedia/commons/transcoded/b/b3/Big_Buck_Bunny_Trailer_400p.ogv/Big_Buck_Bunny_Trailer_400p.ogv.360p.webm\"\r\n  },\r\n  {\r\n    \"name\": \"Snatch\",\r\n    \"poster_image\": \"https://kirik5.github.io/what-see/img/snatch_poster.jpg\",\r\n    \"preview_image\": \"https://kirik5.github.io/what-see/img/snatch.jpg\",\r\n    \"background_image\": \"https://kirik5.github.io/what-see/img/snatch.jpg\",\r\n    \"background_color\": \"#FDFDFC\",\r\n    \"description\": \"Unscrupulous boxing promoters, violent bookmakers, a Russian gangster, incompetent amateur robbers and supposedly Jewish jewelers fight to track down a priceless stolen diamond.\",\r\n    \"rating\": 0.2,\r\n    \"scores_count\": 716577,\r\n    \"director\": \"Guy Ritchie\",\r\n    \"starring\": [\r\n      \"Jason Statham\",\r\n      \"Brad Pitt\",\r\n      \"Benicio Del Toro\"\r\n    ],\r\n    \"run_time\": 104,\r\n    \"genre\": \"Comedy\",\r\n    \"released\": 2000,\r\n    \"id\": 21,\r\n    \"is_favorite\": false,\r\n    \"video_link\": \"http://peach.themazzone.com/durian/movies/sintel-1024-surround.mp4\",\r\n    \"preview_video_link\": \"https://upload.wikimedia.org/wikipedia/commons/transcoded/b/b3/Big_Buck_Bunny_Trailer_400p.ogv/Big_Buck_Bunny_Trailer_400p.ogv.360p.webm\"\r\n  },\r\n  {\r\n    \"name\": \"Pulp Fiction\",\r\n    \"poster_image\": \"https://kirik5.github.io/what-see/img/pulp_fiction_poster.jpg\",\r\n    \"preview_image\": \"https://kirik5.github.io/what-see/img/pulp_fiction.jpg\",\r\n    \"background_image\": \"https://kirik5.github.io/what-see/img/pulp_fiction.jpg\",\r\n    \"background_color\": \"#795433\",\r\n    \"description\": \"The lives of two mob hitmen, a boxer, a gangster & his wife, and a pair of diner bandits intertwine in four tales of violence and redemption.\",\r\n    \"rating\": 1.5,\r\n    \"scores_count\": 1635992,\r\n    \"director\": \"Quentin Tarantino\",\r\n    \"starring\": [\r\n      \"John Travolta\",\r\n      \"Uma Thurman\",\r\n      \"Samuel L. Jackson\"\r\n    ],\r\n    \"run_time\": 153,\r\n    \"genre\": \"Crime\",\r\n    \"released\": 1994,\r\n    \"id\": 22,\r\n    \"is_favorite\": false,\r\n    \"video_link\": \"http://media.xiph.org/mango/tears_of_steel_1080p.webm\",\r\n    \"preview_video_link\": \"https://download.blender.org/durian/trailer/sintel_trailer-480p.mp4\"\r\n  },\r\n  {\r\n    \"name\": \"Once Upon a Time in America\",\r\n    \"poster_image\": \"https://kirik5.github.io/what-see/img/once_upon_a_time_in_america_poster.jpg\",\r\n    \"preview_image\": \"https://kirik5.github.io/what-see/img/once_upon_a_time_in_america.jpg\",\r\n    \"background_image\": \"https://kirik5.github.io/what-see/img/once_upon_a_time_in_america.jpg\",\r\n    \"background_color\": \"#CBAC79\",\r\n    \"description\": \"A former Prohibition-era Jewish gangster returns to the Lower East Side of Manhattan over thirty years later, where he once again must confront the ghosts and regrets of his old life.\",\r\n    \"rating\": 9.9,\r\n    \"scores_count\": 276395,\r\n    \"director\": \"Sergio Leone\",\r\n    \"starring\": [\r\n      \"Robert De Niro\",\r\n      \"James Woods\",\r\n      \"Elizabeth McGovern\"\r\n    ],\r\n    \"run_time\": 229,\r\n    \"genre\": \"Crime\",\r\n    \"released\": 1984,\r\n    \"id\": 23,\r\n    \"is_favorite\": false,\r\n    \"video_link\": \"http://media.xiph.org/mango/tears_of_steel_1080p.webm\",\r\n    \"preview_video_link\": \"https://download.blender.org/durian/trailer/sintel_trailer-480p.mp4\"\r\n  },\r\n  {\r\n    \"name\": \"Moonrise Kingdom\",\r\n    \"poster_image\": \"https://kirik5.github.io/what-see/img/moonrise_kingdom_poster.jpg\",\r\n    \"preview_image\": \"https://kirik5.github.io/what-see/img/moonrise_kingdom.jpg\",\r\n    \"background_image\": \"https://kirik5.github.io/what-see/img/moonrise_kingdom.jpg\",\r\n    \"background_color\": \"#D8E3E5\",\r\n    \"description\": \"A pair of young lovers flee their New England town, which causes a local search party to fan out to find them.\",\r\n    \"rating\": 7.9,\r\n    \"scores_count\": 291183,\r\n    \"director\": \"Wes Anderson\",\r\n    \"starring\": [\r\n      \"Jared Gilman\",\r\n      \"Kara Hayward\",\r\n      \"Bruce Willis\"\r\n    ],\r\n    \"run_time\": 94,\r\n    \"genre\": \"Adventure\",\r\n    \"released\": 2012,\r\n    \"id\": 24,\r\n    \"is_favorite\": false,\r\n    \"video_link\": \"http://peach.themazzone.com/durian/movies/sintel-1024-surround.mp4\",\r\n    \"preview_video_link\": \"https://download.blender.org/durian/trailer/sintel_trailer-480p.mp4\"\r\n  },\r\n  {\r\n    \"name\": \"We need to talk about Kevin\",\r\n    \"poster_image\": \"https://kirik5.github.io/what-see/img/we_need_to_talk_about_kevin_poster.jpg\",\r\n    \"preview_image\": \"https://kirik5.github.io/what-see/img/we_need_to_talk_about_kevin.jpg\",\r\n    \"background_image\": \"https://kirik5.github.io/what-see/img/we_need_to_talk_about_kevin_poster.jpg\",\r\n    \"background_color\": \"#E1DFDE\",\r\n    \"description\": \"Kevin's mother struggles to love her strange child, despite the increasingly dangerous things he says and does as he grows up. But Kevin is just getting started, and his final act will be beyond anything anyone imagined.\",\r\n    \"rating\": 3.8,\r\n    \"scores_count\": 123240,\r\n    \"director\": \"Lynne Ramsay\",\r\n    \"starring\": [\r\n      \"Tilda Swinton\",\r\n      \"John C. Reilly\",\r\n      \"Ezra Miller\"\r\n    ],\r\n    \"run_time\": 112,\r\n    \"genre\": \"Drama\",\r\n    \"released\": 2011,\r\n    \"id\": 25,\r\n    \"is_favorite\": false,\r\n    \"video_link\": \"http://peach.themazzone.com/durian/movies/sintel-1024-surround.mp4\",\r\n    \"preview_video_link\": \"https://upload.wikimedia.org/wikipedia/commons/transcoded/b/b3/Big_Buck_Bunny_Trailer_400p.ogv/Big_Buck_Bunny_Trailer_400p.ogv.360p.webm\"\r\n  }\r\n]\r\n\r\nexport default films","import films from \"./mocks/films\"\r\n\r\n\r\nconst getFilms = () => new Promise((resolve, reject) => {\r\n    setTimeout(() => {\r\n        resolve(films)\r\n        // reject('Server is not availabled!!!')\r\n    }, 1000)\r\n})\r\n\r\nconst authorizing = ({user, password}) => new Promise((resolve, reject) => {\r\n    setTimeout(() => {\r\n        resolve({user: 'alkir'})\r\n        // reject('Error in username or password')\r\n    }, 1000)\r\n})\r\n\r\nconst serverAPI = {\r\n    getFilms,\r\n    authorizing,\r\n}\r\n\r\n\r\nexport default serverAPI","import {createAsyncThunk, createEntityAdapter, createSelector, createSlice} from \"@reduxjs/toolkit\";\r\nimport serverAPI from \"../api-mock\";\r\n\r\n\r\nconst filmsAdapter = createEntityAdapter()\r\n\r\nconst initialState = filmsAdapter.getInitialState({\r\n    status: 'idle',\r\n    error: null,\r\n    countOfFilmsInPage: 8,\r\n    countOfFilmsInLikePage: 8,\r\n    genre: 'all genres',\r\n})\r\n\r\nexport const fetchFilms = createAsyncThunk('films/fetchFilms', async () => {\r\n    return await serverAPI.getFilms();\r\n});\r\n\r\nconst filmsSlice = createSlice({\r\n    name: 'films',\r\n    initialState,\r\n    reducers: {\r\n        addCountOfFilmsInPage(state) {\r\n            state.countOfFilmsInPage += 8;\r\n        },\r\n        addCountOfFilmsInLikePage(state) {\r\n            state.countOfFilmsInLikePage += 8;\r\n        },\r\n        resetCountOfFilmsInPage(state) {\r\n            state.countOfFilmsInPage = 8;\r\n        },\r\n        resetCountOfFilmsInLikePage(state) {\r\n            state.countOfFilmsInLikePage = 8;\r\n        }\r\n    },\r\n    extraReducers: builder => {\r\n        builder\r\n            .addCase(fetchFilms.pending, (state) => {\r\n                state.status = 'loading'\r\n            })\r\n            .addCase(fetchFilms.fulfilled, (state, action) => {\r\n                filmsAdapter.setAll(state, action.payload)\r\n                state.status = 'succeeded'\r\n            })\r\n            .addCase(fetchFilms.rejected, (state, action) => {\r\n                state.status = 'failed'\r\n                state.error = action.error.message\r\n            })\r\n    },\r\n});\r\n\r\nexport const {addCountOfFilmsInPage, resetCountOfFilmsInPage, addCountOfFilmsInLikePage, resetCountOfFilmsInLikePage} = filmsSlice.actions;\r\n\r\nexport default filmsSlice.reducer;\r\n\r\n\r\nconst {\r\n    selectAll: selectFilms,\r\n    selectById: selectFilmById\r\n} = filmsAdapter.getSelectors(state => state.films)\r\n\r\nexport const getFilmsIds = (genreType) => createSelector(\r\n    state => state.films.ids,\r\n    selectFilms,\r\n    state => state.films.countOfFilmsInPage,\r\n    (allFilmsIds, allFilms, countOfFilmsInPage) => {\r\n        let selectedFilmsIds\r\n        if (!genreType) {\r\n            selectedFilmsIds = allFilmsIds\r\n        } else {\r\n            selectedFilmsIds = allFilms.filter(film => film.genre.toLowerCase() === genreType.toLowerCase()).map(film => film.id)\r\n        }\r\n\r\n        const filmsLength = selectedFilmsIds.length\r\n        if (countOfFilmsInPage < filmsLength) {\r\n            return selectedFilmsIds.slice(0, countOfFilmsInPage)\r\n        } else {\r\n            return selectedFilmsIds\r\n        }\r\n    }\r\n)\r\n\r\nexport const getLikeFilmsIds = (genreType) => createSelector(\r\n    state => state.films.ids,\r\n    selectFilms,\r\n    state => state.films.countOfFilmsInLikePage,\r\n    (allFilmsIds, allFilms, countOfFilmsInLikePage) => {\r\n        let selectedFilmsIds\r\n        if (!genreType) {\r\n            selectedFilmsIds = allFilmsIds\r\n        } else {\r\n            selectedFilmsIds = allFilms.filter(film => film.genre.toLowerCase() === genreType.toLowerCase()).map(film => film.id)\r\n        }\r\n\r\n        const filmsLength = selectedFilmsIds.length\r\n        if (countOfFilmsInLikePage < filmsLength) {\r\n            return selectedFilmsIds.slice(0, countOfFilmsInLikePage)\r\n        } else {\r\n            return selectedFilmsIds\r\n        }\r\n    }\r\n)\r\n\r\nexport const getAllFilmsIdsLength = (genreType) => createSelector(\r\n    state => state.films.ids,\r\n    selectFilms,\r\n    (allFilmsIds, allFilms) => {\r\n        let selectedFilmsIds\r\n        if (!genreType) {\r\n            selectedFilmsIds = allFilmsIds\r\n        } else {\r\n            selectedFilmsIds = allFilms.filter(film => film.genre.toLowerCase() === genreType.toLowerCase()).map(film => film.id)\r\n        }\r\n\r\n        return selectedFilmsIds.length\r\n    }\r\n)\r\n\r\nexport const canShowMore = (genreType) => createSelector(\r\n    getAllFilmsIdsLength(genreType),\r\n    state => state.films.countOfFilmsInPage,\r\n    (allSelectedFilmsIdsLength, countOfFilmsInPage) => {\r\n        return (countOfFilmsInPage < allSelectedFilmsIdsLength)\r\n    }\r\n)\r\n\r\nexport const canShowMoreOfLike = (genreType) => createSelector(\r\n    getAllFilmsIdsLength(genreType),\r\n    state => state.films.countOfFilmsInLikePage,\r\n    (allSelectedFilmsIdsLength, countOfFilmsInLikePage) => {\r\n        return (countOfFilmsInLikePage < allSelectedFilmsIdsLength)\r\n    }\r\n)\r\n\r\n\r\nexport const getAllGenres = createSelector(\r\n    state => Object.values(state.films.entities),\r\n    filmsArray => {\r\n        let allGenres = new Set()\r\n        filmsArray.forEach(film => {\r\n            allGenres.add(film.genre)\r\n        })\r\n        allGenres = [...allGenres].sort((a, b) => a > b ? 1 : -1)\r\n        allGenres.unshift('All genres')\r\n        return allGenres\r\n    }\r\n)\r\n\r\nexport const getFilmsName = id => state => state.films.entities[id].name\r\nexport const getFilmsPreview = id => state => state.films.entities[id].preview_image\r\nexport const getFilmsPreviewVideo = id => state => state.films.entities[id].preview_video_link\r\nexport const getFimlsPoster = id => state => state.films.entities[id].poster_image\r\nexport const getFimlsBg = id => state => state.films.entities[id].background_image\r\nexport const getFimlsBgColor = id => state => state.films.entities[id].background_color\r\nexport const getFimlsDescription = id => state => state.films.entities[id].description\r\nexport const getFimlsRating = id => state => selectFilmById(state, id).rating\r\nexport const getFimlsGenre = id => state => selectFilmById(state, id).genre\r\nexport const getFimlsReleased = id => state => selectFilmById(state, id).released\r\nexport const getFimlsDirector = id => state => selectFilmById(state, id).director\r\nexport const getFimlsStarring = id => state => selectFilmById(state, id).starring\r\nexport const getFimlsRunTime = id => state => selectFilmById(state, id).run_time\r\nexport const getFilmsFullLink = id => state => selectFilmById(state, id).video_link\r\nexport const isErrorLoadingFilms = state => state.films.error\r\nexport const getInitializingStatus = state => state.films.status\r\n// export const isAutorizationRequired = state => state.films.isAuthorizationRequired\r\n\r\n","import {createSelector, createSlice} from \"@reduxjs/toolkit\";\r\n\r\nconst initialState = {\r\n    favoriteFilms: [],\r\n    countOfFilmsInPage: 8,\r\n}\r\n\r\n\r\nconst myFilmListSlice = createSlice({\r\n    name: 'myFilmList',\r\n    initialState,\r\n    reducers: {\r\n        addFilm(state, action) {\r\n            state.favoriteFilms.push(Number(action.payload))\r\n        },\r\n        removeFilm(state, action) {\r\n            const elementIndex = state.favoriteFilms.indexOf(action.payload)\r\n            state.favoriteFilms.splice(elementIndex, 1)\r\n        },\r\n        clearFavoriteFilms(state) {\r\n            state = initialState\r\n        },\r\n        addCountOfFavoriteFilmsInPage(state) {\r\n            state.countOfFilmsInPage += 8;\r\n        },\r\n        resetCountOfFavoriteFilmsInPage(state) {\r\n            state.countOfFilmsInPage = 8;\r\n        }\r\n    },\r\n})\r\n\r\nexport const {addFilm, removeFilm, clearFavoriteFilms, addCountOfFavoriteFilmsInPage, resetCountOfFavoriteFilmsInPage} = myFilmListSlice.actions;\r\n\r\nexport default myFilmListSlice.reducer\r\n\r\n\r\nexport const addRemoveFilmInList = (id) => (dispatch, getState) => {\r\n    const setOfFavoriteFilms = new Set(getState().myFilmList.favoriteFilms)\r\n    const numberId = Number(id)\r\n    if (setOfFavoriteFilms.has(numberId)) {\r\n        dispatch(removeFilm(numberId))\r\n    } else {\r\n        dispatch(addFilm(numberId))\r\n    }\r\n}\r\n\r\nexport const allFavoriteFilmsIds = state => state.myFilmList.favoriteFilms\r\nconst setOfFavoriteFilms = state => new Set(state.myFilmList.favoriteFilms)\r\nexport const isFilmInFavoriteList = (id) => createSelector(\r\n    setOfFavoriteFilms,\r\n    set => set.has(Number(id))\r\n)\r\n\r\nexport const canShowMoreOfFavorite = createSelector(\r\n    state => state.myFilmList.favoriteFilms.length,\r\n    state => state.myFilmList.countOfFilmsInPage,\r\n    (favoriteFilmsIdsLength, countOfFilmsInPage) => {\r\n        return (countOfFilmsInPage < favoriteFilmsIdsLength)\r\n    }\r\n)\r\n\r\nexport const getFavoriteFilmsIds = createSelector(\r\n    allFavoriteFilmsIds,\r\n    state => state.myFilmList.countOfFilmsInPage,\r\n    (favoriteFilmsIds, countOfFilmsInPage) => {\r\n        const filmsLength = favoriteFilmsIds.length\r\n        if (countOfFilmsInPage < filmsLength) {\r\n            return favoriteFilmsIds.slice(0, countOfFilmsInPage)\r\n        } else {\r\n            return favoriteFilmsIds\r\n        }\r\n    }\r\n)","import React from \"react\"\r\nimport {Link} from \"react-router-dom\";\r\nimport {resetCountOfFilmsInLikePage, resetCountOfFilmsInPage} from \"../../../reducers/films-slice\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {resetCountOfFavoriteFilmsInPage} from \"../../../reducers/myfilmlist-slice\";\r\n\r\nconst Logo = ({classAlign = null}) => {\r\n    const dispatch = useDispatch()\r\n    const resetCountOfFilmsInPageHandler = () => {\r\n        dispatch(resetCountOfFilmsInPage())\r\n        dispatch(resetCountOfFilmsInLikePage())\r\n        dispatch(resetCountOfFavoriteFilmsInPage())\r\n    }\r\n\r\n    const classes = ['logo__link']\r\n    classAlign && classes.push(classAlign)\r\n\r\n    return (\r\n        <div className=\"logo\">\r\n            <Link to=\"/\" className={classes.join(' ')} onClick={resetCountOfFilmsInPageHandler}>\r\n                <span className=\"logo__letter logo__letter--1\">W</span>\r\n                <span className=\"logo__letter logo__letter--2\">T</span>\r\n                <span className=\"logo__letter logo__letter--3\">W</span>\r\n            </Link>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Logo","import React from \"react\";\r\nimport {useHistory} from \"react-router-dom\";\r\n\r\n\r\nconst ButtonViewMyList = () => {\r\n    const history = useHistory()\r\n\r\n    const viewMyListHandler = () => {\r\n        history.push('/mylist')\r\n    }\r\n\r\n    return (\r\n        <button className=\"btn movie-card__button\" type=\"button\" onClick={viewMyListHandler}>\r\n            <span>View my list</span>\r\n        </button>\r\n    )\r\n}\r\n\r\n\r\nexport default ButtonViewMyList","import {createSlice} from \"@reduxjs/toolkit\";\r\nimport serverAPI from \"../api-mock\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst initialState = {\r\n    status: 'idle',\r\n    error: null,\r\n    user: null,\r\n}\r\n\r\n\r\nexport const login = (mailPass) => async (dispatch) => {\r\n    dispatch(loading())\r\n    try {\r\n        const response = await serverAPI.authorizing(mailPass)\r\n        dispatch(fulfilled(response))\r\n        window.history.back()\r\n    } catch (err) {\r\n        dispatch(stopSubmit('authorisingUser', {\r\n            _error: err,\r\n        }))\r\n        dispatch(failed(err))\r\n    }\r\n}\r\n\r\nconst authorizationSlice = createSlice({\r\n    name: 'authorization',\r\n    initialState,\r\n    reducers: {\r\n        loading(state) {\r\n            state.status = 'loading'\r\n        },\r\n        fulfilled(state, action) {\r\n            state.user = action.payload.user\r\n            state.status = 'succeeded'\r\n        },\r\n        failed(state, action) {\r\n            state.status = 'failed'\r\n            state.error = action.payload\r\n        },\r\n        logout(state) {\r\n            state.status = 'idle'\r\n            state.error = null\r\n            state.user = null\r\n        }\r\n    },\r\n})\r\n\r\nexport const {loading, fulfilled, failed, logout} = authorizationSlice.actions;\r\n\r\nexport default authorizationSlice.reducer\r\n\r\n\r\nexport const isAuthorized = state => !!state.authorization.user","import React from \"react\"\r\nimport avatar from \"../../../images/avatar.jpg\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {isAuthorized, logout} from \"../../../reducers/authorization-slice\";\r\n\r\nconst Avatar = () => {\r\n    const isUserAuthorized = useSelector(isAuthorized)\r\n    const dispatch = useDispatch()\r\n    const logoutHandler = () => {\r\n        dispatch(logout())\r\n    }\r\n\r\n    return (\r\n        <div className=\"user-block\">\r\n            {isUserAuthorized ? (\r\n                <div className=\"user-block__avatar\" style={{cursor: 'pointer'}}>\r\n                    <img src={avatar} alt=\"User avatar\" width=\"63\" height=\"63\" onClick={logoutHandler}/>\r\n                </div>\r\n            ) : (\r\n                <NavLink to={'/login'} style={{color: '#EEE5B5'}}>Login</NavLink>\r\n            )}\r\n\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Avatar","export default \"data:image/jpeg;base64,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\"","import React from \"react\"\r\nimport {useHistory} from \"react-router-dom\"\r\n\r\nconst ButtonPlay = ({filmId}) => {\r\n    let history = useHistory()\r\n\r\n    const clickPlayHandler = () => {\r\n        history.push(`/play?filmId=${filmId}`)\r\n    }\r\n\r\n    return (\r\n        <button className=\"btn btn--play movie-card__button\" type=\"button\" onClick={clickPlayHandler} style={{justifyContent: 'center'}}>\r\n            <span>Play</span>\r\n        </button>\r\n    )\r\n}\r\n\r\nexport default ButtonPlay","import React from \"react\"\r\nimport {addRemoveFilmInList, isFilmInFavoriteList} from \"../../../reducers/myfilmlist-slice\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {isAuthorized} from \"../../../reducers/authorization-slice\";\r\nimport {useHistory} from \"react-router-dom\";\r\n\r\nconst ButtonAddToMyList = ({id}) => {\r\n    const dispatch = useDispatch()\r\n    const isInFavoriteFilms = useSelector(isFilmInFavoriteList(id))\r\n    const isUserAuthorized = useSelector(isAuthorized)\r\n    const history = useHistory()\r\n    const xlink = isInFavoriteFilms ? \"in-list\" : \"add\"\r\n\r\n    const addRemoveFromFavoriteListHandler = () => {\r\n        if (!isUserAuthorized) {\r\n            history.push('/login')\r\n        } else {\r\n            dispatch(addRemoveFilmInList(id))\r\n        }\r\n    }\r\n\r\n    return (\r\n        <button className=\"btn btn--list movie-card__button\" type=\"button\" onClick={addRemoveFromFavoriteListHandler}>\r\n            <svg viewBox=\"0 0 19 20\" width=\"19\" height=\"20\">\r\n                <use xlinkHref={`#${xlink}`}></use>\r\n            </svg>\r\n            <span>My list</span>\r\n        </button>\r\n    )\r\n}\r\n\r\nexport default ButtonAddToMyList","import React from \"react\"\r\nimport Logo from \"../logo/logo\";\r\nimport ButtonViewMyList from \"../button-view-my-list/button-view-my-list\";\r\nimport Avatar from \"../avatar/avatar\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {\r\n    getFilmsName,\r\n    getFimlsBg,\r\n    getFimlsGenre,\r\n    getFimlsPoster,\r\n    getFimlsReleased\r\n} from \"../../../reducers/films-slice\";\r\nimport ButtonPlay from \"../button-play/button-play\";\r\nimport ButtonAddToMyList from \"../button-add-to-my-list/button-add-to-my-list\";\r\n\r\n\r\nconst MainMovieCard = ({id}) => {\r\n    const filmsName = useSelector(getFilmsName(id))\r\n    const filmsPoster = useSelector(getFimlsPoster(id))\r\n    const filmsBg = useSelector(getFimlsBg(id))\r\n    const filmsGenre = useSelector(getFimlsGenre(id))\r\n    const filmsReleased = useSelector(getFimlsReleased(id))\r\n\r\n    return (\r\n        <section className=\"movie-card\">\r\n            <div className=\"movie-card__bg\">\r\n                <img src={filmsBg} alt={filmsName}/>\r\n            </div>\r\n\r\n            <h1 className=\"visually-hidden\">WTW</h1>\r\n\r\n            <header className=\"page-header movie-card__head\">\r\n\r\n                <Logo/>\r\n\r\n                <Avatar/>\r\n            </header>\r\n\r\n            <div className=\"movie-card__wrap\">\r\n                <div className=\"movie-card__info\">\r\n                    <div className=\"movie-card__poster\">\r\n                        <img src={filmsPoster} alt={filmsName} width=\"218\"\r\n                             height=\"327\"/>\r\n                    </div>\r\n\r\n                    <div className=\"movie-card__desc\">\r\n                        <h2 className=\"movie-card__title\">{filmsName}</h2>\r\n                        <p className=\"movie-card__meta\">\r\n                            <span className=\"movie-card__genre\">{filmsGenre}</span>\r\n                            <span className=\"movie-card__year\">{filmsReleased}</span>\r\n                        </p>\r\n\r\n                        <div className=\"movie-card__buttons\">\r\n                            <ButtonPlay\r\n                                filmId={id}\r\n                            />\r\n\r\n                            <ButtonAddToMyList\r\n                                id={id}\r\n                            />\r\n\r\n                            <ButtonViewMyList/>\r\n\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default MainMovieCard","import React from \"react\"\r\nimport {Link} from \"react-router-dom\"\r\nimport {useDispatch, useSelector} from \"react-redux\"\r\nimport {getAllGenres, resetCountOfFilmsInPage} from \"../../../reducers/films-slice\"\r\n\r\n\r\nconst FilmsFilter = ({genreType}) => {\r\n    const allGenres = useSelector(getAllGenres)\r\n    const dispatch = useDispatch()\r\n    const clickLinkHandler = () => {\r\n        dispatch(resetCountOfFilmsInPage())\r\n    }\r\n\r\n    return (\r\n        <ul className=\"catalog__genres-list\">\r\n            {allGenres.map((genre, index) => {\r\n\r\n                let classNameActive\r\n                if (!genreType && genre === 'All genres') {\r\n                    classNameActive = 'catalog__genres-item--active'\r\n                } else {\r\n                    classNameActive = (genreType?.toLowerCase() === genre.toLowerCase() && 'catalog__genres-item--active')\r\n                }\r\n\r\n                let to = genre.toLowerCase() === `all genres` ? `/` : `/genre/${genre.toLowerCase()}`\r\n\r\n                return (\r\n                    <li key={index}\r\n                        className={`catalog__genres-item ${classNameActive}`}>\r\n                        <Link\r\n                            to={to}\r\n                            className=\"catalog__genres-link\"\r\n                            onClick={clickLinkHandler}\r\n                        >\r\n                            {genre}\r\n                        </Link>\r\n                    </li>\r\n                )\r\n            })}\r\n        </ul>\r\n    )\r\n}\r\n\r\nexport default FilmsFilter","import React from \"react\"\r\nimport Logo from \"../logo/logo\";\r\n\r\nconst PageFooter = () => {\r\n    return (\r\n        <footer className=\"page-footer\">\r\n\r\n            <Logo\r\n                classAlign='logo__link--light'\r\n            />\r\n\r\n            <div className=\"copyright\">\r\n                <p>© 2021 What to watch Ltd.</p>\r\n            </div>\r\n        </footer>\r\n    )\r\n}\r\n\r\nexport default PageFooter","import React from \"react\"\r\nimport {useDispatch} from \"react-redux\";\r\nimport {addCountOfFilmsInLikePage, addCountOfFilmsInPage} from \"../../../reducers/films-slice\";\r\nimport {addCountOfFavoriteFilmsInPage} from \"../../../reducers/myfilmlist-slice\";\r\n\r\nconst ShowMore = ({from}) => {\r\n    const dispatch = useDispatch()\r\n\r\n    const moreFilmsHandler = () => {\r\n        if (from === 'main') {\r\n            dispatch(addCountOfFilmsInPage())\r\n        } else if (from === 'my-list') {\r\n            dispatch(addCountOfFavoriteFilmsInPage())\r\n        } else if (from === 'like') {\r\n            dispatch(addCountOfFilmsInLikePage())\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"catalog__more\">\r\n            <button className=\"catalog__button\" type=\"button\" onClick={moreFilmsHandler}>Show more</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ShowMore","import React, {useRef} from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\n\r\nconst VideoPlayer = ({previewVideoLink}) => {\r\n    const videoRef = useRef(null);\r\n\r\n    return (\r\n        <video\r\n            width=\"280\"\r\n            height=\"175\"\r\n            src={previewVideoLink}\r\n            ref={videoRef}\r\n            muted={true}\r\n            loop={true}\r\n            autoPlay={true}\r\n        />\r\n    )\r\n}\r\n\r\nexport default VideoPlayer;\r\n\r\nVideoPlayer.propTypes = {\r\n    previewVideoLink: PropTypes.string.isRequired\r\n}","import React, {useState, useEffect} from \"react\"\r\nimport {useSelector} from \"react-redux\"\r\nimport {getFilmsName, getFilmsPreview, getFilmsPreviewVideo} from \"../../../../reducers/films-slice\"\r\nimport VideoPlayer from \"./video-player/video-player\"\r\nimport {useHistory} from \"react-router-dom\"\r\n\r\nconst SmallMovieCard = ({id}) => {\r\n    const filmsName = useSelector(getFilmsName(id))\r\n    const previewImage = useSelector(getFilmsPreview(id))\r\n    const previewVideoLink = useSelector(getFilmsPreviewVideo(id))\r\n\r\n    let history = useHistory()\r\n\r\n    const [activeFilm, setActiveFilm] = useState(false)\r\n    const [timerId, setTimerId] = useState(null)\r\n\r\n    // useEffect(() => {\r\n    //     const scrollHandler = (e) => console.log('scroll ', e)\r\n    //     window.addEventListener('scroll', scrollHandler )\r\n    //     return () => {\r\n    //         window.removeEventListener('scroll', scrollHandler)\r\n    //     }\r\n    // })\r\n\r\n    useEffect(() => {\r\n        return () => {\r\n            if (timerId) clearTimeout(timerId)\r\n        }\r\n    }, [timerId])\r\n\r\n    const setActiveFilmHandler = () => {\r\n        console.log('in')\r\n        setTimerId(setTimeout(() => {\r\n            setActiveFilm(true)\r\n            setTimerId(null)\r\n        }, 1000))\r\n    }\r\n\r\n    const removeActiveFilmHandler = () => {\r\n        console.log('out')\r\n        if (!timerId) {\r\n            setActiveFilm(false)\r\n        } else {\r\n            clearTimeout(timerId)\r\n            setTimerId(null)\r\n        }\r\n    }\r\n\r\n    const viewFilmDetailsHandler = () => {\r\n        history.push('/films/' + id)\r\n    }\r\n\r\n    return (\r\n        <article className=\"small-movie-card catalog__movies-card\"\r\n                 onMouseEnter={setActiveFilmHandler}\r\n                 onMouseLeave={removeActiveFilmHandler}\r\n                 onClick={viewFilmDetailsHandler}\r\n        >\r\n\r\n            {activeFilm ?\r\n                <VideoPlayer\r\n                    previewVideoLink={previewVideoLink}\r\n                /> :\r\n                (<div className=\"small-movie-card__image\">\r\n                    <img src={previewImage} alt={filmsName} width=\"280\" height=\"175\"/>\r\n                </div>)\r\n            }\r\n\r\n            <h3 className=\"small-movie-card__title\">\r\n                <a className=\"small-movie-card__link\" href=\"movie-page.html\">{filmsName}</a>\r\n            </h3>\r\n        </article>\r\n    )\r\n}\r\n\r\nexport default SmallMovieCard","import React from \"react\"\r\nimport styles from \"../loading/loading.module.css\";\r\n\r\nconst ErrorLoading = () => {\r\n    return (\r\n        <div className={styles.loaderBackground}>\r\n            <div className={styles.errorMessage}>Error loading :(</div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ErrorLoading","import React from \"react\";\r\nimport SmallMovieCard from \"./small-movie-card/small-movie-card\";\r\nimport ErrorLoading from \"../../common/error-loading/error-loading\";\r\n\r\nconst MoviesList = ({filmsIds, isErrorLoadingFilmsList}) => {\r\n\r\n    return (\r\n        <>\r\n            {isErrorLoadingFilmsList ?\r\n                <ErrorLoading/> :\r\n                <div className=\"catalog__movies-list\">\r\n\r\n                    {filmsIds.map((id) => {\r\n                        return (\r\n                            <SmallMovieCard\r\n                                key={id}\r\n                                id={id}\r\n                            />\r\n                        )\r\n                    })\r\n                    }\r\n\r\n                </div>\r\n            }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default MoviesList","import React from \"react\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {getFilmsIds, isErrorLoadingFilms} from \"../../../reducers/films-slice\";\r\nimport MoviesList from \"./movies-list\";\r\n\r\nconst GenreMoviesList = ({genreType}) => {\r\n    const filmsIds = useSelector(getFilmsIds(genreType))\r\n    const isErrorLoadingFilmsList = useSelector(isErrorLoadingFilms)\r\n\r\n\r\n    return <MoviesList\r\n            filmsIds={filmsIds}\r\n            isErrorLoadingFilmsList={isErrorLoadingFilmsList}\r\n    />\r\n}\r\n\r\nexport default GenreMoviesList;","import React from 'react'\r\nimport VisuallyHidden from \"../common/visually-hidden/visually-hidden\"\r\nimport MainMovieCard from \"../common/main-movie-card/MainMovieCard\"\r\nimport FilmsFilter from \"./films-filter/films-filter\"\r\nimport PageFooter from \"../common/page-footer/page-footer\"\r\nimport ShowMore from \"./ShowMore/show-more\"\r\nimport {useSelector} from \"react-redux\"\r\nimport {canShowMore, getInitializingStatus} from \"../../reducers/films-slice\"\r\nimport GenreMoviesList from \"./movies-list/genre-movies-list\";\r\n\r\n\r\nconst Main = ({genreType}) => {\r\n    const canShow = useSelector(canShowMore(genreType))\r\n    const initializationStatus = useSelector(getInitializingStatus)\r\n\r\n    return <>\r\n        <VisuallyHidden/>\r\n\r\n        {initializationStatus === 'succeeded' && (\r\n            <MainMovieCard\r\n                id={15}\r\n            />\r\n        )}\r\n\r\n\r\n        <div className=\"page-content\">\r\n            <section className=\"catalog\">\r\n                <h2 className=\"catalog__title visually-hidden\">Catalog</h2>\r\n\r\n                <FilmsFilter\r\n                    genreType={genreType}\r\n                />\r\n\r\n                <GenreMoviesList\r\n                    genreType={genreType}\r\n                />\r\n\r\n                {canShow && <ShowMore\r\n                    from={'main'}\r\n                />}\r\n\r\n            </section>\r\n\r\n            <PageFooter/>\r\n        </div>\r\n    </>\r\n};\r\n\r\nexport default Main\r\n","import React from \"react\"\r\nimport {Route, Link, Redirect, Switch, useRouteMatch} from \"react-router-dom\"\r\nimport {useSelector} from \"react-redux\"\r\nimport {\r\n    getFimlsDescription,\r\n    getFimlsDirector, getFimlsGenre,\r\n    getFimlsRating, getFimlsReleased,\r\n    getFimlsRunTime, getFimlsStarring\r\n} from \"../../../reducers/films-slice\";\r\n\r\n\r\nconst TabTitle = ({filmId, title}) => {\r\n    const match = useRouteMatch({\r\n        path: `/films/${filmId}/${title.toLowerCase()}`\r\n    })\r\n\r\n    const classes = [`movie-nav__item`]\r\n    match && classes.push(`movie-nav__item--active`)\r\n    return (\r\n        <li className={classes.join(` `)}>\r\n            <Link to={`/films/${filmId}/${title.toLowerCase()}`} className=\"movie-nav__link\">{title}</Link>\r\n        </li>\r\n    )\r\n}\r\n\r\nconst Overviews = ({filmsRating, filmsDescription, filmsDirector, filmsStarring}) => {\r\n    return (\r\n        <>\r\n            <div className=\"movie-rating\">\r\n                <div className=\"movie-rating__score\">{filmsRating}</div>\r\n                <p className=\"movie-rating__meta\">\r\n                    <span className=\"movie-rating__level\">Very good</span>\r\n                    <span className=\"movie-rating__count\">240 ratings</span>\r\n                </p>\r\n            </div>\r\n            <div className=\"movie-card__text\">\r\n                <p>{filmsDescription}</p>\r\n\r\n                <p className=\"movie-card__director\"><strong>Director: {filmsDirector}</strong></p>\r\n\r\n                <p className=\"movie-card__starring\">\r\n                    <strong>Starring: {filmsStarring.join(', ')}</strong></p>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nconst Details = ({filmsDirector, filmsStarring, filmsRunTime, filmsGenre, filmsReleased}) => {\r\n    return (\r\n        <div className=\"movie-card__text movie-card__row\">\r\n            <div className=\"movie-card__text-col\">\r\n                <p className=\"movie-card__details-item\">\r\n                    <strong className=\"movie-card__details-name\">Director</strong>\r\n                    <span className=\"movie-card__details-value\">{filmsDirector}</span>\r\n                </p>\r\n                <p className=\"movie-card__details-item\">\r\n                    <strong className=\"movie-card__details-name\">Starring</strong>\r\n                    <span\r\n                        className=\"movie-card__details-value\">{filmsStarring.map((el, id) => <Actors\r\n                        key={id} content={el}/>)}</span>\r\n                </p>\r\n            </div>\r\n\r\n            <div className=\"movie-card__text-col\">\r\n                <p className=\"movie-card__details-item\">\r\n                    <strong className=\"movie-card__details-name\">Run Time</strong>\r\n                    <span className=\"movie-card__details-value\">{filmsRunTime}</span>\r\n                </p>\r\n                <p className=\"movie-card__details-item\">\r\n                    <strong className=\"movie-card__details-name\">Genre</strong>\r\n                    <span className=\"movie-card__details-value\">{filmsGenre}</span>\r\n                </p>\r\n                <p className=\"movie-card__details-item\">\r\n                    <strong className=\"movie-card__details-name\">Released</strong>\r\n                    <span className=\"movie-card__details-value\">{filmsReleased}</span>\r\n                </p>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst Reviews = () => {\r\n    return (\r\n        <div className=\"movie-card__reviews movie-card__row\">\r\n            <div className=\"movie-card__reviews-col\">\r\n                <div className=\"review\">\r\n                    <blockquote className=\"review__quote\">\r\n                        <p className=\"review__text\">Discerning travellers and Wes Anderson fans will\r\n                            luxuriate in the\r\n                            glorious Mittel-European kitsch of one of the director's funniest and\r\n                            most exquisitely\r\n                            designed movies in years.</p>\r\n\r\n                        <footer className=\"review__details\">\r\n                            <cite className=\"review__author\">Kate Muir</cite>\r\n                            <time className=\"review__date\" dateTime=\"2016-12-24\">December 24, 2016\r\n                            </time>\r\n                        </footer>\r\n                    </blockquote>\r\n\r\n                    <div className=\"review__rating\">8,9</div>\r\n                </div>\r\n\r\n                <div className=\"review\">\r\n                    <blockquote className=\"review__quote\">\r\n                        <p className=\"review__text\">Anderson's films are too precious for some, but\r\n                            for those of us\r\n                            willing to lose ourselves in them, they're a delight. \"The Grand\r\n                            Budapest Hotel\" is no\r\n                            different, except that he has added a hint of gravitas to the mix,\r\n                            improving the recipe.</p>\r\n\r\n                        <footer className=\"review__details\">\r\n                            <cite className=\"review__author\">Bill Goodykoontz</cite>\r\n                            <time className=\"review__date\" dateTime=\"2015-11-18\">November 18, 2015\r\n                            </time>\r\n                        </footer>\r\n                    </blockquote>\r\n\r\n                    <div className=\"review__rating\">8,0</div>\r\n                </div>\r\n\r\n                <div className=\"review\">\r\n                    <blockquote className=\"review__quote\">\r\n                        <p className=\"review__text\">I didn't find it amusing, and while I can\r\n                            appreciate the creativity,\r\n                            it's an hour and 40 minutes I wish I could take back.</p>\r\n\r\n                        <footer className=\"review__details\">\r\n                            <cite className=\"review__author\">Amanda Greever</cite>\r\n                            <time className=\"review__date\" dateTime=\"2015-11-18\">November 18, 2015\r\n                            </time>\r\n                        </footer>\r\n                    </blockquote>\r\n\r\n                    <div className=\"review__rating\">8,0</div>\r\n                </div>\r\n            </div>\r\n            <div className=\"movie-card__reviews-col\">\r\n                <div className=\"review\">\r\n                    <blockquote className=\"review__quote\">\r\n                        <p className=\"review__text\">The mannered, madcap proceedings are often\r\n                            delightful, occasionally\r\n                            silly, and here and there, gruesome and/or heartbreaking.</p>\r\n\r\n                        <footer className=\"review__details\">\r\n                            <cite className=\"review__author\">Matthew Lickona</cite>\r\n                            <time className=\"review__date\" dateTime=\"2016-12-20\">December 20, 2016\r\n                            </time>\r\n                        </footer>\r\n                    </blockquote>\r\n\r\n                    <div className=\"review__rating\">7,2</div>\r\n                </div>\r\n\r\n                <div className=\"review\">\r\n                    <blockquote className=\"review__quote\">\r\n                        <p className=\"review__text\">It is certainly a magical and childlike way of\r\n                            storytelling, even if\r\n                            the content is a little more adult.</p>\r\n\r\n                        <footer className=\"review__details\">\r\n                            <cite className=\"review__author\">Paula Fleri-Soler</cite>\r\n                            <time className=\"review__date\" dateTime=\"2016-12-20\">December 20, 2016\r\n                            </time>\r\n                        </footer>\r\n                    </blockquote>\r\n\r\n                    <div className=\"review__rating\">7,6</div>\r\n                </div>\r\n\r\n                <div className=\"review\">\r\n                    <blockquote className=\"review__quote\">\r\n                        <p className=\"review__text\">It is certainly a magical and childlike way of\r\n                            storytelling, even if\r\n                            the content is a little more adult.</p>\r\n\r\n                        <footer className=\"review__details\">\r\n                            <cite className=\"review__author\">Paula Fleri-Soler</cite>\r\n                            <time className=\"review__date\" dateTime=\"2016-12-20\">December 20, 2016\r\n                            </time>\r\n                        </footer>\r\n                    </blockquote>\r\n\r\n                    <div className=\"review__rating\">7,0</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst Actors = ({content}) => {\r\n    return (\r\n        <>{content}<br/></>\r\n    )\r\n}\r\n\r\n\r\nconst Tabs = ({filmId}) => {\r\n    const tabsTitle = ['Overviews', 'Details', 'Reviews']\r\n\r\n    const filmsDescription = useSelector(getFimlsDescription(filmId))\r\n    const filmsRating = useSelector(getFimlsRating(filmId))\r\n    const filmsDirector = useSelector(getFimlsDirector(filmId))\r\n    const filmsStarring = useSelector(getFimlsStarring(filmId))\r\n    const filmsRunTime = useSelector(getFimlsRunTime(filmId))\r\n    const filmsGenre = useSelector(getFimlsGenre(filmId))\r\n    const filmsReleased = useSelector(getFimlsReleased(filmId))\r\n\r\n\r\n    return (\r\n        <>\r\n            <nav className=\"movie-nav movie-card__nav\">\r\n                <ul className=\"movie-nav__list\">\r\n\r\n                    {tabsTitle.map((element, index) => (\r\n                        <TabTitle\r\n                            key={index}\r\n                            title={element}\r\n                            filmId={filmId}\r\n                        />\r\n                    ))}\r\n\r\n                </ul>\r\n            </nav>\r\n\r\n            <Switch>\r\n                <Route path=\"/films/:id/:title\"\r\n                    render={({match}) => (\r\n                        <>\r\n                           {match.params.title === tabsTitle[0].toLowerCase() &&\r\n                           <Overviews\r\n                               filmsRating={filmsRating}\r\n                               filmsDescription={filmsDescription}\r\n                               filmsDirector={filmsDirector}\r\n                               filmsStarring={filmsStarring}/>}\r\n\r\n                           {match.params.title === tabsTitle[1].toLowerCase() &&\r\n                           <Details\r\n                               filmsDirector={filmsDirector}\r\n                               filmsGenre={filmsGenre}\r\n                               filmsStarring={filmsStarring}\r\n                               filmsRunTime={filmsRunTime}\r\n                               filmsReleased={filmsReleased}/>}\r\n\r\n                           {match.params.title === tabsTitle[2].toLowerCase() &&\r\n                           <Reviews/>}\r\n                        </>\r\n                       )\r\n                    }\r\n                />\r\n\r\n                <Route path=\"/films/:id\">\r\n                    <Redirect to={`/films/${filmId}/overviews`}/>\r\n                </Route>\r\n            </Switch>\r\n\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Tabs;","import React from \"react\"\r\nimport {useSelector} from \"react-redux\";\r\nimport {canShowMoreOfLike, getLikeFilmsIds, isErrorLoadingFilms} from \"../../../reducers/films-slice\";\r\nimport MoviesList from \"../../main/movies-list/movies-list\";\r\nimport ShowMore from \"../../main/ShowMore/show-more\";\r\n\r\nconst CatalogLikeThis = ({filmsGenre}) => {\r\n    const filmsIds = useSelector(getLikeFilmsIds(filmsGenre))\r\n    const isErrorLoadingFilmsList = useSelector(isErrorLoadingFilms)\r\n    const canShow = useSelector(canShowMoreOfLike(filmsGenre))\r\n\r\n    return (\r\n        <section className=\"catalog catalog--like-this\">\r\n            <h2 className=\"catalog__title\">More like this</h2>\r\n\r\n            <MoviesList\r\n                filmsIds={filmsIds}\r\n                isErrorLoadingFilmsList={isErrorLoadingFilmsList}\r\n            />\r\n\r\n            {canShow && <ShowMore\r\n                from={'like'}\r\n            />}\r\n\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default CatalogLikeThis","import React, {useEffect} from \"react\"\r\nimport {useSelector} from \"react-redux\"\r\nimport {\r\n    getFilmsName,\r\n    getFimlsBg,\r\n    getFimlsBgColor,\r\n    getFimlsGenre,\r\n    getFimlsPoster, getFimlsReleased\r\n} from \"../../reducers/films-slice\"\r\nimport VisuallyHidden from \"../common/visually-hidden/visually-hidden\"\r\nimport Tabs from \"./tabs/tabs\"\r\nimport PageFooter from \"../common/page-footer/page-footer\"\r\nimport Logo from \"../common/logo/logo\"\r\nimport Avatar from \"../common/avatar/avatar\"\r\nimport CatalogLikeThis from \"../common/catalog-like-this/catalog-like-this\"\r\nimport ButtonPlay from \"../common/button-play/button-play\"\r\nimport ButtonAddToMyList from \"../common/button-add-to-my-list/button-add-to-my-list\"\r\nimport ButtonViewMyList from \"../common/button-view-my-list/button-view-my-list\";\r\n\r\n\r\nconst FilmDetail = ({id}) => {\r\n    const filmsName = useSelector(getFilmsName(id))\r\n    const filmsPoster = useSelector(getFimlsPoster(id))\r\n    const filmsBg = useSelector(getFimlsBg(id))\r\n    const filmsBgColor = useSelector(getFimlsBgColor(id))\r\n    const filmsGenre = useSelector(getFimlsGenre(id))\r\n    const filmsReleased = useSelector(getFimlsReleased(id))\r\n\r\n    useEffect(() => {\r\n        window.scrollTo(0,0)\r\n    }, [])\r\n\r\n\r\n    return <>\r\n        <VisuallyHidden/>\r\n\r\n        <section className=\"movie-card movie-card--full\" style={{backgroundColor: filmsBgColor}}>\r\n            <div className=\"movie-card__hero\">\r\n                <div className=\"movie-card__bg\">\r\n                    <img src={filmsBg} alt={filmsName}/>\r\n                </div>\r\n\r\n                <h1 className=\"visually-hidden\">WTW</h1>\r\n\r\n                <header className=\"page-header movie-card__head\">\r\n\r\n                    <Logo/>\r\n\r\n                    <Avatar/>\r\n                </header>\r\n\r\n                <div className=\"movie-card__wrap\">\r\n                    <div className=\"movie-card__desc\">\r\n                        <h2 className=\"movie-card__title\">{filmsName}</h2>\r\n                        <p className=\"movie-card__meta\">\r\n                            <span className=\"movie-card__genre\">{filmsGenre}</span>\r\n                            <span className=\"movie-card__year\">{filmsReleased}</span>\r\n                        </p>\r\n\r\n                        <div className=\"movie-card__buttons\">\r\n\r\n                            <ButtonPlay\r\n                                filmId={id}\r\n                            />\r\n\r\n                            <ButtonAddToMyList\r\n                                id={id}\r\n                            />\r\n\r\n                            <ButtonViewMyList/>\r\n\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"movie-card__wrap movie-card__translate-top\">\r\n                <div className=\"movie-card__info\">\r\n                    <div className=\"movie-card__poster movie-card__poster--big\">\r\n                        <img src={filmsPoster} alt=\"The Grand Budapest Hotel poster\"\r\n                             width=\"218\"\r\n                             height=\"327\"/>\r\n                    </div>\r\n\r\n                    <div className=\"movie-card__desc\">\r\n\r\n                        <Tabs filmId={id}/>\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </section>\r\n\r\n        <div className=\"page-content\">\r\n\r\n            <CatalogLikeThis\r\n                filmsGenre={filmsGenre}\r\n            />\r\n\r\n            <PageFooter/>\r\n        </div>\r\n    </>\r\n}\r\n\r\nexport default FilmDetail;\r\n","import React from 'react'\r\nimport styles from './loading.module.css'\r\n\r\nconst Loading = () => {\r\n    return (\r\n        <div className={styles.loaderBackground}>\r\n            <div className={styles.loader} >\r\n                <div className=\"lds-roller\">\r\n                    <div></div>\r\n                    <div></div>\r\n                    <div></div>\r\n                    <div></div>\r\n                    <div></div>\r\n                    <div></div>\r\n                    <div></div>\r\n                    <div></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default Loading","export const getSeconds = (sec) => {\r\n    let s = Math.floor(sec) % 60\r\n    return s < 10 ? '0' + s : String(s)\r\n}\r\n\r\nexport const getMinutes = (sec) => {\r\n    let m\r\n    if (sec >= 3600) {\r\n        m = Math.floor(sec) % 3600\r\n    } else {\r\n        m = Math.floor(sec)\r\n    }\r\n    m = Math.floor(m - m % 60) / 60\r\n    return m < 10 ? '0' + m : String(m)\r\n}\r\n\r\nexport const getHours = (sec) => {\r\n    let h = Math.floor((Math.floor(sec) - Math.floor(sec) % 3600) / 3600)\r\n    return h < 10 ? '0' + h : String(h)\r\n}","import { getOffsetLeft, getOffsetWidth, getOffsetTop } from './offset-left-width'\r\nimport { getHours, getMinutes, getSeconds } from \"./get-time\";\r\n\r\nclass VideoPlayerObj {\r\n    constructor(settings) {\r\n        this._video = new Video(settings.video) // Объект видео\r\n        this._clickToPlayLabel = new ClickToPlayLabel({ // Объект надписи, по щелчку на которую видео начинает воспроизводится\r\n            elem: settings.clickToPlayLabel,\r\n            styles: settings.styles,\r\n        })\r\n        this._volume = new Volume({ // Объект панели регулировки громкости\r\n            container: settings.volumeContainer,\r\n            progress: settings.volumeProgress,\r\n            styles: settings.styles,\r\n        })\r\n        this._controls = new Controls({ // Объект панели управления видео\r\n            elem: settings.controls,\r\n            styles: settings.styles,\r\n        })\r\n        this._videoPointer = new VideoPointer({ // Объект ползунка перемотки видео\r\n            elem: settings.videoPointer,\r\n        })\r\n        this._videoProgress = new VideoProgress({ // Объект прогресс-бара воспроизведения видео\r\n            elem: {\r\n                container: settings.videoProgress.container,\r\n                progress: settings.videoProgress.progress,\r\n            },\r\n        })\r\n        this._pause = new Pause({ // Объект кнопки \"Пауза\"\r\n            elem: settings.pause,\r\n            styles: settings.styles,\r\n        })\r\n        this._cTime = new CTime({ // Объект отображения текущего времени воспроизведения\r\n            elem: settings.cTime\r\n        })\r\n        this._aTime = new ATime({ // Объект отображения полного времени воспроизведения видео\r\n            elem: settings.aTime\r\n        })\r\n        this._videoContainer = new VideoContainer({ // Объект видеоконтейнера, по щелчку на котором видео переходит в полноэкранный режим\r\n            elem: settings.videoContainer\r\n        })\r\n        this._videoBackground = new VideoBackground({ // Объект темного фона для видеоплеера, который разворачивается на весь екран\r\n            elem: settings.videoBackground\r\n        })\r\n        this._loader = new Loader({ // Объект лоадера (отображается, когда видео подгружается)\r\n            elem: settings.loader,\r\n            styles: settings.styles,\r\n        })\r\n        this._timeout = settings.timeout // Задаем время, по прошествию которого (елси не шевелить мышкой) панели управления прячутся\r\n        this._inControls = false // Маркер, который показывает, находится ли указатель мыши над панелями управления видео (панель с ползунком видео и панель громкости)\r\n        this._timerId = null // Отложенное скрытие панелей управления видео не запущено, поэтому и id таймера равен null\r\n        this._video.elem.addEventListener('canplaythrough', this._showClickToPlayLabelHandler) // Подписываемся на событие готовности видео к воспроизведению (если видео готово - показываем надпись \"Кликни меня, чтобы воспроизвести видео\")\r\n        this._loader.show() // Пока видео не загружено - показываем лоадер\r\n    }\r\n\r\n    // ПОДГОТОВКА К ВОСПРОИЗВЕДЕНИЮ видео НАЧАЛО\r\n    // Показываем начальную надпись \"ClickToPlay\", когда видео готово\r\n    _showClickToPlayLabelHandler = () => {\r\n        this._video.elem.removeEventListener('canplaythrough', this._showClickToPlayLabelHandler) // Отписываемся от прослушивания первой готовности видео к воспроизведению\r\n        this._loader.hide() // Прячем лоадер, когда видео первый раз готово к воспроизведению\r\n        this._clickToPlayLabel.show() // Показываем начальную кнопку воспроизведения видео\r\n        this._video.elem.addEventListener('click', this._clickToPlayLabelHandler) // При клике по видео запускаем воспроизведение видео\r\n        this._clickToPlayLabel.elem.addEventListener('click', this._clickToPlayLabelHandler) // При клике по надписи \"ClickToPlay\" запускаем воспроизведение видео\r\n        document.addEventListener('keydown', this._pressSpaceToPlayLabelHandler) // При нажатии любой клавиши клавиатуры на документе запускаем воспроизведение видео\r\n        this._video.canPlay = true // Устанавливаем маркер возможности воспроизведения видео\r\n    }\r\n\r\n    // Нажатие клавиши \"Пробел\" для начала воспроизведения видео\r\n    _pressSpaceToPlayLabelHandler = (evt) => {\r\n        if (evt.code !== 'Space') return\r\n        this._clickToPlayLabelHandler()\r\n    }\r\n\r\n    // Эти команды выполняем, когда произошел клик по надписи \"ClickToPlay\"\r\n    _clickToPlayLabelHandler = () => {\r\n        this._video.elem.removeEventListener('click', this._clickToPlayLabelHandler) // Отписываемся от прослушивания события клика по видео\r\n        this._clickToPlayLabel.elem.removeEventListener('click', this._clickToPlayLabelHandler) // Отписываемся от прослушивания события клика по надписи \"ClickToPlay\"\r\n        document.removeEventListener('keydown', this._pressSpaceToPlayLabelHandler) // Отписываемся от прослушивания события нажатия клавиши на документе\r\n        this._initialPlayer() // Запускаем все подписки на события в плеере\r\n        this._clickToPlayLabel.hide() // Прячем надпись \"ClickToPlay\"\r\n        this._controls.show() // Показываем панель управления видео\r\n        this._volume.show() // Показываем панель управления громкостью\r\n        this._video.play() // Запускаем воспроизведение видео\r\n        this._video.unmute() // Даем звук\r\n        this._video.changeVolume(0.3) // Меняем уровень громкости видео\r\n        this._volume.changeVolume(0.3) // Меняем отображение уровня громкости видео\r\n        this._video.didPlayed = true // ЭТОТ МАРКЕР В ДАЛЬНЕЙШЕМ НУЖНО УБРАТЬ, ТАК КАК ОН ДУБЛИРУЕТ МАРКЕР НАХОЖДЕНИЯ НА ПАУЗЕ\r\n        this._video.pause = false // Показываем, что видео не на паузе\r\n        this._planingToHideControlsAndVolumeHandler() // Планируем будущее скрытие панелей управления видео и громкостью\r\n    }\r\n    // ПОДГОТОВКА К ВОСПРОИЗВЕДЕНИЮ видео КОНЕЦ\r\n\r\n\r\n\r\n    // ОТОБРАЖАЕМ ВРЕМЯ видео (текущее и общее) во время воспроизведения НАЧАЛО\r\n    // Вычисляем новую позицию прогресс-бара и ползунка видео при воспроизведении видео\r\n    _calculateNewPositionPointerProgress = () => {\r\n        const currentTime = this._video.elem.currentTime\r\n        const allTime = this._video.elem.duration\r\n        return currentTime / allTime * 100\r\n    }\r\n\r\n    // Показываем время на панели управления видео\r\n    _showTimesHandler = () => {\r\n        let time\r\n        time = this._video.elem.duration\r\n        this._aTime.elem.innerHTML = `${getHours(time)}:${getMinutes(time)}:${getSeconds(time)}` // Пишем в панели управления видео все время видео\r\n        time = this._video.elem.currentTime\r\n        this._cTime.elem.innerHTML = `${getHours(time)}:${getMinutes(time)}:${getSeconds(time)}` // Пишем в панели управления видео текущее время воспроизведения видео\r\n    }\r\n\r\n    // При воспроизведении видео меняем положение ползунка видео и индикатора прогресса воспроизведения а также выводим время на панель\r\n    _updateVideoTime = () => {\r\n        this._videoPointer.changePosition(this._calculateNewPositionPointerProgress())\r\n        this._videoProgress.changePosition(this._calculateNewPositionPointerProgress())\r\n        this._showTimesHandler()\r\n    }\r\n    // ОТОБРАЖАЕМ ВРЕМЯ видео (текущее и общее) во время воспроизведения КОНЕЦ\r\n\r\n\r\n\r\n    // ПЕРЕМОТКА ВИДЕО НАЧАЛО\r\n    // МЕХАНИЗМ ПЕРЕТАСКИВАНИЯ ПОЛЗУНКА ВИДЕО:\r\n    // При клике на ползунке видео останавливаем воспроизведение видео.\r\n    // Остановка видео не происходит, если видео на паузе, или если видео находится в режиме подгрузки (waiting),\r\n    // или если перетаскивание ползунка началось сразу же после такого же перетаскивания без запуска на воспроизведение (не наступило событие \"canplaythrough\").\r\n\r\n    // Во время перетаскивания ползунка видео отменяем стандартное поведение при DnD (в объекте VideoPointer),\r\n    // меняем отображение на панели управления видео текущее время, меняем текущее времи видео (video.currentTime) а также меняем длинну индикатор прогресса видео.\r\n    // Во время перетаскивания ползунка видео также устанавливаем маркер возможности воспроизведения видео (canPlay = false)\r\n    // и маркер отвечающий за индикацию режима перетаскивания (moving = true)\r\n\r\n    // При отпускании ползунка видео отписываемся от слушателей событий mousemove и mouseup,\r\n    // а также запускаем воспроизведение видео если:\r\n    // видео находилось не на паузе;\r\n    // видео находится в догруженном состоянии (перетащили ползунок видео и не отпустили клавишу мыши до наступления события canplaythrough).\r\n\r\n    // Если перемотка видео осуществляется из состояния waiting - видео не останавливается, поэтому в обработчике события canplay\r\n    // останавливаем видео, если перемотка началась из состояния недокачки (waiting)\r\n\r\n    // Когда кликаем по ползунку видео MOUSEDOWN\r\n    _startDragVideoPointer = () => {\r\n        if (this._videoPointer.moveArrows) return // Если ползунок видео перемещаем стрелками клавиатуры (ArrowLeft/ArrowRight) - отменяется перетаскивание ползунка методом Drag and Drop!!!\r\n        // Функция обрабатующая движения курсора мыши после события MOUSEDOWN на ползунке видео\r\n        const moveVideoPointer = (evt) => {\r\n            this._video.canPlay = false // Показываем, что при перетаскивании ползунка видео оно не может быть воспроизведено\r\n            const newPosition = this._calculateNewPositionPointerProgressOnDrag(evt.clientX)\r\n            this._videoPointer.changePosition(newPosition.persent)\r\n            this._videoProgress.changePosition(newPosition.persent)\r\n            this._video.changeCurrentVideoTime(newPosition.currentTime)\r\n            this._showTimesHandler() // При перетаскивании ползунка видео меняем и текущее время, отображаемое на панели управления видео\r\n\r\n        }\r\n        // Функция завершения перетаскивания ползунка видео\r\n        const mouseUp = () => {\r\n            document.removeEventListener('mousemove', moveVideoPointer) // Отписываемся от событий\r\n            document.removeEventListener('mouseup', mouseUp) // Отписываемся от событий\r\n            if (!this._loader.isShowing) this._loader.show() // После окончания перетаскивания ползунка видео (если лоадер не отображался) отображаем лоадер\r\n            this._videoPointer.clickOnVideoPointer = false // Показываем, что закончили клин на ползунке видено\r\n            if (this._video.pause) return // Если видео стоит на паузе - дальнейший код не выполняем\r\n            if (!this._video.canPlay) return // Если видео не готово к воспроизведению - дальнейший код не выполняем\r\n            this._video.play() // Если видео было запущено до начала перетаскивания ползунка видео - воспроизводим его\r\n        }\r\n        document.addEventListener('mousemove', moveVideoPointer) // После нажатия мышки подписываемся на перемещение курсора\r\n        document.addEventListener('mouseup', mouseUp) // Подписываемся и на отпускание мышки\r\n        this._videoPointer.clickOnVideoPointer = true // Показываем, что кликнули на ползунке видео и перешли в режим возможного перетаскивания ползунка (и не нужно обрабатывать клик на видео-прогресс-баре)\r\n        if (this._video.playing) {\r\n            this._video.stop()\r\n        }\r\n    }\r\n\r\n    // Запускается, когда видео готово к долгосрочному воспроизведению (событие \"canplaythrough\")\r\n    _canplaythrough = () => {\r\n        console.log('canplaythrough')\r\n        if (this._loader.isShowing) this._loader.hide() // После готовности видео к воспроизведению прячем лоадер (если он уже не спрятался до того...)\r\n        if (!this._video.canPlay) this._video.canPlay = true // Показываем, что видео может быть воспроизведено\r\n        if (this._video.pause) return // Не запускаем видео после перетаскивания, так как оно стоит на паузе\r\n        if (this._videoPointer.clickOnVideoPointer) return // Дальнейший код выполнится только тогда, когда пользователь не находится в состоянии нажатого ползунка видео\r\n        if (this._videoProgress.clickOnVideoProgress) return // Дальнейший код выполнится только тогда, когда пользователь не находится в состоянии нажатого прогресс-видео-бара\r\n        if (this._videoPointer.moveArrows) return // Если нажата кнопка со стрелкой влево/вправо (и не оджата) - воспроизведение видео не запустится!!!\r\n        this._video.play() // Если видео воспроизводилось до начала перетаскивания ползунка видео - продолжаем его воспроизводить!\r\n    }\r\n\r\n    // Обработчик события canPlay (данное событие запускается до события canplaythrough, когда видео готово к воспроизведению)\r\n    // В нем ставим на паузу видео (так как осуществляется перетаскивание ползунка видео), если эта операция (перетаскивание ползунка) стартовала из состояния waiting!\r\n    _canplayHandler = () => {\r\n        console.log('canplay')\r\n        if (!((this._videoPointer.clickOnVideoPointer) || (this._videoProgress.clickOnVideoProgress))) return // Дальнейший код выполнится только тогда, когда пользователь нажал и не отпустил (или нажал и перетаскивает) ползунок видео или же пользователь нажал и не отпустил на видео-прогресс-баре\r\n        if (!this._video.waiting) return // Дальнейший код выполнится только тогда, когда была приостановка видео по причине недокачки\r\n        this._video.stop() // Останавливаем видео, когда оно находится в процесе перетаскивания ползунка (или в режиме нажатой кнопки мыши на видео-прогресс-баре), но уже частично готовго воспроизводится!\r\n    }\r\n\r\n    // Остановка видео и перемотка в то место, куда кликнул пользователь по видео-прогресс-бару\r\n    _mousedownOnProgressBarToRewindVideoHandler = (evt) => {\r\n        if (this._videoPointer.clickOnVideoPointer) return // Если нажат ползунок видео - клик по видео-прогресс-бару не обрабатываем!!!\r\n        if (this._videoPointer.moveArrows) return // При перемотке видео стрелками клавиатуры (влево/вправо) перемотка кликом не будет работать!!!\r\n        document.addEventListener('mouseup', this._mouseupOnProgressBarToRewindVideoHandler) // Подписываемся на прослушивание события отпускания кнопки мыши (mouseup) на всем документе на случай, если пользователь переместит нажатую кнопку мыши и уйдет из progress-видео-бара\r\n        this._videoProgress.clickOnVideoProgress = true // Показываем, что кликнули на ползунке видео и перешли в режим возможного перетаскивания ползунка (и не нужно обрабатывать клик на видео-прогресс-баре)\r\n        const newPosition = this._calculateNewPositionPointerProgressOnDrag(evt.clientX)\r\n        this._videoPointer.changePosition(newPosition.persent)\r\n        this._videoProgress.changePosition(newPosition.persent)\r\n        this._video.canPlay = false\r\n        if (this._video.playing) {\r\n            this._video.stop()\r\n        }\r\n        this._video.elem.currentTime = newPosition.currentTime\r\n    }\r\n\r\n    // Запуск видео после перемотки по клику\r\n    _mouseupOnProgressBarToRewindVideoHandler = () => {\r\n        if (!this._videoProgress.clickOnVideoProgress) return // Если нажали мышкой на видео-прогресс-баре во время перемотки стрелками, а отпустили после перемотки стрелками - такой \"mouseup\" не должен обрабатываться!!!\r\n        if (this._videoPointer.clickOnVideoPointer) return // Если нажат ползунок видео - клик по видео-прогресс-бару не обрабатываем!!!\r\n        if (this._videoPointer.moveArrows) return // При перемотке видео стрелками клавиатуры (влево/вправо) перемотка кликом не будет работать!!!\r\n        document.removeEventListener('mouseup', this._mouseupOnProgressBarToRewindVideoHandler) // Отписываемся от прослушивания события отпускания кнопки мыши (mouseup) на всем документе\r\n        this._videoProgress.clickOnVideoProgress = false // Показываем, что закончили клик на ползунке видено\r\n        if (!this._loader.isShowing) this._loader.show() // Показываем лоадер после перемотки видео методом тыка курсором на произвольном месте прогресс-видео-бара\r\n        if (this._video.pause) return // Не запускаем видео после перетаскивания, так как оно стоит на паузе\r\n        if (!this._video.canPlay) return // Если видео не готово к воспроизведению - даже не проверяем, нужно ли его запустить\r\n        if (!this._video.pause) {\r\n            this._video.play() // Если видео было запущено до начала перетаскивания ползунка видео - воспроизводим его\r\n            this._video.canPlay = true\r\n        }\r\n    }\r\n\r\n    // Вычисляем позицию и текущее время воспроизведения видео при перетаскивании ползунка\r\n    _calculateNewPositionPointerProgressOnDrag = (clientX) => {\r\n        const offsetLeft = getOffsetLeft(this._videoProgress.elem.container)\r\n        const offsetWidth = getOffsetWidth(this._videoProgress.elem.container)\r\n        let x\r\n        if (clientX < offsetLeft) {\r\n            x = 0\r\n        } else if (clientX > offsetLeft + offsetWidth) {\r\n            x = offsetWidth\r\n        } else {\r\n            x = clientX - offsetLeft\r\n        }\r\n        const persent = x / offsetWidth * 100\r\n        const currentTime = x * this._video.elem.duration / offsetWidth\r\n        return {\r\n            persent: persent,\r\n            currentTime: currentTime\r\n        }\r\n    }\r\n\r\n    // Показываем текущее время и меняем позицию прогресс-видео-бара и ползунка видео\r\n    _showTimeChangeProgressPointerPosition = () => {\r\n        this._showTimesHandler() // Показываем текущее время на панели управления видео\r\n        this._videoPointer.changePosition(this._calculateNewPositionPointerProgress()) //\r\n        this._videoProgress.changePosition(this._calculateNewPositionPointerProgress()) //\r\n    }\r\n\r\n    // Перемотка видео по нажатию стрелок (событие keydown)\r\n    _pressedArrowsLeftRightKeyDownHandler = (evt) => {\r\n        if (this._videoPointer.clickOnVideoPointer) return // Если ползунок видео находится в \"нажатом\" режиме - перемотка стрелкамп не будет работать!!!\r\n        if (this._videoProgress.clickOnVideoProgress) return // Если нажат видео-прогресс-бар - клавиши стрелки не должны работать!!!\r\n        if (!(evt.code === 'ArrowRight' || evt.code === 'ArrowLeft')) return // Елси пользователь нажал что-то кроме стрелок влево/вправо - дальнейший код не запустится!!!\r\n        this._videoPointer.moveArrows = true // Указатель на то, что перемещаем ползунок видео стрелками клавиатуры\r\n        this._video.canPlay = false\r\n        this._planingToHideControlsAndVolumeHandler() // При нажатии стрелок перемотки видео появляются панели управления видео и звуком\r\n        if (this._video.playing) {\r\n            this._video.stop()\r\n            console.log('stop')\r\n        }\r\n        if (evt.code === 'ArrowRight') {\r\n            this._video.elem.currentTime += 5\r\n            this._showTimeChangeProgressPointerPosition() // Показываем время и меняем позицию на прогресс-баре\r\n        } else {\r\n            this._video.elem.currentTime -= 5\r\n            this._showTimeChangeProgressPointerPosition() // Показываем время и меняем позицию на прогресс-баре\r\n        }\r\n    }\r\n\r\n    // После отпускания клавиш стрелок на клавиатуре сигнализируем, что перемотка стрелками закончена (например, для следующего перетаскивания ползунка видео) (событие keyup)\r\n    _pressedArrowsLeftRightKeyUpHandler = () => {\r\n        if (!this._videoPointer.moveArrows) return // Если нажатие стрелки произошло во время перетаскивания ползунка видео или клика на прогрес баре, то не изменился статус, была ли нажата кнопка мыши (не было keydown), соответственно, не нужно обрабатывать и отпускание (mouseup)\r\n        if (this._videoPointer.clickOnVideoPointer) return // Если нажат ползунок видео - клик по видео-прогресс-бару не обрабатываем!!!\r\n        if (this._videoProgress.clickOnVideoProgress) return // Если нажат видео-прогресс-бар - клавиши стрелки не должны работать!!!\r\n        this._videoPointer.moveArrows = false\r\n        if (!this._loader.isShowing) this._loader.show() // Отображаем лоадер после перемотки видео стрелками на клавиатуре\r\n        if (this._video.pause) return // Не запускаем видео после перетаскивания, так как оно стоит на паузе\r\n        if (!this._video.canPlay) return // Если видео не готово к воспроизведению - даже не проверяем, нужно ли его запустить\r\n        this._video.play() // Если видео было запущено до начала перетаскивания ползунка видео - воспроизводим его\r\n        this._video.canPlay = true\r\n    }\r\n    // ПЕРЕМОТКА ВИДЕО КОНЕЦ\r\n\r\n\r\n\r\n    // ПАУЗА/СТАРТ НАЧАЛО\r\n    // Функция запускающая/ставящая на паузу воспроизведение видео\r\n    _playPauseVideo = () => {\r\n        if (this._video.waiting) return // Если видео в ожидании подгрузки - пауза не нажимается\r\n        if (!this._video.canPlay) return // Если видео не готово к воспроизведению - пауза не нажимается\r\n        if (this._videoPointer.clickOnVideoPointer) return // Если ползунок видео перемещается или нажат - паузу не нажимаем\r\n        if (this._videoProgress.clickOnVideoProgress) return // Если происходит клик по видео-прогресс-баре - пауза не должна нажиматся\r\n        if (this._videoPointer.moveArrows) return // Если ползунок перемещаем стрелками клавиатуры - пауза не нажимается\r\n        if (this._video.pause) { // Если видео стояло на паузе\r\n            this._video.play() // Запускаем его\r\n            this._video.pause = false // Изменяем маркер паузы\r\n            this._pause.hide() // Прячем иконку паузы\r\n        } else { // Если видео проигрывалось\r\n            this._video.stop() // Останавливаем его\r\n            this._video.pause = true // Изменяем маркер паузы\r\n            this._pause.show() // Показываем иконку паузы\r\n        }\r\n        this._planingToHideControlsAndVolumeHandler() // Показываем панели управления видео и звуком, если видео ставится на паузу\r\n    }\r\n\r\n    // Функция, которая проверяет, была ли нажата клавиша \"Пропуск\" и если была - запускает функцию остановки/запуска воспроизведения видео\r\n    _pressedSpaceKeyHandler = (evt) => {\r\n        if (evt.code !== 'Space') return\r\n        this._playPauseVideo()\r\n    }\r\n    // ПАУЗА/СТАРТ КОНЕЦ\r\n\r\n\r\n\r\n    // ЗВУК НАЧАЛО\r\n    // При вращении колесика мыши добавляем/убираем громкость\r\n    _changeVolumeScrollHandler = (evt) => {\r\n        let delta = evt.deltaY || evt.detail || evt.wheelDelta\r\n        delta = -Number((delta / 1000).toFixed(1));\r\n        if ((this._video.elem.volume + delta >= 0) && (this._video.elem.volume + delta <= 1)) {\r\n            this._video.elem.volume = Number((this._video.elem.volume + delta).toFixed(1))\r\n        }\r\n        this._volume.elem.progress.style.height = `${this._video.elem.volume * 100}%`\r\n        this._planingToHideVolumeHandler()\r\n    }\r\n\r\n    // При нажатии на стрелку вверх/вниз добавляем/убираем громкость\r\n    _changeVolumeArrowsHandler = (evt) => {\r\n        if (!(evt.code === 'ArrowUp' || evt.code === 'ArrowDown')) return\r\n        this._planingToHideVolumeHandler() // Показываем панель управления громкостью и планируем ее скрытие\r\n        if (evt.code === 'ArrowUp') {\r\n            if (Number((this._video.elem.volume + 0.1).toFixed(1)) <= 1) {\r\n                this._video.elem.volume = Number((this._video.elem.volume + 0.1).toFixed(1))\r\n                this._volume.elem.progress.style.height = `${this._video.elem.volume * 100}%`\r\n            }\r\n        } else {\r\n            if (Number((this._video.elem.volume - 0.1).toFixed(1)) >= 0) {\r\n                this._video.elem.volume = Number((this._video.elem.volume - 0.1).toFixed(1))\r\n                this._volume.elem.progress.style.height = `${this._video.elem.volume * 100}%`\r\n            }\r\n        }\r\n    }\r\n\r\n    // По щелчку на индикаторе громкости меняем громкость\r\n    _changeVolumeClickHandler = (evt) => {\r\n        let y = evt.clientY - getOffsetTop(this._volume.elem.container)\r\n        if (y >= 95) {\r\n            this._video.elem.volume = 0\r\n            this._volume.elem.progress.style.height = `${this._video.elem.volume * 100}%`\r\n        } else if (y >= 85) {\r\n            this._video.elem.volume = 0.1\r\n            this._volume.elem.progress.style.height = `${this._video.elem.volume * 100}%`\r\n        } else if (y >= 75) {\r\n            this._video.elem.volume = 0.2\r\n            this._volume.elem.progress.style.height = `${this._video.elem.volume * 100}%`\r\n        } else if (y >= 65) {\r\n            this._video.elem.volume = 0.3\r\n            this._volume.elem.progress.style.height = `${this._video.elem.volume * 100}%`\r\n        } else if (y >= 55) {\r\n            this._video.elem.volume = 0.4\r\n            this._volume.elem.progress.style.height = `${this._video.elem.volume * 100}%`\r\n        } else if (y >= 45) {\r\n            this._video.elem.volume = 0.5\r\n            this._volume.elem.progress.style.height = `${this._video.elem.volume * 100}%`\r\n        } else if (y >= 35) {\r\n            this._video.elem.volume = 0.6\r\n            this._volume.elem.progress.style.height = `${this._video.elem.volume * 100}%`\r\n        } else if (y >= 25) {\r\n            this._video.elem.volume = 0.7\r\n            this._volume.elem.progress.style.height = `${this._video.elem.volume * 100}%`\r\n        } else if (y >= 15) {\r\n            this._video.elem.volume = 0.8\r\n            this._volume.elem.progress.style.height = `${this._video.elem.volume * 100}%`\r\n        } else if (y >= 5) {\r\n            this._video.elem.volume = 0.9\r\n            this._volume.elem.progress.style.height = `${this._video.elem.volume * 100}%`\r\n        } else if (y < 5) {\r\n            this._video.elem.volume = 1\r\n            this._volume.elem.progress.style.height = `${this._video.elem.volume * 100}%`\r\n        }\r\n    }\r\n    // ЗВУК КОНЕЦ\r\n\r\n\r\n\r\n    // ПОКАЗ/СКРЫТИЕ ПАНЕЛЕЙ УПРАВЛЕНИЯ видео НАЧАЛО\r\n    // Отменяем запланированное предыдущее скрытие и планируем новое скрытие панелей управления видео\r\n    _planingToHideControlsAndVolumeHandler = () => {\r\n        if (!this._controls.isVisible) this._controls.show()\r\n        if (!this._volume.isVisible) this._volume.show()\r\n        if (this._timerId) { // Очищаем таймер предыдущего запуска планирования скрытия панелей\r\n            clearTimeout(this._timerId)\r\n            this._timerId = null\r\n        } // Отменяем предыдущее скрытие панелей управления\r\n        if (this._inControls) return // Если курсор мыши размещяется над панелями управления - не планируем скрытие этих панелей\r\n        if (this._video.pause) return // Если видео стоит на паузе - не планируем скрывать панели управления видео и звуком\r\n        if (this._videoPointer.moving) return // Если перетаскиваем ползунок видео - панели не скрываем\r\n        this._timerId = setTimeout(() => { // Если курсор мыши не пребывает над панелями управления - планируем скрытие этих панелей\r\n            this._volume.hide()\r\n            this._controls.hide()\r\n        }, this._timeout)\r\n    }\r\n\r\n    // Отменяем запланированное предыдущее скрытие и планируем новое скрытие панели управления звуком\r\n    _planingToHideVolumeHandler = () => {\r\n        if (!this._volume.isVisible) this._volume.show()\r\n        if (this._timerId) { // Очищаем таймер предыдущего запуска планирования скрытия панелей\r\n            clearTimeout(this._timerId)\r\n            this._timerId = null\r\n        } // Отменяем предыдущее скрытие панелей управления\r\n        if (this._inControls) return // Если курсор мыши размещяется над панелями управления - не планируем скрытие этих панелей\r\n        if (this._video.pause) return // Если видео стоит на паузе - не планируем скрывать панели управления видео и звуком\r\n        if (this._videoPointer.moving) return // Если перетаскиваем ползунок видео - панели не скрываем\r\n        this._timerId = setTimeout(() => { // Если курсор мыши не пребывает над панелями управления - планируем скрытие этих панелей\r\n            this._volume.hide()\r\n            if (this._controls.isVisible) this._controls.hide()\r\n        }, this._timeout)\r\n    }\r\n\r\n    // При попадании указателя мыши на панели управления видео индикатор _inControls переходит в состояние true\r\n    _mouseEnterToControlsHandler = () => {\r\n        this._inControls = true\r\n    }\r\n\r\n    // При попадании указателя мыши на панели управления видео индикатор _inControls переходит в состояние true\r\n    _mouseLeaveToControlsHandler = () => {\r\n        this._inControls = false\r\n    }\r\n    // ПОКАЗ/СКРЫТИЕ ПАНЕЛЕЙ УПРАВЛЕНИЯ видео КОНЕЦ\r\n\r\n\r\n\r\n    // Перевод плеера в полноэкранный режим/выход из полноэкранного режима\r\n    _fullScreenModeHandler = () => {\r\n        if (!document.fullscreenElement) {\r\n            if (this._videoBackground.elem.requestFullScreen) {\r\n                this._videoBackground.elem.requestFullScreen()\r\n            } else if(this._videoBackground.elem.mozRequestFullScreen) {\r\n                this._videoBackground.elem.mozRequestFullScreen()\r\n            } else if(this._videoBackground.elem.webkitRequestFullScreen) {\r\n                this._videoBackground.elem.webkitRequestFullScreen()\r\n            }\r\n        } else {\r\n            if (document.cancelFullScreen) {\r\n                document.cancelFullScreen()\r\n            } else if(document.mozCancelFullScreen) {\r\n                document.mozCancelFullScreen()\r\n            } else if(document.webkitCancelFullScreen) {\r\n                document.webkitCancelFullScreen()\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n    // НАЧАЛЬНЫЕ УСТАНОВКИ И ПОДПИСКИ НА СОБЫТИЯ ПЛЕЕРА ПЕРЕД НАЧАЛОМ ВОСПРОИЗВЕДЕНИЯ\r\n    _initialPlayer = () => {\r\n        // Подписки для воспроизведения/перемотки видео\r\n        this._video.elem.addEventListener('timeupdate', this._updateVideoTime) // Подписываемся на обновление времени\r\n        this._videoPointer.elem.addEventListener('mousedown', this._startDragVideoPointer) // Подписываемся на начало перетаскивания ползунка видео\r\n        this._video.elem.addEventListener('canplaythrough', this._canplaythrough) // Подписываемся на событие готовности к долгосрочному воспроизведению видео\r\n        document.addEventListener('keydown', this._pressedSpaceKeyHandler) // Подписываемся на нажатие пробела для паузы/воспроизведения\r\n        this._video.elem.addEventListener('click', this._playPauseVideo) // Подписываемся на прослушивание события клика для паузы/воспроизведения\r\n        this._pause.elem.addEventListener('click', this._playPauseVideo) // Подписываемся на прослушивание события клика на кнопке паузы для паузы/воспроизведения\r\n        document.addEventListener('keydown', this._pressedArrowsLeftRightKeyDownHandler) // Подписываемся на прослушивание события нажатия срелок влево/вправо для перемотки воспроизведения видео\r\n        document.addEventListener('keyup', this._pressedArrowsLeftRightKeyUpHandler) // Подписываемся на прослушивание события отпускания клавишей стрелов влево/вправо для запуска воспроизведения видео\r\n        this._videoProgress.elem.container.addEventListener('mousedown', this._mousedownOnProgressBarToRewindVideoHandler) // Подписываемся на прослушивание события нажатие кнопки мыши (mousedown) для перемотки видео до кликнутого состояния\r\n        this._videoContainer.elem.addEventListener('mousewheel', this._changeVolumeScrollHandler) // Подписываемся на прослушивание события вращения колесика мыши для изменения громкости видео\r\n        document.addEventListener('keydown', this._changeVolumeArrowsHandler) // Подписываемся на прослушивание события нажатия стрелок вверх/вниз для изменения уровня громкости видео\r\n        this._volume.elem.container.addEventListener('click', this._changeVolumeClickHandler) // Подписываемся на прослушивание события клика на индикаторе громкости для изменения громкости\r\n        this._video.elem.addEventListener('canplay', this._canplayHandler) // Добавляем обработчик останова видео поготовности, если начинаем изменять позицию воспроизведения видео из состояния waiting (по достижению состояния canplay нужно останавливать видео, так как обычная остановка видео из состояния waiting не работает!!!)\r\n        // Подписки для скрытия панелей управления\r\n        this._controls.elem.addEventListener('mouseenter', this._mouseEnterToControlsHandler) // Подписываемся на прослушивание события помещения мыши над панелью управления видео\r\n        this._volume.elem.container.addEventListener('mouseenter', this._mouseEnterToControlsHandler) // Подписываемся на прослушивание события помещения мыши над панелью управления звуком\r\n        this._controls.elem.addEventListener('mouseleave', this._mouseLeaveToControlsHandler) // Подписываемся на прослушивание события выхода из пребывания курсора мыши над панелью управления видео\r\n        this._volume.elem.container.addEventListener('mouseleave', this._mouseLeaveToControlsHandler) // Подписываемся на прослушивание события выхода из пребывания курсора мыши над панелью управления звуком\r\n        this._videoContainer.elem.addEventListener('mousemove', this._planingToHideControlsAndVolumeHandler) // Подписываемся на прослушивание события перемещения мыши для отмены старого планирования скрытия панелей управления видео и планирования нового скрытия панелей управления видео\r\n        // Подписки на отображения лоадера\r\n        this._video.elem.addEventListener('waiting', this._loader.show) // Подписываемся на прослушивание события waiting для показа лоадера!\r\n        this._video.elem.addEventListener('playing', this._loader.hide) // Подписываемся на прослушивание события playing для того, чтобы спрятать лоадер!\r\n        // Полноэкранный режим\r\n        this._videoBackground.elem.addEventListener('dblclick', this._fullScreenModeHandler) // Подписываемся на прослушивание события двойного клика для перехода/выхода в полноэкранный режим\r\n    }\r\n\r\n\r\n\r\n    // Удаляем все обработчики, навешанные видеоплеером!\r\n    removeEventListeners = () => {\r\n        // Отписка от начальных обработчиков для подготовки видео к воспроизведению\r\n        this._video.elem.removeEventListener('canplaythrough', this._showClickToPlayLabelHandler) // Отписываемся от прослушивания события готовности воспроизведения видео для отрисовки кнопки воспроизведения вдиое по клику\r\n        this._video.elem.removeEventListener('click', this._clickToPlayLabelHandler) // Отписываемся от прослушивания события клика по видео для начала воспроизведения видео\r\n        this._clickToPlayLabel.elem.removeEventListener('click', this._clickToPlayLabelHandler) // Отписываемся от прослушивания события клика по надписи для начала воспроизведения видео\r\n        document.removeEventListener('keydown', this._pressSpaceToPlayLabelHandler) // Отписываемся от прослушивания события нажатия клавиши Space для начала воспроизведения видео\r\n        // Отписки для воспроизведения/перемотки видео\r\n        this._video.elem.removeEventListener('timeupdate', this._updateVideoTime) // Отписываемся от прослушивания события обновления времени воспроизведения видео\r\n        this._videoPointer.elem.removeEventListener('mousedown', this._startDragVideoPointer) // Отписываемся от просшуливания события начала перетаскивания ползунка видео\r\n        this._videoPointer.elem.ondragstart = null // возвращаем стандартное поведение при стандартном Drag and Drop\r\n        this._video.elem.removeEventListener('canplaythrough', this._canplaythrough) // Отписываемся от прослушивания события готовности долгосрочного воспроизведения видео\r\n        this._video.elem.removeEventListener('ended', this._video._changeVideoPlayingStatus) // Одписываемся от события завершения воспроизведения видео (меняем статус воспроизведения видео)\r\n        document.removeEventListener('keydown', this._pressedSpaceKeyHandler) // Одписываемся от нажатие пробела для паузы/воспроизведения\r\n        this._video.elem.removeEventListener('click', this._playPauseVideo) // Отписываемся от прослушивание события клика для паузы/воспроизведения\r\n        this._pause.elem.removeEventListener('click', this._playPauseVideo) // Отписываемся от прослушивание события клика на кнопке паузы для паузы/воспроизведения\r\n        document.removeEventListener('keydown', this._pressedArrowsLeftRightKeyDownHandler) // Отписываемся от прослушивания события нажатия срелок влево/вправо для перемотки воспроизведения видео\r\n        document.removeEventListener('keyup', this._pressedArrowsLeftRightKeyUpHandler) // Отписываемся от прослушивания события \"отжатия\" стрелок влево/вправо для запуска воспроизведения видео\r\n        this._videoProgress.elem.container.removeEventListener('mousedown', this._mousedownOnProgressBarToRewindVideoHandler) // Отписываемся от прослушивания события нажатие кнопки мыши (mousedown) для перемотки видео до кликнутого состояния\r\n        document.removeEventListener('mouseup', this._mouseupOnProgressBarToRewindVideoHandler) // Отписываемся от прослушивания события отпускания кнопки мыши (mouseup) на всем документе\r\n        this._videoContainer.elem.removeEventListener('mousewheel', this._changeVolumeScrollHandler) // Отписываемся от прослушивание события вращения колесика мыши для изменения громкости видео\r\n        document.removeEventListener('keydown', this._changeVolumeArrowsHandler) // Отписываемся от прослушивания события нажатия стрелок вверх/вниз для изменения уровня громкости видео\r\n        this._volume.elem.container.removeEventListener('click', this._changeVolumeClickHandler) // Отписываемся от прослушивание события клика на индикаторе громкости для изменения громкости\r\n        this._video.elem.removeEventListener('canplay', this._canplayHandler) // Удаляем обработчик останова видео поготовности, если начинаем изменять позицию воспроизведения видео из состояния waiting (по достижению состояния canplay нужно останавливать видео, так как обычная остановка видео из состояния waiting не работает!!!)\r\n        // Отписки для скрытия панелей управления\r\n        this._controls.elem.removeEventListener('mouseenter', this._mouseEnterToControlsHandler) // Отписываемся от прослушивания события помещения мыши над панелью управления видео\r\n        this._volume.elem.container.removeEventListener('mouseenter', this._mouseEnterToControlsHandler) // Отписываемся от прослушивания события помещения мыши над панелью управления звуком\r\n        this._controls.elem.removeEventListener('mouseleave', this._mouseLeaveToControlsHandler) // Отписываемся от прослушивания события выхода из пребывания курсора мыши над панелью управления видео\r\n        this._volume.elem.container.removeEventListener('mouseleave', this._mouseLeaveToControlsHandler) // Отписываемся от прослушивания события выхода из пребывания курсора мыши над панелью управления звуком\r\n        this._videoContainer.elem.removeEventListener('mousemove', this._planingToHideControlsAndVolumeHandler) // Отписываемся от прослушивания события перемещения мыши для отмены старого планирования скрытия панелей управления видео и планирования нового скрытия панелей управления видео\r\n        // Отписки для простоя и лоадера\r\n        this._video.elem.removeEventListener('playing', this._video.playingHandler) // Отписываемся от прослушивания события playing, чтобы менять соответствующие маркеры состояния (waiting, playing, canPlay)\r\n        this._video.elem.removeEventListener('waiting', this._video.waitingHandler) // Отписываемся от прослушивания события playing, чтобы менять соответствующие маркеры состояния (waiting, playing)\r\n        this._video.elem.removeEventListener('waiting', this._loader.show) // Отписываемся от прослушивания события waiting для показа лоадера!\r\n        this._video.elem.removeEventListener('playing', this._loader.hide) // Отписываемся от прослушивания события playing для того, чтобы спрятать лоадер!\r\n        // Полноэкранный режим\r\n        this._videoBackground.elem.removeEventListener('dblclick', this._fullScreenModeHandler) // Отписываемся на прослушивание события двойного клика для перехода/выхода в полноэкранный режим\r\n    }\r\n\r\n    // Метод, позволяющий смотреть значения маркеров режимов видеоплеера\r\n    showMarkers = () => {\r\n        setInterval(() => {\r\n            console.clear()\r\n            console.log('canPlay = ', this._video.canPlay)\r\n            console.log('waiting = ', this._video.waiting)\r\n            console.log('playing = ', this._video.playing)\r\n            console.log('pause = ', this._video.pause)\r\n            console.log('inControls = ', this._inControls)\r\n            console.log('volume isVisible = ', this._volume.isVisible)\r\n            console.log('controls isVisible = ', this._controls.isVisible)\r\n            console.log('moveArrows = ', this._videoPointer.moveArrows)\r\n            console.log('clickOnVideoPointer = ', this._videoPointer.clickOnVideoPointer)\r\n            console.log('clickOnVideoProgress = ', this._videoProgress.clickOnVideoProgress)\r\n        }, 500)\r\n    }\r\n}\r\n\r\nexport default VideoPlayerObj\r\n\r\n\r\n\r\nclass ClickToPlayLabel {\r\n    constructor({elem, styles}) {\r\n        this.elem = elem\r\n        this._styles = styles\r\n    }\r\n    show = () => {\r\n        this.elem.classList.add(`${this._styles[\"clickToPlay--show\"]}`)\r\n    }\r\n    hide = () => {\r\n        this.elem.classList.remove(`${this._styles[\"clickToPlay--show\"]}`)\r\n    }\r\n}\r\n\r\nclass Video {\r\n    constructor(video) {\r\n        this.canPlay = false // Может ли воспроизводится видео (при перетаскивании оно ставится в значение false)\r\n        this.waiting = false // Прервалось ли воспроизведение видео через слабый интернет\r\n        this.playing = false // Воспроизводится ли видео (этот маркер изменяется даже тогда, когда видео останавливает/запускает не пользователь!!!)\r\n        this.pause = false // Показывает, было ли видео поставлено на паузу пользователем\r\n        this.elem = video\r\n        this.elem.addEventListener('playing', this.playingHandler)\r\n        this.elem.addEventListener('waiting', this.waitingHandler)\r\n        this.elem.addEventListener('ended', this._changeVideoPlayingStatus) // Подписываемся на событие завершения воспроизведения видео (меняем статус воспроизведения видео)\r\n    }\r\n    playingHandler = () => { // При каждом начале воспроизведения ставлю маркер canPlay в true; waiting в false; playing в true, если видео начинает воспроизводится либо командой play, либо\r\n        console.log('playing')\r\n        this.canPlay = true // При перемотке видео ползунком из состояния waiting нужно, когда видео начинает воспроизводится, поставить маркер canPlay в значение true (иначе не будет работать пауза/запуск)\r\n        this.waiting = false\r\n        if (this.elem.paused) return // При перемотке из состояния waiting (когда при canplay ставим видео на паузу) наступает событие playing, но так как видео на паузе - НЕ ставим маркер playing = true\r\n        this.playing = true\r\n    }\r\n    waitingHandler = () => { // При каждой задержке при докачке изменяем маркеры playing и waiting\r\n        this.playing = false\r\n        this.waiting = true\r\n        console.log('waiting')\r\n    }\r\n    play = () => {\r\n        this.elem.play()\r\n        this.playing = true // При запуске видео изменяем маркер playing = true\r\n    }\r\n    stop = () => {\r\n        this.elem.pause()\r\n        this.playing = false // При остановке видео изменяем маркер playing = false\r\n    }\r\n    changeVolume = (level) => {\r\n        this.elem.volume = level\r\n    }\r\n    mute = () => {\r\n        this.elem.muted = true\r\n    }\r\n    unmute = () => {\r\n        this.elem.muted = false\r\n    }\r\n    changeCurrentVideoTime = (newTime) => {\r\n        this.elem.currentTime = newTime\r\n    }\r\n    // Функция, меняющая статус воспроизведения видео (используется при окончании воспроизведения видео)\r\n    _changeVideoPlayingStatus = () => {\r\n        this.elem.playing = false\r\n    }\r\n}\r\n\r\nclass Volume {\r\n    constructor({container, progress, styles}) {\r\n        this.elem = {container, progress}\r\n        this._styles = styles\r\n        this.isVisible = false // Маркер, указывающий, отображается ли эта панель управления на экране\r\n    }\r\n    show = () => {\r\n        this.elem.container.classList.add(`${this._styles[\"volume_container--show\"]}`)\r\n        this.isVisible = true\r\n    }\r\n    hide = () => {\r\n        this.elem.container.classList.remove(`${this._styles[\"volume_container--show\"]}`)\r\n        this.isVisible = false\r\n    }\r\n    changeVolume = (level) => {\r\n        this.elem.progress.style.height = `${level * 100}%`\r\n    }\r\n}\r\n\r\nclass Controls {\r\n    constructor({elem, styles}) {\r\n        this.elem = elem\r\n        this._styles = styles\r\n        this.isVisible = false // Маркер, указывающий, отображается ли эта панель управления на экране\r\n    }\r\n    show = () => {\r\n        this.elem.classList.add(`${this._styles[\"player_controls--show\"]}`)\r\n        this.isVisible = true\r\n    }\r\n    hide = () => {\r\n        this.elem.classList.remove(`${this._styles[\"player_controls--show\"]}`)\r\n        this.isVisible = false\r\n    }\r\n}\r\n\r\nclass VideoPointer {\r\n    constructor({elem}) {\r\n        this.elem = elem\r\n        this.moveArrows = false\r\n        this.clickOnVideoPointer = false // Показывает, клацнули лы ми на ползунке видео\r\n        this.elem.ondragstart = function() { // Отмена стандартного механизма DnD (Drag and Drop)\r\n            return false\r\n        }\r\n    }\r\n    changePosition = (x) => {\r\n        this.elem.style.left = `${x}%`\r\n    }\r\n}\r\n\r\nclass VideoProgress {\r\n    constructor({elem}) {\r\n        this.elem = {}\r\n        this.elem.container = elem.container\r\n        this.elem.progress = elem.progress\r\n        this.clickOnVideoProgress = false\r\n    }\r\n    changePosition = (x) => {\r\n        this.elem.progress.style.width = `${x}%`\r\n    }\r\n}\r\n\r\nclass Pause {\r\n    constructor({elem, styles}) {\r\n        this.elem = elem\r\n        this._styles = styles\r\n    }\r\n    show = () => {\r\n        this.elem.classList.add(`${this._styles[\"pause--show\"]}`)\r\n    }\r\n    hide = () => {\r\n        this.elem.classList.remove(`${this._styles[\"pause--show\"]}`)\r\n    }\r\n}\r\n\r\nclass CTime {\r\n    constructor({elem}) {\r\n        this.elem = elem\r\n    }\r\n}\r\n\r\nclass ATime {\r\n    constructor({elem}) {\r\n        this.elem = elem\r\n    }\r\n}\r\n\r\nclass VideoContainer {\r\n    constructor({elem}) {\r\n        this.elem = elem\r\n    }\r\n}\r\n\r\nclass VideoBackground {\r\n    constructor({elem}) {\r\n        this.elem = elem\r\n    }\r\n}\r\n\r\n// Объект лоадера, который показывается, когда видео загружается, либо находится в состоянии waiting!\r\nclass Loader {\r\n    constructor({elem, styles}) {\r\n        this.elem = elem\r\n        this._styles = styles\r\n        this.isShowing = false\r\n    }\r\n    show = () => {\r\n        this.elem.classList.add(`${this._styles[\"loader--show\"]}`)\r\n        this.isShowing = true\r\n    }\r\n    hide = () => {\r\n        this.elem.classList.remove(`${this._styles[\"loader--show\"]}`)\r\n        this.isShowing = false\r\n    }\r\n}","// Берем отступ слева от прогрессбара до края страницы\r\nexport const getOffsetLeft = (containerElement) => {\r\n    let offsetLeft = 0\r\n    let container = containerElement\r\n    while (container) {\r\n        offsetLeft += container.offsetLeft\r\n        container = container.offsetParent\r\n    }\r\n    return offsetLeft\r\n}\r\n\r\n// Берем отступ сверху от прогрессбара до края страницы\r\nexport const getOffsetTop = (containerElement) => {\r\n\r\n    let offsetTop = 0\r\n    let container = containerElement\r\n    while (container) {\r\n        offsetTop += container.offsetTop\r\n        container = container.offsetParent\r\n    }\r\n    return offsetTop\r\n}\r\n\r\n// Берем ширину прогрессбара\r\nexport const getOffsetWidth = (togglerElement) => {\r\n    return togglerElement.offsetWidth\r\n}\r\n\r\n// Берем высоту прогрессбара\r\nexport const getOffsetHeight = (togglerElement) => {\r\n    return togglerElement.offsetHeight\r\n}","import React from 'react'\r\nimport { useEffect, useRef } from 'react'\r\nimport styles from './video-player.module.css'\r\nimport VideoPlayerObj from './video-player-obj'\r\nimport './loader.css'\r\n\r\n\r\nconst VideoPlayer = ({videoLink, posterLink, filmName}) => {\r\n    const video = useRef() // реф на видео\r\n    const progress = useRef() // реф на индикатор прогресса\r\n    const progressContainer = useRef() // реф на контейнер индикатора прогресса\r\n    const toggler = useRef() // реф на ползунок видео\r\n    const container = useRef() // реф на весь контейнер с видео\r\n    const background = useRef() // реф на контейнер с фоном\r\n    const controlsPanel = useRef() // реф на панель управления видео\r\n    const pause = useRef() // реф на значок с паузой\r\n    const volume = useRef() // реф для индикатора громкости\r\n    const volumeContainer = useRef() // реф для контейнера индикатора громкости\r\n    const clickToPlayLabel = useRef() // реф для надписи запуска видео\r\n    const currTime = useRef() // реф для надписи текущего времени\r\n    const allTime = useRef() // реф для надписи всего времени\r\n    const loader = useRef() // реф для лоадера\r\n    \r\n    // После загрузки видео, после клика на нем, воспроизводим видео\r\n    useEffect(() => {\r\n        const videoPlayer = new VideoPlayerObj({\r\n            video: video.current,\r\n            clickToPlayLabel: clickToPlayLabel.current,\r\n            controls: controlsPanel.current,\r\n            volumeContainer: volumeContainer.current,\r\n            volumeProgress: volume.current,\r\n            videoPointer: toggler.current,\r\n            videoProgress: {\r\n                container: progressContainer.current,\r\n                progress: progress.current\r\n            },\r\n            pause: pause.current,\r\n            cTime: currTime.current,\r\n            aTime: allTime.current,\r\n            videoContainer: container.current,\r\n            videoBackground: background.current,\r\n            loader: loader.current,\r\n            timeout: 3000,\r\n            styles: styles,\r\n        })\r\n\r\n        // videoPlayer.showMarkers() // Запускаем отображение маркеров видео-плеера\r\n\r\n        return () => {\r\n            videoPlayer.removeEventListeners()\r\n        }\r\n    }, [])\r\n\r\n\r\n    return (\r\n        <div\r\n            className={styles.playerBackground}\r\n            ref={background}\r\n        >\r\n            <div\r\n                className={styles.player_container}\r\n                ref={container}\r\n            >\r\n                <video\r\n                    ref={video}\r\n                    className={styles.player}\r\n                    src={videoLink}\r\n                    poster={posterLink}\r\n                    autoPlay={false}\r\n                    muted={true}\r\n                    controls={false}\r\n                ></video>\r\n                <div\r\n                    className={styles.player_controls}\r\n                    ref={controlsPanel}\r\n                >\r\n                    <div\r\n                        className={styles['progress_bar--grey']}\r\n                        ref={progressContainer}\r\n                    >\r\n                        <div\r\n                            className={styles.progress_bar}\r\n                            ref={progress}\r\n                        ></div>\r\n                        <div\r\n                            className={styles.toggler}\r\n                            ref={toggler}\r\n                        ></div>\r\n                    </div>\r\n                    <div className={styles.time}>\r\n                        <span\r\n                            className={styles.current_time}\r\n                            ref={currTime}\r\n                        >\r\n                            00:00:01\r\n                        </span>/\r\n                        <span\r\n                            className={styles.all_time}\r\n                            ref={allTime}\r\n                        >\r\n                            01:39:45\r\n                        </span>\r\n                        <span\r\n                            className={styles.film_name}\r\n                        >{filmName}</span>\r\n                    </div>\r\n                </div>\r\n                <div\r\n                    className={styles.volume_container}\r\n                    ref={volumeContainer}\r\n                >\r\n                    <div\r\n                        className={styles.volume_progress}\r\n                        ref={volume}\r\n                    ></div>\r\n                </div>\r\n                <div\r\n                    className={styles.pause}\r\n                    ref={pause}\r\n                >\r\n                    <div className={styles.horizontal_line}></div>\r\n                    <div className={styles.horizontal_line}></div>\r\n                </div>\r\n                <div\r\n                    className={styles.clickToPlay}\r\n                    ref={clickToPlayLabel}\r\n                >Click to PLAY</div>\r\n                <div\r\n                    className={styles.loader}\r\n                    ref={loader}\r\n                >\r\n                    <div className=\"lds-roller\">\r\n                        <div></div>\r\n                        <div></div>\r\n                        <div></div>\r\n                        <div></div>\r\n                        <div></div>\r\n                        <div></div>\r\n                        <div></div>\r\n                        <div></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default VideoPlayer","import React from \"react\";\r\nimport {useHistory} from \"react-router-dom\";\r\n\r\n\r\nconst ExitButton = () => {\r\n    const history = useHistory()\r\n\r\n    const goBackHandler = () => {\r\n        history.goBack()\r\n    }\r\n\r\n    return (\r\n        <button\r\n            type=\"button\"\r\n            className=\"player__exit\"\r\n            onClick={goBackHandler}\r\n        >\r\n            Exit\r\n        </button>\r\n    )\r\n}\r\n\r\nexport default ExitButton","import React from \"react\"\r\nimport {useLocation} from \"react-router-dom\"\r\nimport {useSelector} from \"react-redux\"\r\nimport {getFilmsFullLink, getFilmsName, getFilmsPreview} from \"../../reducers/films-slice\"\r\nimport VisuallyHidden from \"../common/visually-hidden/visually-hidden\";\r\nimport VideoPlayer from \"./video-player/video-player\";\r\nimport ExitButton from \"./exit-button/exit-button\";\r\n\r\n\r\nconst FullVideoPlayer = () => {\r\n    const location = useLocation()\r\n    const filmId = new URLSearchParams(location.search).get('filmId')\r\n\r\n    const filmFullLink = useSelector(getFilmsFullLink(filmId))\r\n    const filmPoster = useSelector(getFilmsPreview(filmId))\r\n    const filmName = useSelector(getFilmsName(filmId))\r\n\r\n\r\n    return (\r\n        <>\r\n            <VisuallyHidden/>\r\n\r\n            <div className=\"player\">\r\n\r\n                <VideoPlayer\r\n                    videoLink={filmFullLink}\r\n                    posterLink={filmPoster}\r\n                    filmName={filmName}\r\n                />\r\n\r\n                <ExitButton/>\r\n                \r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default FullVideoPlayer","import React from \"react\"\r\nimport VisuallyHidden from \"../common/visually-hidden/visually-hidden\"\r\nimport PageFooter from \"../common/page-footer/page-footer\"\r\nimport Logo from \"../common/logo/logo\";\r\nimport SingInForm from \"./sing-in-form/sing-in-form\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {login} from \"../../reducers/authorization-slice\";\r\n\r\n\r\nconst SingIn = () => {\r\n    const dispatch = useDispatch()\r\n\r\n    const submitHandler = (value) => {\r\n        dispatch(login({\r\n            user: value['user-email'],\r\n            password: value['user-password'],\r\n        }))\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n            <VisuallyHidden/>\r\n\r\n            <div className=\"user-page\">\r\n                <header className=\"page-header user-page__head\">\r\n\r\n                    <Logo/>\r\n\r\n                    <h1 className=\"page-title user-page__title\">Sign in</h1>\r\n                </header>\r\n\r\n                <div className=\"sign-in user-page__content\">\r\n\r\n                    <SingInForm\r\n                        onSubmit={submitHandler}\r\n                    />\r\n\r\n                </div>\r\n\r\n                <PageFooter/>\r\n\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\n\r\nexport default SingIn","import React from \"react\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {isErrorLoadingFilms} from \"../../../reducers/films-slice\";\r\nimport MoviesList from \"./movies-list\";\r\nimport {getFavoriteFilmsIds} from \"../../../reducers/myfilmlist-slice\";\r\n\r\nconst MyFavoriteMoviesList = () => {\r\n    const filmsIds = useSelector(getFavoriteFilmsIds)\r\n    const isErrorLoadingFilmsList = useSelector(isErrorLoadingFilms)\r\n\r\n    if (filmsIds.length === 0) {\r\n        return (\r\n            <div>Your favorite films list is clear!</div>\r\n        )\r\n    }\r\n    return <MoviesList\r\n        filmsIds={filmsIds}\r\n        isErrorLoadingFilmsList={isErrorLoadingFilmsList}\r\n    />\r\n}\r\n\r\nexport default MyFavoriteMoviesList;","import React from \"react\";\r\nimport VisuallyHidden from \"../common/visually-hidden/visually-hidden\";\r\nimport PageFooter from \"../common/page-footer/page-footer\";\r\nimport Logo from \"../common/logo/logo\";\r\nimport Avatar from \"../common/avatar/avatar\";\r\nimport MyFavoriteMoviesList from \"../main/movies-list/my-favorite-movies-list\";\r\nimport ShowMore from \"../main/ShowMore/show-more\";\r\nimport {canShowMoreOfFavorite} from \"../../reducers/myfilmlist-slice\";\r\nimport {useSelector} from \"react-redux\";\r\nimport withRedirectToLogin from \"../../hoc/redirect-to-login\";\r\n\r\n\r\nconst MyFilmList = (props) => {\r\n    const canShowMore = useSelector(canShowMoreOfFavorite)\r\n\r\n    return (\r\n        <>\r\n            <VisuallyHidden/>\r\n\r\n            <div className=\"user-page\">\r\n                <header className=\"page-header user-page__head\">\r\n\r\n                    <Logo/>\r\n\r\n                    <h1 className=\"page-title user-page__title\">My list</h1>\r\n\r\n                    <Avatar/>\r\n                </header>\r\n\r\n                <section className=\"catalog\">\r\n                    <h2 className=\"catalog__title visually-hidden\">Catalog</h2>\r\n\r\n                    <MyFavoriteMoviesList/>\r\n\r\n                    {canShowMore && <ShowMore\r\n                        from={'my-list'}\r\n                    />}\r\n\r\n                </section>\r\n\r\n                <PageFooter/>\r\n\r\n            </div>\r\n        </>\r\n\r\n    )\r\n}\r\n\r\nexport default withRedirectToLogin(MyFilmList)","import {useSelector} from \"react-redux\";\r\nimport {isAuthorized} from \"../reducers/authorization-slice\";\r\nimport {Redirect, useHistory} from \"react-router-dom\";\r\n\r\nconst withRedirectToLogin = (Component) => {\r\n    const ComponentWithRedirectToPath = (props) => {\r\n        const isUserAuthorized = useSelector(isAuthorized)\r\n        const history = useHistory()\r\n\r\n        if (!isUserAuthorized) {\r\n            return (\r\n                <Redirect push to={{\r\n                    pathname: \"/login\",\r\n                    state: { referrer: history.location.pathname }\r\n                }}  />\r\n            )\r\n        }\r\n\r\n        return (\r\n            <Component {...props}/>\r\n        )\r\n    }\r\n\r\n    return ComponentWithRedirectToPath\r\n}\r\n\r\nexport default withRedirectToLogin","import React from \"react\";\r\n\r\n\r\nconst NoMatch = () => {\r\n    return (\r\n        <div>404 page not found!</div>\r\n    )\r\n}\r\n\r\n\r\nexport default NoMatch","import React, {useEffect} from 'react';\r\nimport Main from '../main/main.jsx';\r\nimport FilmDetail from '../film-detail/film-detail.jsx';\r\nimport {Switch, Route} from \"react-router-dom\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {fetchFilms, getInitializingStatus} from \"../../reducers/films-slice\";\r\nimport Loading from \"../common/loading/loading\";\r\nimport ErrorLoading from \"../common/error-loading/error-loading\";\r\nimport FullVideoPlayer from \"../full-video-player/full-video-player\";\r\nimport SingIn from \"../sing-in/sing-in\";\r\nimport MyFilmList from \"../my-list/my-list\";\r\nimport NoMatch from \"../common/no-match/no-match\";\r\n\r\n\r\nconst App = () => {\r\n    const isInitialization = useSelector(getInitializingStatus)\r\n    const dispatch = useDispatch()\r\n\r\n    useEffect(() => {\r\n        dispatch(fetchFilms())\r\n    }, [dispatch])\r\n\r\n\r\n    return (\r\n        <Switch>\r\n            <Route exact path=\"/\">\r\n                {isInitialization === 'loading' && <Loading/>}\r\n                {isInitialization === 'failed' && <ErrorLoading/>}\r\n                {isInitialization === 'succeeded' && <Main/>}\r\n            </Route>\r\n            <Route path='/login'>\r\n                <SingIn/>\r\n            </Route>\r\n            <Route\r\n                path=\"/films/:id\"\r\n                render={({match}) =>\r\n                    <FilmDetail id={match.params.id}/>\r\n                }\r\n            />\r\n            <Route path=\"/genre/:type\"\r\n                render={({match}) =>\r\n                   <Main genreType={match.params.type}/>\r\n                }\r\n            />\r\n            <Route path=\"/play\">\r\n                <FullVideoPlayer/>\r\n            </Route>\r\n            <Route path={'/mylist'}>\r\n                <MyFilmList/>\r\n            </Route>\r\n            <Route path=\"*\">\r\n                <NoMatch />\r\n            </Route>\r\n        </Switch>\r\n    )\r\n}\r\n\r\nexport default App\r\n","import {configureStore} from \"@reduxjs/toolkit\"\r\nimport filmsReducer from \"./films-slice\"\r\nimport authorizationReducer from \"./authorization-slice\"\r\nimport myFilmListSliceReducer from \"./myfilmlist-slice\"\r\nimport {reducer as formReducer} from \"redux-form\"\r\n\r\n\r\nconst store = configureStore({\r\n    reducer: {\r\n        films: filmsReducer,\r\n        authorization: authorizationReducer,\r\n        myFilmList: myFilmListSliceReducer,\r\n        form: formReducer,\r\n    }\r\n})\r\n\r\nexport default store","import React from \"react\"\r\nimport ReactDOM from \"react-dom\"\r\nimport App from \"./components/app/app.jsx\"\r\nimport {Provider} from \"react-redux\";\r\nimport store from \"./reducers/store\";\r\nimport {HashRouter, BrowserRouter} from \"react-router-dom\";\r\n\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <HashRouter>\r\n            <App/>\r\n        </HashRouter>\r\n    </Provider>, document.getElementById(`root`)\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"loading_loader__2C0qS\",\"loaderBackground\":\"loading_loaderBackground__2MOMj\",\"errorMessage\":\"loading_errorMessage__2AVFR\"};"],"sourceRoot":""}